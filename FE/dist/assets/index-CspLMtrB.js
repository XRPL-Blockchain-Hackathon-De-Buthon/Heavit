(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var gd={exports:{}},go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function X1(){if(f0)return go;f0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var h in a)h!=="key"&&(u[h]=a[h])}else u=a;return a=u.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:u}}return go.Fragment=e,go.jsx=n,go.jsxs=n,go}var h0;function $1(){return h0||(h0=1,gd.exports=X1()),gd.exports}var K=$1(),yd={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function Q1(){if(d0)return ce;d0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function D(C,H,re){this.props=C,this.context=H,this.refs=w,this.updater=re||S}D.prototype.isReactComponent={},D.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},D.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function x(){}x.prototype=D.prototype;function P(C,H,re){this.props=C,this.context=H,this.refs=w,this.updater=re||S}var k=P.prototype=new x;k.constructor=P,T(k,D.prototype),k.isPureReactComponent=!0;var q=Array.isArray,B={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function le(C,H,re,ne,W,_e){return re=_e.ref,{$$typeof:t,type:C,key:H,ref:re!==void 0?re:null,props:_e}}function X(C,H){return le(C.type,H,void 0,void 0,void 0,C.props)}function F(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function te(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return H[re]})}var He=/\/+/g;function Wt(C,H){return typeof C=="object"&&C!==null&&C.key!=null?te(""+C.key):H.toString(36)}function Xt(){}function $t(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Xt,Xt):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function wt(C,H,re,ne,W){var _e=typeof C;(_e==="undefined"||_e==="boolean")&&(C=null);var fe=!1;if(C===null)fe=!0;else switch(_e){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(C.$$typeof){case t:case e:fe=!0;break;case g:return fe=C._init,wt(fe(C._payload),H,re,ne,W)}}if(fe)return W=W(C),fe=ne===""?"."+Wt(C,0):ne,q(W)?(re="",fe!=null&&(re=fe.replace(He,"$&/")+"/"),wt(W,H,re,"",function(Ze){return Ze})):W!=null&&(F(W)&&(W=X(W,re+(W.key==null||C&&C.key===W.key?"":(""+W.key).replace(He,"$&/")+"/")+fe)),H.push(W)),1;fe=0;var At=ne===""?".":ne+":";if(q(C))for(var we=0;we<C.length;we++)ne=C[we],_e=At+Wt(ne,we),fe+=wt(ne,H,re,_e,W);else if(we=_(C),typeof we=="function")for(C=we.call(C),we=0;!(ne=C.next()).done;)ne=ne.value,_e=At+Wt(ne,we++),fe+=wt(ne,H,re,_e,W);else if(_e==="object"){if(typeof C.then=="function")return wt($t(C),H,re,ne,W);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Y(C,H,re){if(C==null)return C;var ne=[],W=0;return wt(C,ne,"","",function(_e){return H.call(re,_e,W++)}),ne}function Z(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var J=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ce(){}return ce.Children={map:Y,forEach:function(C,H,re){Y(C,function(){H.apply(this,arguments)},re)},count:function(C){var H=0;return Y(C,function(){H++}),H},toArray:function(C){return Y(C,function(H){return H})||[]},only:function(C){if(!F(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ce.Component=D,ce.Fragment=n,ce.Profiler=a,ce.PureComponent=P,ce.StrictMode=s,ce.Suspense=d,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},ce.cache=function(C){return function(){return C.apply(null,arguments)}},ce.cloneElement=function(C,H,re){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ne=T({},C.props),W=C.key,_e=void 0;if(H!=null)for(fe in H.ref!==void 0&&(_e=void 0),H.key!==void 0&&(W=""+H.key),H)!G.call(H,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&H.ref===void 0||(ne[fe]=H[fe]);var fe=arguments.length-2;if(fe===1)ne.children=re;else if(1<fe){for(var At=Array(fe),we=0;we<fe;we++)At[we]=arguments[we+2];ne.children=At}return le(C.type,W,void 0,void 0,_e,ne)},ce.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},ce.createElement=function(C,H,re){var ne,W={},_e=null;if(H!=null)for(ne in H.key!==void 0&&(_e=""+H.key),H)G.call(H,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(W[ne]=H[ne]);var fe=arguments.length-2;if(fe===1)W.children=re;else if(1<fe){for(var At=Array(fe),we=0;we<fe;we++)At[we]=arguments[we+2];W.children=At}if(C&&C.defaultProps)for(ne in fe=C.defaultProps,fe)W[ne]===void 0&&(W[ne]=fe[ne]);return le(C,_e,void 0,void 0,null,W)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(C){return{$$typeof:h,render:C}},ce.isValidElement=F,ce.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:Z}},ce.memo=function(C,H){return{$$typeof:m,type:C,compare:H===void 0?null:H}},ce.startTransition=function(C){var H=B.T,re={};B.T=re;try{var ne=C(),W=B.S;W!==null&&W(re,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ce,J)}catch(_e){J(_e)}finally{B.T=H}},ce.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ce.use=function(C){return B.H.use(C)},ce.useActionState=function(C,H,re){return B.H.useActionState(C,H,re)},ce.useCallback=function(C,H){return B.H.useCallback(C,H)},ce.useContext=function(C){return B.H.useContext(C)},ce.useDebugValue=function(){},ce.useDeferredValue=function(C,H){return B.H.useDeferredValue(C,H)},ce.useEffect=function(C,H){return B.H.useEffect(C,H)},ce.useId=function(){return B.H.useId()},ce.useImperativeHandle=function(C,H,re){return B.H.useImperativeHandle(C,H,re)},ce.useInsertionEffect=function(C,H){return B.H.useInsertionEffect(C,H)},ce.useLayoutEffect=function(C,H){return B.H.useLayoutEffect(C,H)},ce.useMemo=function(C,H){return B.H.useMemo(C,H)},ce.useOptimistic=function(C,H){return B.H.useOptimistic(C,H)},ce.useReducer=function(C,H,re){return B.H.useReducer(C,H,re)},ce.useRef=function(C){return B.H.useRef(C)},ce.useState=function(C){return B.H.useState(C)},ce.useSyncExternalStore=function(C,H,re){return B.H.useSyncExternalStore(C,H,re)},ce.useTransition=function(){return B.H.useTransition()},ce.version="19.0.0",ce}var p0;function Fp(){return p0||(p0=1,yd.exports=Q1()),yd.exports}var O=Fp(),vd={exports:{}},yo={},_d={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function Z1(){return m0||(m0=1,function(t){function e(Y,Z){var J=Y.length;Y.push(Z);e:for(;0<J;){var Ce=J-1>>>1,C=Y[Ce];if(0<a(C,Z))Y[Ce]=Z,Y[J]=C,J=Ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var Z=Y[0],J=Y.pop();if(J!==Z){Y[0]=J;e:for(var Ce=0,C=Y.length,H=C>>>1;Ce<H;){var re=2*(Ce+1)-1,ne=Y[re],W=re+1,_e=Y[W];if(0>a(ne,J))W<C&&0>a(_e,ne)?(Y[Ce]=_e,Y[W]=J,Ce=W):(Y[Ce]=ne,Y[re]=J,Ce=re);else if(W<C&&0>a(_e,J))Y[Ce]=_e,Y[W]=J,Ce=W;else break e}}return Z}function a(Y,Z){var J=Y.sortIndex-Z.sortIndex;return J!==0?J:Y.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,y=null,_=3,S=!1,T=!1,w=!1,D=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function k(Y){for(var Z=n(m);Z!==null;){if(Z.callback===null)s(m);else if(Z.startTime<=Y)s(m),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(m)}}function q(Y){if(w=!1,k(Y),!T)if(n(d)!==null)T=!0,$t();else{var Z=n(m);Z!==null&&wt(q,Z.startTime-Y)}}var B=!1,G=-1,le=5,X=-1;function F(){return!(t.unstable_now()-X<le)}function te(){if(B){var Y=t.unstable_now();X=Y;var Z=!0;try{e:{T=!1,w&&(w=!1,x(G),G=-1),S=!0;var J=_;try{t:{for(k(Y),y=n(d);y!==null&&!(y.expirationTime>Y&&F());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,_=y.priorityLevel;var C=Ce(y.expirationTime<=Y);if(Y=t.unstable_now(),typeof C=="function"){y.callback=C,k(Y),Z=!0;break t}y===n(d)&&s(d),k(Y)}else s(d);y=n(d)}if(y!==null)Z=!0;else{var H=n(m);H!==null&&wt(q,H.startTime-Y),Z=!1}}break e}finally{y=null,_=J,S=!1}Z=void 0}}finally{Z?He():B=!1}}}var He;if(typeof P=="function")He=function(){P(te)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Xt=Wt.port2;Wt.port1.onmessage=te,He=function(){Xt.postMessage(null)}}else He=function(){D(te,0)};function $t(){B||(B=!0,He())}function wt(Y,Z){G=D(function(){Y(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,$t())},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var J=_;_=Z;try{return Y()}finally{_=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=_;_=Y;try{return Z()}finally{_=J}},t.unstable_scheduleCallback=function(Y,Z,J){var Ce=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ce+J:Ce):J=Ce,Y){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,Y={id:g++,callback:Z,priorityLevel:Y,startTime:J,expirationTime:C,sortIndex:-1},J>Ce?(Y.sortIndex=J,e(m,Y),n(d)===null&&Y===n(m)&&(w?(x(G),G=-1):w=!0,wt(q,J-Ce))):(Y.sortIndex=C,e(d,Y),T||S||(T=!0,$t())),Y},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Y){var Z=_;return function(){var J=_;_=Z;try{return Y.apply(this,arguments)}finally{_=J}}}}(Ed)),Ed}var g0;function J1(){return g0||(g0=1,_d.exports=Z1()),_d.exports}var Sd={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function ex(){if(y0)return St;y0=1;var t=Fp();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,St.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(d,m,null,g)},St.flushSync=function(d){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=g,s.d.f()}},St.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},St.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},St.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:S}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},St.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},St.requestFormReset=function(d){s.d.r(d)},St.unstable_batchedUpdates=function(d,m){return d(m)},St.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},St.useFormStatus=function(){return c.H.useHostTransitionStatus()},St.version="19.0.0",St}var v0;function tx(){if(v0)return Sd.exports;v0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sd.exports=ex(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function nx(){if(_0)return yo;_0=1;var t=J1(),e=Fp(),n=tx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),q=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var le=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===le?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case m:return"StrictMode";case w:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case T:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return r=i.displayName||null,r!==null?r:X(i.type)||"Memo";case P:r=i._payload,i=i._init;try{return X(i(r))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=Object.assign,He,Wt;function Xt(i){if(He===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);He=r&&r[1]||"",Wt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+i+Wt}var $t=!1;function wt(i,r){if(!i||$t)return"";$t=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(L){var I=L}Reflect.construct(i,[],z)}else{try{z.call()}catch(L){I=L}i.call(z.prototype)}}else{try{throw Error()}catch(L){I=L}(z=i())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),v=p[0],E=p[1];if(v&&E){var b=v.split(`
`),R=E.split(`
`);for(f=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;if(l===b.length||f===R.length)for(l=b.length-1,f=R.length-1;1<=l&&0<=f&&b[l]!==R[f];)f--;for(;1<=l&&0<=f;l--,f--)if(b[l]!==R[f]){if(l!==1||f!==1)do if(l--,f--,0>f||b[l]!==R[f]){var U=`
`+b[l].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=l&&0<=f);break}}}finally{$t=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xt(o):""}function Y(i){switch(i.tag){case 26:case 27:case 5:return Xt(i.type);case 16:return Xt("Lazy");case 13:return Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return i=wt(i.type,!1),i;case 11:return i=wt(i.type.render,!1),i;case 1:return i=wt(i.type,!0),i;default:return""}}function Z(i){try{var r="";do r+=Y(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function J(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function Ce(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function C(i){if(J(i)!==i)throw Error(s(188))}function H(i){var r=i.alternate;if(!r){if(r=J(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,l=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return C(f),i;if(p===l)return C(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=p;else{for(var v=!1,E=f.child;E;){if(E===o){v=!0,o=f,l=p;break}if(E===l){v=!0,l=f,o=p;break}E=E.sibling}if(!v){for(E=p.child;E;){if(E===o){v=!0,o=p,l=f;break}if(E===l){v=!0,l=p,o=f;break}E=E.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function re(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=re(i),r!==null)return r;i=i.sibling}return null}var ne=Array.isArray,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},fe=[],At=-1;function we(i){return{current:i}}function Ze(i){0>At||(i.current=fe[At],fe[At]=null,At--)}function Le(i,r){At++,fe[At]=i.current,i.current=r}var bn=we(null),va=we(null),Ei=we(null),Dl=we(null);function Ol(i,r){switch(Le(Ei,r),Le(va,i),Le(bn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?z_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=z_(i),r=H_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ze(bn),Le(bn,r)}function ir(){Ze(bn),Ze(va),Ze(Ei)}function of(i){i.memoizedState!==null&&Le(Dl,i);var r=bn.current,o=H_(r,i.type);r!==o&&(Le(va,i),Le(bn,o))}function Nl(i){va.current===i&&(Ze(bn),Ze(va)),Dl.current===i&&(Ze(Dl),co._currentValue=_e)}var lf=Object.prototype.hasOwnProperty,uf=t.unstable_scheduleCallback,cf=t.unstable_cancelCallback,RA=t.unstable_shouldYield,xA=t.unstable_requestPaint,Cn=t.unstable_now,DA=t.unstable_getCurrentPriorityLevel,Dg=t.unstable_ImmediatePriority,Og=t.unstable_UserBlockingPriority,Ml=t.unstable_NormalPriority,OA=t.unstable_LowPriority,Ng=t.unstable_IdlePriority,NA=t.log,MA=t.unstable_setDisableYieldValue,_a=null,Vt=null;function IA(i){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(_a,i,void 0,(i.current.flags&128)===128)}catch{}}function Si(i){if(typeof NA=="function"&&MA(i),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(_a,i)}catch{}}var Bt=Math.clz32?Math.clz32:LA,kA=Math.log,PA=Math.LN2;function LA(i){return i>>>=0,i===0?32:31-(kA(i)/PA|0)|0}var Il=128,kl=4194304;function cs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pl(i,r){var o=i.pendingLanes;if(o===0)return 0;var l=0,f=i.suspendedLanes,p=i.pingedLanes,v=i.warmLanes;i=i.finishedLanes!==0;var E=o&134217727;return E!==0?(o=E&~f,o!==0?l=cs(o):(p&=E,p!==0?l=cs(p):i||(v=E&~v,v!==0&&(l=cs(v))))):(E=o&~f,E!==0?l=cs(E):p!==0?l=cs(p):i||(v=o&~v,v!==0&&(l=cs(v)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function Ea(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function UA(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mg(){var i=Il;return Il<<=1,(Il&4194176)===0&&(Il=128),i}function Ig(){var i=kl;return kl<<=1,(kl&62914560)===0&&(kl=4194304),i}function ff(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Sa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function VA(i,r,o,l,f,p){var v=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,b=i.expirationTimes,R=i.hiddenUpdates;for(o=v&~o;0<o;){var U=31-Bt(o),z=1<<U;E[U]=0,b[U]=-1;var I=R[U];if(I!==null)for(R[U]=null,U=0;U<I.length;U++){var L=I[U];L!==null&&(L.lane&=-536870913)}o&=~z}l!==0&&kg(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(v&~r))}function kg(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Bt(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|o&4194218}function Pg(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var l=31-Bt(o),f=1<<l;f&r|i[l]&r&&(i[l]|=r),o&=~f}}function Lg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ug(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:r0(i.type))}function BA(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var Ti=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ti,kt="__reactProps$"+Ti,sr="__reactContainer$"+Ti,hf="__reactEvents$"+Ti,zA="__reactListeners$"+Ti,HA="__reactHandles$"+Ti,Vg="__reactResources$"+Ti,Ta="__reactMarker$"+Ti;function df(i){delete i[_t],delete i[kt],delete i[hf],delete i[zA],delete i[HA]}function fs(i){var r=i[_t];if(r)return r;for(var o=i.parentNode;o;){if(r=o[sr]||o[_t]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=q_(i);i!==null;){if(o=i[_t])return o;i=q_(i)}return r}i=o,o=i.parentNode}return null}function rr(i){if(i=i[_t]||i[sr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ba(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ar(i){var r=i[Vg];return r||(r=i[Vg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(i){i[Ta]=!0}var Bg=new Set,zg={};function hs(i,r){or(i,r),or(i+"Capture",r)}function or(i,r){for(zg[i]=r,i=0;i<r.length;i++)Bg.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hg={},jg={};function FA(i){return lf.call(jg,i)?!0:lf.call(Hg,i)?!1:jA.test(i)?jg[i]=!0:(Hg[i]=!0,!1)}function Ll(i,r,o){if(FA(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ul(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function zn(i,r,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+l)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fg(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qA(i){var r=Fg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Vl(i){i._valueTracker||(i._valueTracker=qA(i))}function qg(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return i&&(l=Fg(i)?i.checked?"true":"false":i.value),i=l,i!==o?(r.setValue(i),!0):!1}function Bl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var GA=/[\n"\\]/g;function Zt(i){return i.replace(GA,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pf(i,r,o,l,f,p,v,E){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),r!=null?v==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),r!=null?mf(i,v,Qt(r)):o!=null?mf(i,v,Qt(o)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Qt(E):i.removeAttribute("name")}function Gg(i,r,o,l,f,p,v,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=E?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function mf(i,r,o){r==="number"&&Bl(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function lr(i,r,o,l){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&l&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Yg(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function Kg(i,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,l=i.textContent,l===o&&l!==""&&l!==null&&(i.value=l)}function ur(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var YA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wg(i,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,o):typeof o!="number"||o===0||YA.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Xg(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&o[f]!==l&&Wg(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Wg(i,p,r[p])}function gf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(i){return WA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yf=null;function vf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cr=null,fr=null;function $g(i){var r=rr(i);if(r&&(i=r.stateNode)){var o=i[kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(pf(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==i&&l.form===i.form){var f=l[kt]||null;if(!f)throw Error(s(90));pf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===i.form&&qg(l)}break e;case"textarea":Yg(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&lr(i,!!o.multiple,r,!1)}}}var _f=!1;function Qg(i,r,o){if(_f)return i(r,o);_f=!0;try{var l=i(r);return l}finally{if(_f=!1,(cr!==null||fr!==null)&&(bu(),cr&&(r=cr,i=fr,fr=cr=null,$g(r),i)))for(r=0;r<i.length;r++)$g(i[r])}}function Ca(i,r){var o=i.stateNode;if(o===null)return null;var l=o[kt]||null;if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ef=!1;if(Bn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Ef=!1}var bi=null,Sf=null,Hl=null;function Zg(){if(Hl)return Hl;var i,r=Sf,o=r.length,l,f="value"in bi?bi.value:bi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var v=o-i;for(l=1;l<=v&&r[o-l]===f[p-l];l++);return Hl=f.slice(i,1<l?1-l:void 0)}function jl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Fl(){return!0}function Jg(){return!1}function Pt(i){function r(o,l,f,p,v){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fl:Jg,this.isPropagationStopped=Jg,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),r}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Pt(ds),Aa=te({},ds,{view:0,detail:0}),XA=Pt(Aa),Tf,bf,Ra,Gl=te({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ra&&(Ra&&i.type==="mousemove"?(Tf=i.screenX-Ra.screenX,bf=i.screenY-Ra.screenY):bf=Tf=0,Ra=i),Tf)},movementY:function(i){return"movementY"in i?i.movementY:bf}}),ey=Pt(Gl),$A=te({},Gl,{dataTransfer:0}),QA=Pt($A),ZA=te({},Aa,{relatedTarget:0}),Cf=Pt(ZA),JA=te({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),eR=Pt(JA),tR=te({},ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nR=Pt(tR),iR=te({},ds,{data:0}),ty=Pt(iR),sR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oR(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=aR[i])?!!r[i]:!1}function wf(){return oR}var lR=te({},Aa,{key:function(i){if(i.key){var r=sR[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=jl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rR[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wf,charCode:function(i){return i.type==="keypress"?jl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uR=Pt(lR),cR=te({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=Pt(cR),fR=te({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wf}),hR=Pt(fR),dR=te({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),pR=Pt(dR),mR=te({},Gl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gR=Pt(mR),yR=te({},ds,{newState:0,oldState:0}),vR=Pt(yR),_R=[9,13,27,32],Af=Bn&&"CompositionEvent"in window,xa=null;Bn&&"documentMode"in document&&(xa=document.documentMode);var ER=Bn&&"TextEvent"in window&&!xa,iy=Bn&&(!Af||xa&&8<xa&&11>=xa),sy=" ",ry=!1;function ay(i,r){switch(i){case"keyup":return _R.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hr=!1;function SR(i,r){switch(i){case"compositionend":return oy(r);case"keypress":return r.which!==32?null:(ry=!0,sy);case"textInput":return i=r.data,i===sy&&ry?null:i;default:return null}}function TR(i,r){if(hr)return i==="compositionend"||!Af&&ay(i,r)?(i=Zg(),Hl=Sf=bi=null,hr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return iy&&r.locale!=="ko"?null:r.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!bR[i.type]:r==="textarea"}function uy(i,r,o,l){cr?fr?fr.push(l):fr=[l]:cr=l,r=xu(r,"onChange"),0<r.length&&(o=new ql("onChange","change",null,o,l),i.push({event:o,listeners:r}))}var Da=null,Oa=null;function CR(i){P_(i,0)}function Yl(i){var r=ba(i);if(qg(r))return i}function cy(i,r){if(i==="change")return r}var fy=!1;if(Bn){var Rf;if(Bn){var xf="oninput"in document;if(!xf){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),xf=typeof hy.oninput=="function"}Rf=xf}else Rf=!1;fy=Rf&&(!document.documentMode||9<document.documentMode)}function dy(){Da&&(Da.detachEvent("onpropertychange",py),Oa=Da=null)}function py(i){if(i.propertyName==="value"&&Yl(Oa)){var r=[];uy(r,Oa,i,vf(i)),Qg(CR,r)}}function wR(i,r,o){i==="focusin"?(dy(),Da=r,Oa=o,Da.attachEvent("onpropertychange",py)):i==="focusout"&&dy()}function AR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yl(Oa)}function RR(i,r){if(i==="click")return Yl(r)}function xR(i,r){if(i==="input"||i==="change")return Yl(r)}function DR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zt=typeof Object.is=="function"?Object.is:DR;function Na(i,r){if(zt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!lf.call(r,f)||!zt(i[f],r[f]))return!1}return!0}function my(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gy(i,r){var o=my(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=r&&l>=r)return{node:o,offset:r-i};i=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=my(o)}}function yy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?yy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function vy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bl(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Bl(i.document)}return r}function Df(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function OR(i,r){var o=vy(r);r=i.focusedElem;var l=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&yy(r.ownerDocument.documentElement,r)){if(l!==null&&Df(r)){if(i=l.start,o=l.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=r.textContent.length,p=Math.min(l.start,f);l=l.end===void 0?p:Math.min(l.end,f),!o.extend&&p>l&&(f=l,l=p,p=f),f=gy(r,p);var v=gy(r,l);f&&v&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==v.node||o.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),p>l?(o.addRange(i),o.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var NR=Bn&&"documentMode"in document&&11>=document.documentMode,dr=null,Of=null,Ma=null,Nf=!1;function _y(i,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nf||dr==null||dr!==Bl(l)||(l=dr,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ma&&Na(Ma,l)||(Ma=l,l=xu(Of,"onSelect"),0<l.length&&(r=new ql("onSelect","select",null,r,o),i.push({event:r,listeners:l}),r.target=dr)))}function ps(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var pr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Mf={},Ey={};Bn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function ms(i){if(Mf[i])return Mf[i];if(!pr[i])return i;var r=pr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ey)return Mf[i]=r[o];return i}var Sy=ms("animationend"),Ty=ms("animationiteration"),by=ms("animationstart"),MR=ms("transitionrun"),IR=ms("transitionstart"),kR=ms("transitioncancel"),Cy=ms("transitionend"),wy=new Map,Ay="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pn(i,r){wy.set(i,r),hs(r,[i])}var Jt=[],mr=0,If=0;function Kl(){for(var i=mr,r=If=mr=0;r<i;){var o=Jt[r];Jt[r++]=null;var l=Jt[r];Jt[r++]=null;var f=Jt[r];Jt[r++]=null;var p=Jt[r];if(Jt[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}p!==0&&Ry(o,f,p)}}function Wl(i,r,o,l){Jt[mr++]=i,Jt[mr++]=r,Jt[mr++]=o,Jt[mr++]=l,If|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function kf(i,r,o,l){return Wl(i,r,o,l),Xl(i)}function Ci(i,r){return Wl(i,null,null,r),Xl(i)}function Ry(i,r,o){i.lanes|=o;var l=i.alternate;l!==null&&(l.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;f&&r!==null&&i.tag===3&&(p=i.stateNode,f=31-Bt(o),p=p.hiddenUpdates,i=p[f],i===null?p[f]=[r]:i.push(r),r.lane=o|536870912)}function Xl(i){if(50<io)throw io=0,zh=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var gr={},xy=new WeakMap;function en(i,r){if(typeof i=="object"&&i!==null){var o=xy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Z(r)},xy.set(i,r),r)}return{value:i,source:r,stack:Z(r)}}var yr=[],vr=0,$l=null,Ql=0,tn=[],nn=0,gs=null,Hn=1,jn="";function ys(i,r){yr[vr++]=Ql,yr[vr++]=$l,$l=i,Ql=r}function Dy(i,r,o){tn[nn++]=Hn,tn[nn++]=jn,tn[nn++]=gs,gs=i;var l=Hn;i=jn;var f=32-Bt(l)-1;l&=~(1<<f),o+=1;var p=32-Bt(r)+f;if(30<p){var v=f-f%5;p=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Hn=1<<32-Bt(r)+f|o<<f|l,jn=p+i}else Hn=1<<p|o<<f|l,jn=i}function Pf(i){i.return!==null&&(ys(i,1),Dy(i,1,0))}function Lf(i){for(;i===$l;)$l=yr[--vr],yr[vr]=null,Ql=yr[--vr],yr[vr]=null;for(;i===gs;)gs=tn[--nn],tn[nn]=null,jn=tn[--nn],tn[nn]=null,Hn=tn[--nn],tn[nn]=null}var Rt=null,dt=null,Se=!1,mn=null,wn=!1,Uf=Error(s(519));function vs(i){var r=Error(s(418,""));throw Pa(en(r,i)),Uf}function Oy(i){var r=i.stateNode,o=i.type,l=i.memoizedProps;switch(r[_t]=i,r[kt]=l,o){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<ro.length;o++)ve(ro[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ve("invalid",r),Gg(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vl(r);break;case"select":ve("invalid",r);break;case"textarea":ve("invalid",r),Kg(r,l.value,l.defaultValue,l.children),Vl(r)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||B_(r.textContent,o)?(l.popover!=null&&(ve("beforetoggle",r),ve("toggle",r)),l.onScroll!=null&&ve("scroll",r),l.onScrollEnd!=null&&ve("scrollend",r),l.onClick!=null&&(r.onclick=Du),r=!0):r=!1,r||vs(i)}function Ny(i){for(Rt=i.return;Rt;)switch(Rt.tag){case 3:case 27:wn=!0;return;case 5:case 13:wn=!1;return;default:Rt=Rt.return}}function Ia(i){if(i!==Rt)return!1;if(!Se)return Ny(i),Se=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||id(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&dt&&vs(i),Ny(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){dt=yn(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}dt=null}}else dt=Rt?yn(i.stateNode.nextSibling):null;return!0}function ka(){dt=Rt=null,Se=!1}function Pa(i){mn===null?mn=[i]:mn.push(i)}var La=Error(s(460)),My=Error(s(474)),Vf={then:function(){}};function Iy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zl(){}function ky(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Zl,Zl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===La?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Zl,Zl);else{if(i=Ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===La?Error(s(483)):i}throw Ua=r,La}}var Ua=null;function Py(){if(Ua===null)throw Error(s(459));var i=Ua;return Ua=null,i}var _r=null,Va=0;function Jl(i){var r=Va;return Va+=1,_r===null&&(_r=[]),ky(_r,i,r)}function Ba(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function eu(i,r){throw r.$$typeof===u?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ly(i){var r=i._init;return r(i._payload)}function Uy(i){function r(N,A){if(i){var M=N.deletions;M===null?(N.deletions=[A],N.flags|=16):M.push(A)}}function o(N,A){if(!i)return null;for(;A!==null;)r(N,A),A=A.sibling;return null}function l(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function f(N,A){return N=Li(N,A),N.index=0,N.sibling=null,N}function p(N,A,M){return N.index=M,i?(M=N.alternate,M!==null?(M=M.index,M<A?(N.flags|=33554434,A):M):(N.flags|=33554434,A)):(N.flags|=1048576,A)}function v(N){return i&&N.alternate===null&&(N.flags|=33554434),N}function E(N,A,M,V){return A===null||A.tag!==6?(A=Mh(M,N.mode,V),A.return=N,A):(A=f(A,M),A.return=N,A)}function b(N,A,M,V){var $=M.type;return $===d?U(N,A,M.props.children,V,M.key):A!==null&&(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===P&&Ly($)===A.type)?(A=f(A,M.props),Ba(A,M),A.return=N,A):(A=vu(M.type,M.key,M.props,null,N.mode,V),Ba(A,M),A.return=N,A)}function R(N,A,M,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Ih(M,N.mode,V),A.return=N,A):(A=f(A,M.children||[]),A.return=N,A)}function U(N,A,M,V,$){return A===null||A.tag!==7?(A=xs(M,N.mode,V,$),A.return=N,A):(A=f(A,M),A.return=N,A)}function z(N,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Mh(""+A,N.mode,M),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case c:return M=vu(A.type,A.key,A.props,null,N.mode,M),Ba(M,A),M.return=N,M;case h:return A=Ih(A,N.mode,M),A.return=N,A;case P:var V=A._init;return A=V(A._payload),z(N,A,M)}if(ne(A)||G(A))return A=xs(A,N.mode,M,null),A.return=N,A;if(typeof A.then=="function")return z(N,Jl(A),M);if(A.$$typeof===S)return z(N,mu(N,A),M);eu(N,A)}return null}function I(N,A,M,V){var $=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return $!==null?null:E(N,A,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case c:return M.key===$?b(N,A,M,V):null;case h:return M.key===$?R(N,A,M,V):null;case P:return $=M._init,M=$(M._payload),I(N,A,M,V)}if(ne(M)||G(M))return $!==null?null:U(N,A,M,V,null);if(typeof M.then=="function")return I(N,A,Jl(M),V);if(M.$$typeof===S)return I(N,A,mu(N,M),V);eu(N,M)}return null}function L(N,A,M,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return N=N.get(M)||null,E(A,N,""+V,$);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return N=N.get(V.key===null?M:V.key)||null,b(A,N,V,$);case h:return N=N.get(V.key===null?M:V.key)||null,R(A,N,V,$);case P:var de=V._init;return V=de(V._payload),L(N,A,M,V,$)}if(ne(V)||G(V))return N=N.get(M)||null,U(A,N,V,$,null);if(typeof V.then=="function")return L(N,A,M,Jl(V),$);if(V.$$typeof===S)return L(N,A,M,mu(A,V),$);eu(A,V)}return null}function Q(N,A,M,V){for(var $=null,de=null,ee=A,ie=A=0,ct=null;ee!==null&&ie<M.length;ie++){ee.index>ie?(ct=ee,ee=null):ct=ee.sibling;var Te=I(N,ee,M[ie],V);if(Te===null){ee===null&&(ee=ct);break}i&&ee&&Te.alternate===null&&r(N,ee),A=p(Te,A,ie),de===null?$=Te:de.sibling=Te,de=Te,ee=ct}if(ie===M.length)return o(N,ee),Se&&ys(N,ie),$;if(ee===null){for(;ie<M.length;ie++)ee=z(N,M[ie],V),ee!==null&&(A=p(ee,A,ie),de===null?$=ee:de.sibling=ee,de=ee);return Se&&ys(N,ie),$}for(ee=l(ee);ie<M.length;ie++)ct=L(ee,N,ie,M[ie],V),ct!==null&&(i&&ct.alternate!==null&&ee.delete(ct.key===null?ie:ct.key),A=p(ct,A,ie),de===null?$=ct:de.sibling=ct,de=ct);return i&&ee.forEach(function(Fi){return r(N,Fi)}),Se&&ys(N,ie),$}function ue(N,A,M,V){if(M==null)throw Error(s(151));for(var $=null,de=null,ee=A,ie=A=0,ct=null,Te=M.next();ee!==null&&!Te.done;ie++,Te=M.next()){ee.index>ie?(ct=ee,ee=null):ct=ee.sibling;var Fi=I(N,ee,Te.value,V);if(Fi===null){ee===null&&(ee=ct);break}i&&ee&&Fi.alternate===null&&r(N,ee),A=p(Fi,A,ie),de===null?$=Fi:de.sibling=Fi,de=Fi,ee=ct}if(Te.done)return o(N,ee),Se&&ys(N,ie),$;if(ee===null){for(;!Te.done;ie++,Te=M.next())Te=z(N,Te.value,V),Te!==null&&(A=p(Te,A,ie),de===null?$=Te:de.sibling=Te,de=Te);return Se&&ys(N,ie),$}for(ee=l(ee);!Te.done;ie++,Te=M.next())Te=L(ee,N,ie,Te.value,V),Te!==null&&(i&&Te.alternate!==null&&ee.delete(Te.key===null?ie:Te.key),A=p(Te,A,ie),de===null?$=Te:de.sibling=Te,de=Te);return i&&ee.forEach(function(W1){return r(N,W1)}),Se&&ys(N,ie),$}function qe(N,A,M,V){if(typeof M=="object"&&M!==null&&M.type===d&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case c:e:{for(var $=M.key;A!==null;){if(A.key===$){if($=M.type,$===d){if(A.tag===7){o(N,A.sibling),V=f(A,M.props.children),V.return=N,N=V;break e}}else if(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===P&&Ly($)===A.type){o(N,A.sibling),V=f(A,M.props),Ba(V,M),V.return=N,N=V;break e}o(N,A);break}else r(N,A);A=A.sibling}M.type===d?(V=xs(M.props.children,N.mode,V,M.key),V.return=N,N=V):(V=vu(M.type,M.key,M.props,null,N.mode,V),Ba(V,M),V.return=N,N=V)}return v(N);case h:e:{for($=M.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){o(N,A.sibling),V=f(A,M.children||[]),V.return=N,N=V;break e}else{o(N,A);break}else r(N,A);A=A.sibling}V=Ih(M,N.mode,V),V.return=N,N=V}return v(N);case P:return $=M._init,M=$(M._payload),qe(N,A,M,V)}if(ne(M))return Q(N,A,M,V);if(G(M)){if($=G(M),typeof $!="function")throw Error(s(150));return M=$.call(M),ue(N,A,M,V)}if(typeof M.then=="function")return qe(N,A,Jl(M),V);if(M.$$typeof===S)return qe(N,A,mu(N,M),V);eu(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(o(N,A.sibling),V=f(A,M),V.return=N,N=V):(o(N,A),V=Mh(M,N.mode,V),V.return=N,N=V),v(N)):o(N,A)}return function(N,A,M,V){try{Va=0;var $=qe(N,A,M,V);return _r=null,$}catch(ee){if(ee===La)throw ee;var de=on(29,ee,null,N.mode);return de.lanes=V,de.return=N,de}finally{}}}var _s=Uy(!0),Vy=Uy(!1),Er=we(null),tu=we(0);function By(i,r){i=Jn,Le(tu,i),Le(Er,r),Jn=i|r.baseLanes}function Bf(){Le(tu,Jn),Le(Er,Er.current)}function zf(){Jn=tu.current,Ze(Er),Ze(tu)}var sn=we(null),An=null;function wi(i){var r=i.alternate;Le(nt,nt.current&1),Le(sn,i),An===null&&(r===null||Er.current!==null||r.memoizedState!==null)&&(An=i)}function zy(i){if(i.tag===22){if(Le(nt,nt.current),Le(sn,i),An===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(An=i)}}else Ai()}function Ai(){Le(nt,nt.current),Le(sn,sn.current)}function Fn(i){Ze(sn),An===i&&(An=null),Ze(nt)}var nt=we(0);function nu(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var PR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},LR=t.unstable_scheduleCallback,UR=t.unstable_NormalPriority,it={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new PR,data:new Map,refCount:0}}function za(i){i.refCount--,i.refCount===0&&LR(UR,function(){i.controller.abort()})}var Ha=null,jf=0,Sr=0,Tr=null;function VR(i,r){if(Ha===null){var o=Ha=[];jf=0,Sr=Wh(),Tr={status:"pending",value:void 0,then:function(l){o.push(l)}}}return jf++,r.then(Hy,Hy),r}function Hy(){if(--jf===0&&Ha!==null){Tr!==null&&(Tr.status="fulfilled");var i=Ha;Ha=null,Sr=0,Tr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function BR(i,r){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var jy=F.S;F.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&VR(i,r),jy!==null&&jy(i,r)};var Es=we(null);function Ff(){var i=Es.current;return i!==null?i:Ne.pooledCache}function iu(i,r){r===null?Le(Es,Es.current):Le(Es,r.pool)}function Fy(){var i=Ff();return i===null?null:{parent:it._currentValue,pool:i}}var Ri=0,he=null,Ae=null,Je=null,su=!1,br=!1,Ss=!1,ru=0,ja=0,Cr=null,zR=0;function $e(){throw Error(s(321))}function qf(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!zt(i[o],r[o]))return!1;return!0}function Gf(i,r,o,l,f,p){return Ri=p,he=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=i===null||i.memoizedState===null?Ts:xi,Ss=!1,p=o(l,f),Ss=!1,br&&(p=Gy(r,o,l,f)),qy(i),p}function qy(i){F.H=Rn;var r=Ae!==null&&Ae.next!==null;if(Ri=0,Je=Ae=he=null,su=!1,ja=0,Cr=null,r)throw Error(s(300));i===null||lt||(i=i.dependencies,i!==null&&pu(i)&&(lt=!0))}function Gy(i,r,o,l){he=i;var f=0;do{if(br&&(Cr=null),ja=0,br=!1,25<=f)throw Error(s(301));if(f+=1,Je=Ae=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}F.H=bs,p=r(o,l)}while(br);return p}function HR(){var i=F.H,r=i.useState()[0];return r=typeof r.then=="function"?Fa(r):r,i=i.useState()[0],(Ae!==null?Ae.memoizedState:null)!==i&&(he.flags|=1024),r}function Yf(){var i=ru!==0;return ru=0,i}function Kf(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Wf(i){if(su){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}su=!1}Ri=0,Je=Ae=he=null,br=!1,ja=ru=0,Cr=null}function Lt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?he.memoizedState=Je=i:Je=Je.next=i,Je}function et(){if(Ae===null){var i=he.alternate;i=i!==null?i.memoizedState:null}else i=Ae.next;var r=Je===null?he.memoizedState:Je.next;if(r!==null)Je=r,Ae=i;else{if(i===null)throw he.alternate===null?Error(s(467)):Error(s(310));Ae=i,i={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Je===null?he.memoizedState=Je=i:Je=Je.next=i}return Je}var au;au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fa(i){var r=ja;return ja+=1,Cr===null&&(Cr=[]),i=ky(Cr,i,r),r=he,(Je===null?r.memoizedState:Je.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Ts:xi),i}function ou(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fa(i);if(i.$$typeof===S)return Et(i)}throw Error(s(438,String(i)))}function Xf(i){var r=null,o=he.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=au(),he.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),l=0;l<i;l++)o[l]=q;return r.index++,o}function qn(i,r){return typeof r=="function"?r(i):r}function lu(i){var r=et();return $f(r,Ae,i)}function $f(i,r,o){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var E=v=null,b=null,R=r,U=!1;do{var z=R.lane&-536870913;if(z!==R.lane?(Ee&z)===z:(Ri&z)===z){var I=R.revertLane;if(I===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),z===Sr&&(U=!0);else if((Ri&I)===I){R=R.next,I===Sr&&(U=!0);continue}else z={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(E=b=z,v=p):b=b.next=z,he.lanes|=I,Ui|=I;z=R.action,Ss&&o(p,z),p=R.hasEagerState?R.eagerState:o(p,z)}else I={lane:z,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(E=b=I,v=p):b=b.next=I,he.lanes|=z,Ui|=z;R=R.next}while(R!==null&&R!==r);if(b===null?v=p:b.next=E,!zt(p,i.memoizedState)&&(lt=!0,U&&(o=Tr,o!==null)))throw o;i.memoizedState=p,i.baseState=v,i.baseQueue=b,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Qf(i){var r=et(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var l=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=i(p,v.action),v=v.next;while(v!==f);zt(p,r.memoizedState)||(lt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,l]}function Yy(i,r,o){var l=he,f=et(),p=Se;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var v=!zt((Ae||f).memoizedState,o);if(v&&(f.memoizedState=o,lt=!0),f=f.queue,eh(Xy.bind(null,l,f,i),[i]),f.getSnapshot!==r||v||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,wr(9,Wy.bind(null,l,f,o,r),{destroy:void 0},null),Ne===null)throw Error(s(349));p||(Ri&60)!==0||Ky(l,r,o)}return o}function Ky(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=he.updateQueue,r===null?(r=au(),he.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Wy(i,r,o,l){r.value=o,r.getSnapshot=l,$y(r)&&Qy(i)}function Xy(i,r,o){return o(function(){$y(r)&&Qy(i)})}function $y(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!zt(i,o)}catch{return!0}}function Qy(i){var r=Ci(i,2);r!==null&&xt(r,i,2)}function Zf(i){var r=Lt();if(typeof i=="function"){var o=i;if(i=o(),Ss){Si(!0);try{o()}finally{Si(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:i},r}function Zy(i,r,o,l){return i.baseState=o,$f(i,Ae,typeof l=="function"?l:qn)}function jR(i,r,o,l,f){if(fu(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};F.T!==null?o(!0):p.isTransition=!1,l(p),o=r.pending,o===null?(p.next=r.pending=p,Jy(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Jy(i,r){var o=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=F.T,v={};F.T=v;try{var E=o(f,l),b=F.S;b!==null&&b(v,E),ev(i,r,E)}catch(R){Jf(i,r,R)}finally{F.T=p}}else try{p=o(f,l),ev(i,r,p)}catch(R){Jf(i,r,R)}}function ev(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){tv(i,r,l)},function(l){return Jf(i,r,l)}):tv(i,r,o)}function tv(i,r,o){r.status="fulfilled",r.value=o,nv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Jy(i,o)))}function Jf(i,r,o){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,nv(r),r=r.next;while(r!==l)}i.action=null}function nv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function iv(i,r){return r}function sv(i,r){if(Se){var o=Ne.formState;if(o!==null){e:{var l=he;if(Se){if(dt){t:{for(var f=dt,p=wn;f.nodeType!==8;){if(!p){f=null;break t}if(f=yn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){dt=yn(f.nextSibling),l=f.data==="F!";break e}}vs(l)}l=!1}l&&(r=o[0])}}return o=Lt(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iv,lastRenderedState:r},o.queue=l,o=Tv.bind(null,he,l),l.dispatch=o,l=Zf(!1),p=rh.bind(null,he,!1,l.queue),l=Lt(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,o=jR.bind(null,he,f,p,o),f.dispatch=o,l.memoizedState=i,[r,o,!1]}function rv(i){var r=et();return av(r,Ae,i)}function av(i,r,o){r=$f(i,r,iv)[0],i=lu(qn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Fa(r):r;var l=et(),f=l.queue,p=f.dispatch;return o!==l.memoizedState&&(he.flags|=2048,wr(9,FR.bind(null,f,o),{destroy:void 0},null)),[r,p,i]}function FR(i,r){i.action=r}function ov(i){var r=et(),o=Ae;if(o!==null)return av(r,o,i);et(),r=r.memoizedState,o=et();var l=o.queue.dispatch;return o.memoizedState=i,[r,l,!1]}function wr(i,r,o,l){return i={tag:i,create:r,inst:o,deps:l,next:null},r=he.updateQueue,r===null&&(r=au(),he.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,r.lastEffect=i),i}function lv(){return et().memoizedState}function uu(i,r,o,l){var f=Lt();he.flags|=i,f.memoizedState=wr(1|r,o,{destroy:void 0},l===void 0?null:l)}function cu(i,r,o,l){var f=et();l=l===void 0?null:l;var p=f.memoizedState.inst;Ae!==null&&l!==null&&qf(l,Ae.memoizedState.deps)?f.memoizedState=wr(r,o,p,l):(he.flags|=i,f.memoizedState=wr(1|r,o,p,l))}function uv(i,r){uu(8390656,8,i,r)}function eh(i,r){cu(2048,8,i,r)}function cv(i,r){return cu(4,2,i,r)}function fv(i,r){return cu(4,4,i,r)}function hv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function dv(i,r,o){o=o!=null?o.concat([i]):null,cu(4,4,hv.bind(null,r,i),o)}function th(){}function pv(i,r){var o=et();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&qf(r,l[1])?l[0]:(o.memoizedState=[i,r],i)}function mv(i,r){var o=et();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&qf(r,l[1]))return l[0];if(l=i(),Ss){Si(!0);try{i()}finally{Si(!1)}}return o.memoizedState=[l,r],l}function nh(i,r,o){return o===void 0||(Ri&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=y_(),he.lanes|=i,Ui|=i,o)}function gv(i,r,o,l){return zt(o,r)?o:Er.current!==null?(i=nh(i,o,l),zt(i,r)||(lt=!0),i):(Ri&42)===0?(lt=!0,i.memoizedState=o):(i=y_(),he.lanes|=i,Ui|=i,r)}function yv(i,r,o,l,f){var p=W.p;W.p=p!==0&&8>p?p:8;var v=F.T,E={};F.T=E,rh(i,!1,r,o);try{var b=f(),R=F.S;if(R!==null&&R(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=BR(b,l);qa(i,r,U,qt(i))}else qa(i,r,l,qt(i))}catch(z){qa(i,r,{then:function(){},status:"rejected",reason:z},qt())}finally{W.p=p,F.T=v}}function qR(){}function ih(i,r,o,l){if(i.tag!==5)throw Error(s(476));var f=vv(i).queue;yv(i,f,r,_e,o===null?qR:function(){return _v(i),o(l)})}function vv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:_e},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function _v(i){var r=vv(i).next.queue;qa(i,r,{},qt())}function sh(){return Et(co)}function Ev(){return et().memoizedState}function Sv(){return et().memoizedState}function GR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=qt();i=Ni(o);var l=Mi(r,i,o);l!==null&&(xt(l,r,o),Ka(l,r,o)),r={cache:Hf()},i.payload=r;return}r=r.return}}function YR(i,r,o){var l=qt();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},fu(i)?bv(r,o):(o=kf(i,r,o,l),o!==null&&(xt(o,i,l),Cv(o,r,l)))}function Tv(i,r,o){var l=qt();qa(i,r,o,l)}function qa(i,r,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(fu(i))bv(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,E=p(v,o);if(f.hasEagerState=!0,f.eagerState=E,zt(E,v))return Wl(i,r,f,0),Ne===null&&Kl(),!1}catch{}finally{}if(o=kf(i,r,f,l),o!==null)return xt(o,i,l),Cv(o,r,l),!0}return!1}function rh(i,r,o,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(i)){if(r)throw Error(s(479))}else r=kf(i,o,l,2),r!==null&&xt(r,i,2)}function fu(i){var r=i.alternate;return i===he||r!==null&&r===he}function bv(i,r){br=su=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Cv(i,r,o){if((o&4194176)!==0){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Pg(i,o)}}var Rn={readContext:Et,use:ou,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e};Rn.useCacheRefresh=$e,Rn.useMemoCache=$e,Rn.useHostTransitionStatus=$e,Rn.useFormState=$e,Rn.useActionState=$e,Rn.useOptimistic=$e;var Ts={readContext:Et,use:ou,useCallback:function(i,r){return Lt().memoizedState=[i,r===void 0?null:r],i},useContext:Et,useEffect:uv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,uu(4194308,4,hv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return uu(4194308,4,i,r)},useInsertionEffect:function(i,r){uu(4,2,i,r)},useMemo:function(i,r){var o=Lt();r=r===void 0?null:r;var l=i();if(Ss){Si(!0);try{i()}finally{Si(!1)}}return o.memoizedState=[l,r],l},useReducer:function(i,r,o){var l=Lt();if(o!==void 0){var f=o(r);if(Ss){Si(!0);try{o(r)}finally{Si(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=YR.bind(null,he,i),[l.memoizedState,i]},useRef:function(i){var r=Lt();return i={current:i},r.memoizedState=i},useState:function(i){i=Zf(i);var r=i.queue,o=Tv.bind(null,he,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:th,useDeferredValue:function(i,r){var o=Lt();return nh(o,i,r)},useTransition:function(){var i=Zf(!1);return i=yv.bind(null,he,i.queue,!0,!1),Lt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var l=he,f=Lt();if(Se){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ne===null)throw Error(s(349));(Ee&60)!==0||Ky(l,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,uv(Xy.bind(null,l,p,i),[i]),l.flags|=2048,wr(9,Wy.bind(null,l,p,o,r),{destroy:void 0},null),o},useId:function(){var i=Lt(),r=Ne.identifierPrefix;if(Se){var o=jn,l=Hn;o=(l&~(1<<32-Bt(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=ru++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=zR++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return Lt().memoizedState=GR.bind(null,he)}};Ts.useMemoCache=Xf,Ts.useHostTransitionStatus=sh,Ts.useFormState=sv,Ts.useActionState=sv,Ts.useOptimistic=function(i){var r=Lt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=rh.bind(null,he,!0,o),o.dispatch=r,[i,r]};var xi={readContext:Et,use:ou,useCallback:pv,useContext:Et,useEffect:eh,useImperativeHandle:dv,useInsertionEffect:cv,useLayoutEffect:fv,useMemo:mv,useReducer:lu,useRef:lv,useState:function(){return lu(qn)},useDebugValue:th,useDeferredValue:function(i,r){var o=et();return gv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=lu(qn)[0],r=et().memoizedState;return[typeof i=="boolean"?i:Fa(i),r]},useSyncExternalStore:Yy,useId:Ev};xi.useCacheRefresh=Sv,xi.useMemoCache=Xf,xi.useHostTransitionStatus=sh,xi.useFormState=rv,xi.useActionState=rv,xi.useOptimistic=function(i,r){var o=et();return Zy(o,Ae,i,r)};var bs={readContext:Et,use:ou,useCallback:pv,useContext:Et,useEffect:eh,useImperativeHandle:dv,useInsertionEffect:cv,useLayoutEffect:fv,useMemo:mv,useReducer:Qf,useRef:lv,useState:function(){return Qf(qn)},useDebugValue:th,useDeferredValue:function(i,r){var o=et();return Ae===null?nh(o,i,r):gv(o,Ae.memoizedState,i,r)},useTransition:function(){var i=Qf(qn)[0],r=et().memoizedState;return[typeof i=="boolean"?i:Fa(i),r]},useSyncExternalStore:Yy,useId:Ev};bs.useCacheRefresh=Sv,bs.useMemoCache=Xf,bs.useHostTransitionStatus=sh,bs.useFormState=ov,bs.useActionState=ov,bs.useOptimistic=function(i,r){var o=et();return Ae!==null?Zy(o,Ae,i,r):(o.baseState=i,[i,o.queue.dispatch])};function ah(i,r,o,l){r=i.memoizedState,o=o(l,r),o=o==null?r:te({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var oh={isMounted:function(i){return(i=i._reactInternals)?J(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var l=qt(),f=Ni(l);f.payload=r,o!=null&&(f.callback=o),r=Mi(i,f,l),r!==null&&(xt(r,i,l),Ka(r,i,l))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var l=qt(),f=Ni(l);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Mi(i,f,l),r!==null&&(xt(r,i,l),Ka(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=qt(),l=Ni(o);l.tag=2,r!=null&&(l.callback=r),r=Mi(i,l,o),r!==null&&(xt(r,i,o),Ka(r,i,o))}};function wv(i,r,o,l,f,p,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,v):r.prototype&&r.prototype.isPureReactComponent?!Na(o,l)||!Na(f,p):!0}function Av(i,r,o,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==i&&oh.enqueueReplaceState(r,r.state,null)}function Cs(i,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(i=i.defaultProps){o===r&&(o=te({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var hu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Rv(i){hu(i)}function xv(i){console.error(i)}function Dv(i){hu(i)}function du(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ov(i,r,o){try{var l=i.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lh(i,r,o){return o=Ni(o),o.tag=3,o.payload={element:null},o.callback=function(){du(i,r)},o}function Nv(i){return i=Ni(i),i.tag=3,i}function Mv(i,r,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){Ov(r,o,l)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Ov(r,o,l),typeof f!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function KR(i,r,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&Ya(r,o,f,!0),o=sn.current,o!==null){switch(o.tag){case 13:return An===null?Fh():o.alternate===null&&Fe===0&&(Fe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===Vf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),Gh(i,l,f)),!1;case 22:return o.flags|=65536,l===Vf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),Gh(i,l,f)),!1}throw Error(s(435,o.tag))}return Gh(i,l,f),Fh(),!1}if(Se)return r=sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Uf&&(i=Error(s(422),{cause:l}),Pa(en(i,o)))):(l!==Uf&&(r=Error(s(423),{cause:l}),Pa(en(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=en(l,o),f=lh(i.stateNode,l,f),bh(i,f),Fe!==4&&(Fe=2)),!1;var p=Error(s(520),{cause:l});if(p=en(p,o),to===null?to=[p]:to.push(p),Fe!==4&&(Fe=2),r===null)return!0;l=en(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=lh(o.stateNode,l,i),bh(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Vi===null||!Vi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Nv(f),Mv(f,i,o,l),bh(o,f),!1}o=o.return}while(o!==null);return!1}var Iv=Error(s(461)),lt=!1;function pt(i,r,o,l){r.child=i===null?Vy(r,null,o,l):_s(r,i.child,o,l)}function kv(i,r,o,l,f){o=o.render;var p=r.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return As(r),l=Gf(i,r,o,v,p,f),E=Yf(),i!==null&&!lt?(Kf(i,r,f),Gn(i,r,f)):(Se&&E&&Pf(r),r.flags|=1,pt(i,r,l,f),r.child)}function Pv(i,r,o,l,f){if(i===null){var p=o.type;return typeof p=="function"&&!Nh(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Lv(i,r,p,l,f)):(i=vu(o.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!yh(i,f)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Na,o(v,l)&&i.ref===r.ref)return Gn(i,r,f)}return r.flags|=1,i=Li(p,l),i.ref=r.ref,i.return=r,r.child=i}function Lv(i,r,o,l,f){if(i!==null){var p=i.memoizedProps;if(Na(p,l)&&i.ref===r.ref)if(lt=!1,r.pendingProps=l=p,yh(i,f))(i.flags&131072)!==0&&(lt=!0);else return r.lanes=i.lanes,Gn(i,r,f)}return uh(i,r,o,l,f)}function Uv(i,r,o){var l=r.pendingProps,f=l.children,p=(r.stateNode._pendingVisibility&2)!==0,v=i!==null?i.memoizedState:null;if(Ga(i,r),l.mode==="hidden"||p){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|o:o,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return Vv(i,r,l,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&iu(r,v!==null?v.cachePool:null),v!==null?By(r,v):Bf(),zy(r);else return r.lanes=r.childLanes=536870912,Vv(i,r,v!==null?v.baseLanes|o:o,o)}else v!==null?(iu(r,v.cachePool),By(r,v),Ai(),r.memoizedState=null):(i!==null&&iu(r,null),Bf(),Ai());return pt(i,r,f,o),r.child}function Vv(i,r,o,l){var f=Ff();return f=f===null?null:{parent:it._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&iu(r,null),Bf(),zy(r),i!==null&&Ya(i,r,l,!0),null}function Ga(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function uh(i,r,o,l,f){return As(r),o=Gf(i,r,o,l,void 0,f),l=Yf(),i!==null&&!lt?(Kf(i,r,f),Gn(i,r,f)):(Se&&l&&Pf(r),r.flags|=1,pt(i,r,o,f),r.child)}function Bv(i,r,o,l,f,p){return As(r),r.updateQueue=null,o=Gy(r,l,o,f),qy(i),l=Yf(),i!==null&&!lt?(Kf(i,r,p),Gn(i,r,p)):(Se&&l&&Pf(r),r.flags|=1,pt(i,r,o,p),r.child)}function zv(i,r,o,l,f){if(As(r),r.stateNode===null){var p=gr,v=o.contextType;typeof v=="object"&&v!==null&&(p=Et(v)),p=new o(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=oh,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Sh(r),v=o.contextType,p.context=typeof v=="object"&&v!==null?Et(v):gr,p.state=r.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(ah(r,o,v,l),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&oh.enqueueReplaceState(p,p.state,null),Xa(r,l,p,f),Wa(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var E=r.memoizedProps,b=Cs(o,E);p.props=b;var R=p.context,U=o.contextType;v=gr,typeof U=="object"&&U!==null&&(v=Et(U));var z=o.getDerivedStateFromProps;U=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,U||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||R!==v)&&Av(r,p,l,v),Oi=!1;var I=r.memoizedState;p.state=I,Xa(r,l,p,f),Wa(),R=r.memoizedState,E||I!==R||Oi?(typeof z=="function"&&(ah(r,o,z,l),R=r.memoizedState),(b=Oi||wv(r,o,b,l,I,R,v))?(U||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=R),p.props=l,p.state=R,p.context=v,l=b):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Th(i,r),v=r.memoizedProps,U=Cs(o,v),p.props=U,z=r.pendingProps,I=p.context,R=o.contextType,b=gr,typeof R=="object"&&R!==null&&(b=Et(R)),E=o.getDerivedStateFromProps,(R=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==z||I!==b)&&Av(r,p,l,b),Oi=!1,I=r.memoizedState,p.state=I,Xa(r,l,p,f),Wa();var L=r.memoizedState;v!==z||I!==L||Oi||i!==null&&i.dependencies!==null&&pu(i.dependencies)?(typeof E=="function"&&(ah(r,o,E,l),L=r.memoizedState),(U=Oi||wv(r,o,U,l,I,L,b)||i!==null&&i.dependencies!==null&&pu(i.dependencies))?(R||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,L,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,L,b)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=L),p.props=l,p.state=L,p.context=b,l=U):(typeof p.componentDidUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&I===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,Ga(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=_s(r,i.child,null,f),r.child=_s(r,null,o,f)):pt(i,r,o,f),r.memoizedState=p.state,i=r.child):i=Gn(i,r,f),i}function Hv(i,r,o,l){return ka(),r.flags|=256,pt(i,r,o,l),r.child}var ch={dehydrated:null,treeContext:null,retryLane:0};function fh(i){return{baseLanes:i,cachePool:Fy()}}function hh(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ln),i}function jv(i,r,o){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=i!==null&&i.memoizedState===null?!1:(nt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,i===null){if(Se){if(f?wi(r):Ai(),Se){var E=dt,b;if(b=E){e:{for(b=E,E=wn;b.nodeType!==8;){if(!E){E=null;break e}if(b=yn(b.nextSibling),b===null){E=null;break e}}E=b}E!==null?(r.memoizedState={dehydrated:E,treeContext:gs!==null?{id:Hn,overflow:jn}:null,retryLane:536870912},b=on(18,null,null,0),b.stateNode=E,b.return=r,r.child=b,Rt=r,dt=null,b=!0):b=!1}b||vs(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?r.lanes=16:r.lanes=536870912,null;Fn(r)}return E=l.children,l=l.fallback,f?(Ai(),f=r.mode,E=ph({mode:"hidden",children:E},f),l=xs(l,f,o,null),E.return=r,l.return=r,E.sibling=l,r.child=E,f=r.child,f.memoizedState=fh(o),f.childLanes=hh(i,v,o),r.memoizedState=ch,l):(wi(r),dh(r,E))}if(b=i.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(p)r.flags&256?(wi(r),r.flags&=-257,r=mh(i,r,o)):r.memoizedState!==null?(Ai(),r.child=i.child,r.flags|=128,r=null):(Ai(),f=l.fallback,E=r.mode,l=ph({mode:"visible",children:l.children},E),f=xs(f,E,o,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,_s(r,i.child,null,o),l=r.child,l.memoizedState=fh(o),l.childLanes=hh(i,v,o),r.memoizedState=ch,r=f);else if(wi(r),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var R=v.dgst;v=R,l=Error(s(419)),l.stack="",l.digest=v,Pa({value:l,source:null,stack:null}),r=mh(i,r,o)}else if(lt||Ya(i,r,o,!1),v=(o&i.childLanes)!==0,lt||v){if(v=Ne,v!==null){if(l=o&-o,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|o))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ci(i,l),xt(v,i,l),Iv}E.data==="$?"||Fh(),r=mh(i,r,o)}else E.data==="$?"?(r.flags|=128,r.child=i.child,r=l1.bind(null,i),E._reactRetry=r,r=null):(i=b.treeContext,dt=yn(E.nextSibling),Rt=r,Se=!0,mn=null,wn=!1,i!==null&&(tn[nn++]=Hn,tn[nn++]=jn,tn[nn++]=gs,Hn=i.id,jn=i.overflow,gs=r),r=dh(r,l.children),r.flags|=4096);return r}return f?(Ai(),f=l.fallback,E=r.mode,b=i.child,R=b.sibling,l=Li(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,R!==null?f=Li(R,f):(f=xs(f,E,o,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,E=i.child.memoizedState,E===null?E=fh(o):(b=E.cachePool,b!==null?(R=it._currentValue,b=b.parent!==R?{parent:R,pool:R}:b):b=Fy(),E={baseLanes:E.baseLanes|o,cachePool:b}),f.memoizedState=E,f.childLanes=hh(i,v,o),r.memoizedState=ch,l):(wi(r),o=i.child,i=o.sibling,o=Li(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,i!==null&&(v=r.deletions,v===null?(r.deletions=[i],r.flags|=16):v.push(i)),r.child=o,r.memoizedState=null,o)}function dh(i,r){return r=ph({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ph(i,r){return p_(i,r,0,null)}function mh(i,r,o){return _s(r,i.child,null,o),i=dh(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Fv(i,r,o){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),_h(i.return,r,o)}function gh(i,r,o,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=f)}function qv(i,r,o){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(pt(i,r,l.children,o),l=nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fv(i,o,r);else if(i.tag===19)Fv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(Le(nt,l),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&nu(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),gh(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&nu(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}gh(r,!0,o,null,p);break;case"together":gh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gn(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ui|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ya(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Li(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Li(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function yh(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&pu(i)))}function WR(i,r,o){switch(r.tag){case 3:Ol(r,r.stateNode.containerInfo),Di(r,it,i.memoizedState.cache),ka();break;case 27:case 5:of(r);break;case 4:Ol(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?jv(i,r,o):(wi(r),i=Gn(i,r,o),i!==null?i.sibling:null);wi(r);break;case 19:var f=(i.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(Ya(i,r,o,!1),l=(o&r.childLanes)!==0),f){if(l)return qv(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Le(nt,nt.current),l)break;return null;case 22:case 23:return r.lanes=0,Uv(i,r,o);case 24:Di(r,it,i.memoizedState.cache)}return Gn(i,r,o)}function Gv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)lt=!0;else{if(!yh(i,o)&&(r.flags&128)===0)return lt=!1,WR(i,r,o);lt=(i.flags&131072)!==0}else lt=!1,Se&&(r.flags&1048576)!==0&&Dy(r,Ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Nh(l)?(i=Cs(l,i),r.tag=1,r=zv(null,r,l,i,o)):(r.tag=0,r=uh(null,r,l,i,o));else{if(l!=null){if(f=l.$$typeof,f===T){r.tag=11,r=kv(null,r,l,i,o);break e}else if(f===x){r.tag=14,r=Pv(null,r,l,i,o);break e}}throw r=X(l)||l,Error(s(306,r,""))}}return r;case 0:return uh(i,r,r.type,r.pendingProps,o);case 1:return l=r.type,f=Cs(l,r.pendingProps),zv(i,r,l,f,o);case 3:e:{if(Ol(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,l=f.element,Th(i,r),Xa(r,p,null,o);var v=r.memoizedState;if(p=v.cache,Di(r,it,p),p!==f.cache&&Eh(r,[it],o,!0),Wa(),p=v.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Hv(i,r,p,o);break e}else if(p!==l){l=en(Error(s(424)),r),Pa(l),r=Hv(i,r,p,o);break e}else for(dt=yn(r.stateNode.containerInfo.firstChild),Rt=r,Se=!0,mn=null,wn=!0,o=Vy(r,null,p,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ka(),p===l){r=Gn(i,r,o);break e}pt(i,r,p,o)}r=r.child}return r;case 26:return Ga(i,r),i===null?(o=W_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Se||(o=r.type,i=r.pendingProps,l=Ou(Ei.current).createElement(o),l[_t]=r,l[kt]=i,mt(l,o,i),ot(l),r.stateNode=l):r.memoizedState=W_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return of(r),i===null&&Se&&(l=r.stateNode=G_(r.type,r.pendingProps,Ei.current),Rt=r,wn=!0,dt=yn(l.firstChild)),l=r.pendingProps.children,i!==null||Se?pt(i,r,l,o):r.child=_s(r,null,l,o),Ga(i,r),r.child;case 5:return i===null&&Se&&((f=l=dt)&&(l=C1(l,r.type,r.pendingProps,wn),l!==null?(r.stateNode=l,Rt=r,dt=yn(l.firstChild),wn=!1,f=!0):f=!1),f||vs(r)),of(r),f=r.type,p=r.pendingProps,v=i!==null?i.memoizedProps:null,l=p.children,id(f,p)?l=null:v!==null&&id(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Gf(i,r,HR,null,null,o),co._currentValue=f),Ga(i,r),pt(i,r,l,o),r.child;case 6:return i===null&&Se&&((i=o=dt)&&(o=w1(o,r.pendingProps,wn),o!==null?(r.stateNode=o,Rt=r,dt=null,i=!0):i=!1),i||vs(r)),null;case 13:return jv(i,r,o);case 4:return Ol(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=_s(r,null,l,o):pt(i,r,l,o),r.child;case 11:return kv(i,r,r.type,r.pendingProps,o);case 7:return pt(i,r,r.pendingProps,o),r.child;case 8:return pt(i,r,r.pendingProps.children,o),r.child;case 12:return pt(i,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,Di(r,r.type,l.value),pt(i,r,l.children,o),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,As(r),f=Et(f),l=l(f),r.flags|=1,pt(i,r,l,o),r.child;case 14:return Pv(i,r,r.type,r.pendingProps,o);case 15:return Lv(i,r,r.type,r.pendingProps,o);case 19:return qv(i,r,o);case 22:return Uv(i,r,o);case 24:return As(r),l=Et(it),i===null?(f=Ff(),f===null&&(f=Ne,p=Hf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:l,cache:f},Sh(r),Di(r,it,f)):((i.lanes&o)!==0&&(Th(i,r),Xa(r,null,null,o),Wa()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Di(r,it,l)):(l=p.cache,Di(r,it,l),l!==f.cache&&Eh(r,[it],o,!0))),pt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var vh=we(null),ws=null,Yn=null;function Di(i,r,o){Le(vh,r._currentValue),r._currentValue=o}function Kn(i){i._currentValue=vh.current,Ze(vh)}function _h(i,r,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===o)break;i=i.return}}function Eh(i,r,o,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var b=0;b<r.length;b++)if(E.context===r[b]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),_h(p.return,o,i),l||(v=null);break e}p=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=o,p=v.alternate,p!==null&&(p.lanes|=o),_h(v,o,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ya(i,r,o,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=f.type;zt(f.pendingProps.value,v.value)||(i!==null?i.push(E):i=[E])}}else if(f===Dl.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(co):i=[co])}f=f.return}i!==null&&Eh(r,i,o,l),r.flags|=262144}function pu(i){for(i=i.firstContext;i!==null;){if(!zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function As(i){ws=i,Yn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Et(i){return Yv(ws,i)}function mu(i,r){return ws===null&&As(i),Yv(i,r)}function Yv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Yn===null){if(i===null)throw Error(s(308));Yn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yn=Yn.next=r;return o}var Oi=!1;function Sh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ni(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mi(i,r,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Xl(i),Ry(i,null,o),r}return Wl(i,l,r,o),Xl(i)}function Ka(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Pg(i,o)}}function bh(i,r){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ch=!1;function Wa(){if(Ch){var i=Tr;if(i!==null)throw i}}function Xa(i,r,o,l){Ch=!1;var f=i.updateQueue;Oi=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var b=E,R=b.next;b.next=null,v===null?p=R:v.next=R,v=b;var U=i.alternate;U!==null&&(U=U.updateQueue,E=U.lastBaseUpdate,E!==v&&(E===null?U.firstBaseUpdate=R:E.next=R,U.lastBaseUpdate=b))}if(p!==null){var z=f.baseState;v=0,U=R=b=null,E=p;do{var I=E.lane&-536870913,L=I!==E.lane;if(L?(Ee&I)===I:(l&I)===I){I!==0&&I===Sr&&(Ch=!0),U!==null&&(U=U.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Q=i,ue=E;I=r;var qe=o;switch(ue.tag){case 1:if(Q=ue.payload,typeof Q=="function"){z=Q.call(qe,z,I);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ue.payload,I=typeof Q=="function"?Q.call(qe,z,I):Q,I==null)break e;z=te({},z,I);break e;case 2:Oi=!0}}I=E.callback,I!==null&&(i.flags|=64,L&&(i.flags|=8192),L=f.callbacks,L===null?f.callbacks=[I]:L.push(I))}else L={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},U===null?(R=U=L,b=z):U=U.next=L,v|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;L=E,E=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);U===null&&(b=z),f.baseState=b,f.firstBaseUpdate=R,f.lastBaseUpdate=U,p===null&&(f.shared.lanes=0),Ui|=v,i.lanes=v,i.memoizedState=z}}function Kv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Wv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Kv(o[i],r)}function $a(i,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&i)===i){l=void 0;var p=o.create,v=o.inst;l=p(),v.destroy=l}o=o.next}while(o!==f)}}catch(E){Oe(r,r.return,E)}}function Ii(i,r,o){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=r;var b=o;try{E()}catch(R){Oe(f,b,R)}}}l=l.next}while(l!==p)}}catch(R){Oe(r,r.return,R)}}function Xv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Wv(r,o)}catch(l){Oe(i,i.return,l)}}}function $v(i,r,o){o.props=Cs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(l){Oe(i,r,l)}}function Rs(i,r){try{var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(p){Oe(i,r,p)}}function Ht(i,r){var o=i.ref,l=i.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){Oe(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Oe(i,r,f)}else o.current=null}function Qv(i){var r=i.type,o=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){Oe(i,i.return,f)}}function Zv(i,r,o){try{var l=i.stateNode;_1(l,i.type,o,r),l[kt]=r}catch(f){Oe(i,i.return,f)}}function Jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function wh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ah(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Du));else if(l!==4&&l!==27&&(i=i.child,i!==null))for(Ah(i,r,o),i=i.sibling;i!==null;)Ah(i,r,o),i=i.sibling}function gu(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(l!==4&&l!==27&&(i=i.child,i!==null))for(gu(i,r,o),i=i.sibling;i!==null;)gu(i,r,o),i=i.sibling}var Wn=!1,je=!1,Rh=!1,e_=typeof WeakSet=="function"?WeakSet:Set,ut=null,t_=!1;function XR(i,r){if(i=i.containerInfo,td=Lu,i=vy(i),Df(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,E=-1,b=-1,R=0,U=0,z=i,I=null;t:for(;;){for(var L;z!==o||f!==0&&z.nodeType!==3||(E=v+f),z!==p||l!==0&&z.nodeType!==3||(b=v+l),z.nodeType===3&&(v+=z.nodeValue.length),(L=z.firstChild)!==null;)I=z,z=L;for(;;){if(z===i)break t;if(I===o&&++R===f&&(E=v),I===p&&++U===l&&(b=v),(L=z.nextSibling)!==null)break;z=I,I=z.parentNode}z=L}o=E===-1||b===-1?null:{start:E,end:b}}else o=null}o=o||{start:0,end:0}}else o=null;for(nd={focusedElem:i,selectionRange:o},Lu=!1,ut=r;ut!==null;)if(r=ut,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,ut=i;else for(;ut!==null;){switch(r=ut,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var Q=Cs(o.type,f,o.elementType===o.type);i=l.getSnapshotBeforeUpdate(Q,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(ue){Oe(o,o.return,ue)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ad(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ad(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,ut=i;break}ut=r.return}return Q=t_,t_=!1,Q}function n_(i,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:$n(i,o),l&4&&$a(5,o);break;case 1:if($n(i,o),l&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Oe(o,o.return,E)}else{var f=Cs(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Oe(o,o.return,E)}}l&64&&Xv(o),l&512&&Rs(o,o.return);break;case 3:if($n(i,o),l&64&&(l=o.updateQueue,l!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Wv(l,i)}catch(E){Oe(o,o.return,E)}}break;case 26:$n(i,o),l&512&&Rs(o,o.return);break;case 27:case 5:$n(i,o),r===null&&l&4&&Qv(o),l&512&&Rs(o,o.return);break;case 12:$n(i,o);break;case 13:$n(i,o),l&4&&r_(i,o);break;case 22:if(f=o.memoizedState!==null||Wn,!f){r=r!==null&&r.memoizedState!==null||je;var p=Wn,v=je;Wn=f,(je=r)&&!v?ki(i,o,(o.subtreeFlags&8772)!==0):$n(i,o),Wn=p,je=v}l&512&&(o.memoizedProps.mode==="manual"?Rs(o,o.return):Ht(o,o.return));break;default:$n(i,o)}}function i_(i){var r=i.alternate;r!==null&&(i.alternate=null,i_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&df(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tt=null,jt=!1;function Xn(i,r,o){for(o=o.child;o!==null;)s_(i,r,o),o=o.sibling}function s_(i,r,o){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(_a,o)}catch{}switch(o.tag){case 26:je||Ht(o,r),Xn(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||Ht(o,r);var l=tt,f=jt;for(tt=o.stateNode,Xn(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);df(o),tt=l,jt=f;break;case 5:je||Ht(o,r);case 6:f=tt;var p=jt;if(tt=null,Xn(i,r,o),tt=f,jt=p,tt!==null)if(jt)try{i=tt,l=o.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)}catch(v){Oe(o,r,v)}else try{tt.removeChild(o.stateNode)}catch(v){Oe(o,r,v)}break;case 18:tt!==null&&(jt?(r=tt,o=o.stateNode,r.nodeType===8?rd(r.parentNode,o):r.nodeType===1&&rd(r,o),mo(r)):rd(tt,o.stateNode));break;case 4:l=tt,f=jt,tt=o.stateNode.containerInfo,jt=!0,Xn(i,r,o),tt=l,jt=f;break;case 0:case 11:case 14:case 15:je||Ii(2,o,r),je||Ii(4,o,r),Xn(i,r,o);break;case 1:je||(Ht(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&$v(o,r,l)),Xn(i,r,o);break;case 21:Xn(i,r,o);break;case 22:je||Ht(o,r),je=(l=je)||o.memoizedState!==null,Xn(i,r,o),je=l;break;default:Xn(i,r,o)}}function r_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mo(i)}catch(o){Oe(r,r.return,o)}}function $R(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new e_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new e_),r;default:throw Error(s(435,i.tag))}}function xh(i,r){var o=$R(i);r.forEach(function(l){var f=u1.bind(null,i,l);o.has(l)||(o.add(l),l.then(f,f))})}function rn(i,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],p=i,v=r,E=v;e:for(;E!==null;){switch(E.tag){case 27:case 5:tt=E.stateNode,jt=!1;break e;case 3:tt=E.stateNode.containerInfo,jt=!0;break e;case 4:tt=E.stateNode.containerInfo,jt=!0;break e}E=E.return}if(tt===null)throw Error(s(160));s_(p,v,f),tt=null,jt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)a_(r,i),r=r.sibling}var gn=null;function a_(i,r){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rn(r,i),an(i),l&4&&(Ii(3,i,i.return),$a(3,i),Ii(5,i,i.return));break;case 1:rn(r,i),an(i),l&512&&(je||o===null||Ht(o,o.return)),l&64&&Wn&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=gn;if(rn(r,i),an(i),l&512&&(je||o===null||Ht(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=i.memoizedState,o===null)if(l===null)if(i.stateNode===null){e:{l=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ta]||p[_t]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),mt(p,l,o),p[_t]=i,ot(p),l=p;break e;case"link":var v=Q_("link","href",f).get(l+(o.href||""));if(v){for(var E=0;E<v.length;E++)if(p=v[E],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(E,1);break t}}p=f.createElement(l),mt(p,l,o),f.head.appendChild(p);break;case"meta":if(v=Q_("meta","content",f).get(l+(o.content||""))){for(E=0;E<v.length;E++)if(p=v[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(E,1);break t}}p=f.createElement(l),mt(p,l,o),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[_t]=i,ot(p),l=p}i.stateNode=l}else Z_(f,i.type,i.stateNode);else i.stateNode=$_(f,l,i.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?Z_(f,i.type,i.stateNode):$_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Zv(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(l&4&&i.alternate===null){f=i.stateNode,p=i.memoizedProps;try{for(var b=f.firstChild;b;){var R=b.nextSibling,U=b.nodeName;b[Ta]||U==="HEAD"||U==="BODY"||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||f.removeChild(b),b=R}for(var z=i.type,I=f.attributes;I.length;)f.removeAttributeNode(I[0]);mt(f,z,p),f[_t]=i,f[kt]=p}catch(Q){Oe(i,i.return,Q)}}case 5:if(rn(r,i),an(i),l&512&&(je||o===null||Ht(o,o.return)),i.flags&32){f=i.stateNode;try{ur(f,"")}catch(Q){Oe(i,i.return,Q)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Zv(i,f,o!==null?o.memoizedProps:f)),l&1024&&(Rh=!0);break;case 6:if(rn(r,i),an(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,o=i.stateNode;try{o.nodeValue=l}catch(Q){Oe(i,i.return,Q)}}break;case 3:if(Iu=null,f=gn,gn=Nu(r.containerInfo),rn(r,i),gn=f,an(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{mo(r.containerInfo)}catch(Q){Oe(i,i.return,Q)}Rh&&(Rh=!1,o_(i));break;case 4:l=gn,gn=Nu(i.stateNode.containerInfo),rn(r,i),an(i),gn=l;break;case 12:rn(r,i),an(i);break;case 13:rn(r,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Uh=Cn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,xh(i,l)));break;case 22:if(l&512&&(je||o===null||Ht(o,o.return)),b=i.memoizedState!==null,R=o!==null&&o.memoizedState!==null,U=Wn,z=je,Wn=U||b,je=z||R,rn(r,i),je=z,Wn=U,an(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=b?r._visibility&-2:r._visibility|1,b&&(r=Wn||je,o===null||R||r||Ar(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){R=o=r;try{if(f=R.stateNode,b)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=R.stateNode,E=R.memoizedProps.style;var L=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Q){Oe(R,R.return,Q)}}}else if(r.tag===6){if(o===null){R=r;try{R.stateNode.nodeValue=b?"":R.memoizedProps}catch(Q){Oe(R,R.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,xh(i,o))));break;case 19:rn(r,i),an(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,xh(i,l)));break;case 21:break;default:rn(r,i),an(i)}}function an(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(Jv(o)){var l=o;break e}o=o.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,p=wh(i);gu(i,p,f);break;case 5:var v=l.stateNode;l.flags&32&&(ur(v,""),l.flags&=-33);var E=wh(i);gu(i,E,v);break;case 3:case 4:var b=l.stateNode.containerInfo,R=wh(i);Ah(i,R,b);break;default:throw Error(s(161))}}}catch(U){Oe(i,i.return,U)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function o_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;o_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function $n(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)n_(i,r.alternate,r),r=r.sibling}function Ar(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ii(4,r,r.return),Ar(r);break;case 1:Ht(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&$v(r,r.return,o),Ar(r);break;case 26:case 27:case 5:Ht(r,r.return),Ar(r);break;case 22:Ht(r,r.return),r.memoizedState===null&&Ar(r);break;default:Ar(r)}i=i.sibling}}function ki(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,v=p.flags;switch(p.tag){case 0:case 11:case 15:ki(f,p,o),$a(4,p);break;case 1:if(ki(f,p,o),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(R){Oe(l,l.return,R)}if(l=p,f=l.updateQueue,f!==null){var E=l.stateNode;try{var b=f.shared.hiddenCallbacks;if(b!==null)for(f.shared.hiddenCallbacks=null,f=0;f<b.length;f++)Kv(b[f],E)}catch(R){Oe(l,l.return,R)}}o&&v&64&&Xv(p),Rs(p,p.return);break;case 26:case 27:case 5:ki(f,p,o),o&&l===null&&v&4&&Qv(p),Rs(p,p.return);break;case 12:ki(f,p,o);break;case 13:ki(f,p,o),o&&v&4&&r_(f,p);break;case 22:p.memoizedState===null&&ki(f,p,o),Rs(p,p.return);break;default:ki(f,p,o)}r=r.sibling}}function Dh(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&za(o))}function Oh(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&za(i))}function Pi(i,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l_(i,r,o,l),r=r.sibling}function l_(i,r,o,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(i,r,o,l),f&2048&&$a(9,r);break;case 3:Pi(i,r,o,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&za(i)));break;case 12:if(f&2048){Pi(i,r,o,l),i=r.stateNode;try{var p=r.memoizedProps,v=p.id,E=p.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(b){Oe(r,r.return,b)}}else Pi(i,r,o,l);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Pi(i,r,o,l):Qa(i,r):p._visibility&4?Pi(i,r,o,l):(p._visibility|=4,Rr(i,r,o,l,(r.subtreeFlags&10256)!==0)),f&2048&&Dh(r.alternate,r);break;case 24:Pi(i,r,o,l),f&2048&&Oh(r.alternate,r);break;default:Pi(i,r,o,l)}}function Rr(i,r,o,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,v=r,E=o,b=l,R=v.flags;switch(v.tag){case 0:case 11:case 15:Rr(p,v,E,b,f),$a(8,v);break;case 23:break;case 22:var U=v.stateNode;v.memoizedState!==null?U._visibility&4?Rr(p,v,E,b,f):Qa(p,v):(U._visibility|=4,Rr(p,v,E,b,f)),f&&R&2048&&Dh(v.alternate,v);break;case 24:Rr(p,v,E,b,f),f&&R&2048&&Oh(v.alternate,v);break;default:Rr(p,v,E,b,f)}r=r.sibling}}function Qa(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,l=r,f=l.flags;switch(l.tag){case 22:Qa(o,l),f&2048&&Dh(l.alternate,l);break;case 24:Qa(o,l),f&2048&&Oh(l.alternate,l);break;default:Qa(o,l)}r=r.sibling}}var Za=8192;function xr(i){if(i.subtreeFlags&Za)for(i=i.child;i!==null;)u_(i),i=i.sibling}function u_(i){switch(i.tag){case 26:xr(i),i.flags&Za&&i.memoizedState!==null&&V1(gn,i.memoizedState,i.memoizedProps);break;case 5:xr(i);break;case 3:case 4:var r=gn;gn=Nu(i.stateNode.containerInfo),xr(i),gn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Za,Za=16777216,xr(i),Za=r):xr(i));break;default:xr(i)}}function c_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ja(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];ut=l,h_(l,i)}c_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(i),i=i.sibling}function f_(i){switch(i.tag){case 0:case 11:case 15:Ja(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:Ja(i);break;case 12:Ja(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,yu(i)):Ja(i);break;default:Ja(i)}}function yu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];ut=l,h_(l,i)}c_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ii(8,r,r.return),yu(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,yu(r));break;default:yu(r)}i=i.sibling}}function h_(i,r){for(;ut!==null;){var o=ut;switch(o.tag){case 0:case 11:case 15:Ii(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:za(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,ut=l;else e:for(o=i;ut!==null;){l=ut;var f=l.sibling,p=l.return;if(i_(l),l===o){ut=null;break e}if(f!==null){f.return=p,ut=f;break e}ut=p}}}function QR(i,r,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(i,r,o,l){return new QR(i,r,o,l)}function Nh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Li(i,r){var o=i.alternate;return o===null?(o=on(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function d_(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vu(i,r,o,l,f,p){var v=0;if(l=i,typeof i=="function")Nh(i)&&(v=1);else if(typeof i=="string")v=L1(i,o,bn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return xs(o.children,f,p,r);case m:v=8,f|=24;break;case g:return i=on(12,o,r,f|2),i.elementType=g,i.lanes=p,i;case w:return i=on(13,o,r,f),i.elementType=w,i.lanes=p,i;case D:return i=on(19,o,r,f),i.elementType=D,i.lanes=p,i;case k:return p_(o,f,p,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case S:v=10;break e;case _:v=9;break e;case T:v=11;break e;case x:v=14;break e;case P:v=16,l=null;break e}v=29,o=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=on(v,o,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function xs(i,r,o,l){return i=on(7,i,l,r),i.lanes=o,i}function p_(i,r,o,l){i=on(22,i,l,r),i.elementType=k,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Ci(p,2);v!==null&&(f._pendingVisibility|=2,xt(v,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Ci(p,2);v!==null&&(f._pendingVisibility&=-3,xt(v,p,2))}}};return i.stateNode=f,i}function Mh(i,r,o){return i=on(6,i,null,r),i.lanes=o,i}function Ih(i,r,o){return r=on(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Qn(i){i.flags|=4}function m_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J_(r)){if(r=sn.current,r!==null&&((Ee&4194176)===Ee?An!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||r!==An))throw Ua=Vf,My;i.flags|=8192}}function _u(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Ig():536870912,i.lanes|=r,Or|=r)}function eo(i,r){if(!Se)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Ue(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=o,r}function ZR(i,r,o){var l=r.pendingProps;switch(Lf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(r),null;case 1:return Ue(r),null;case 3:return o=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kn(it),ir(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ia(r)?Qn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,mn!==null&&(Hh(mn),mn=null))),Ue(r),null;case 26:return o=r.memoizedState,i===null?(Qn(r),o!==null?(Ue(r),m_(r,o)):(Ue(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Qn(r),Ue(r),m_(r,o)):(Ue(r),r.flags&=-16777217):(i.memoizedProps!==l&&Qn(r),Ue(r),r.flags&=-16777217),null;case 27:Nl(r),o=Ei.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Qn(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ue(r),null}i=bn.current,Ia(r)?Oy(r):(i=G_(f,l,o),r.stateNode=i,Qn(r))}return Ue(r),null;case 5:if(Nl(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Qn(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ue(r),null}if(i=bn.current,Ia(r))Oy(r);else{switch(f=Ou(Ei.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}i[_t]=r,i[kt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(mt(i,o,l),o){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qn(r)}}return Ue(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Qn(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ei.current,Ia(r)){if(i=r.stateNode,o=r.memoizedProps,l=null,f=Rt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[_t]=r,i=!!(i.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||B_(i.nodeValue,o)),i||vs(r)}else i=Ou(i).createTextNode(l),i[_t]=r,r.stateNode=i}return Ue(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ia(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_t]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ue(r),f=!1}else mn!==null&&(Hh(mn),mn=null),f=!0;if(!f)return r.flags&256?(Fn(r),r):(Fn(r),null)}if(Fn(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=l!==null,i=i!==null&&i.memoizedState!==null,o){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),_u(r,r.updateQueue),Ue(r),null;case 4:return ir(),i===null&&Zh(r.stateNode.containerInfo),Ue(r),null;case 10:return Kn(r.type),Ue(r),null;case 19:if(Ze(nt),f=r.memoizedState,f===null)return Ue(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)eo(f,!1);else{if(Fe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=nu(i),p!==null){for(r.flags|=128,eo(f,!1),i=p.updateQueue,r.updateQueue=i,_u(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)d_(o,i),o=o.sibling;return Le(nt,nt.current&1|2),r.child}i=i.sibling}f.tail!==null&&Cn()>Eu&&(r.flags|=128,l=!0,eo(f,!1),r.lanes=4194304)}else{if(!l)if(i=nu(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,_u(r,i),eo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Se)return Ue(r),null}else 2*Cn()-f.renderingStartTime>Eu&&o!==536870912&&(r.flags|=128,l=!0,eo(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,i=nt.current,Le(nt,l?i&1|2:i&1),r):(Ue(r),null);case 22:case 23:return Fn(r),zf(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(Ue(r),r.subtreeFlags&6&&(r.flags|=8192)):Ue(r),o=r.updateQueue,o!==null&&_u(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),i!==null&&Ze(Es),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Kn(it),Ue(r),null;case 25:return null}throw Error(s(156,r.tag))}function JR(i,r){switch(Lf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Kn(it),ir(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Nl(r),null;case 13:if(Fn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Ze(nt),null;case 4:return ir(),null;case 10:return Kn(r.type),null;case 22:case 23:return Fn(r),zf(),i!==null&&Ze(Es),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Kn(it),null;case 25:return null;default:return null}}function g_(i,r){switch(Lf(r),r.tag){case 3:Kn(it),ir();break;case 26:case 27:case 5:Nl(r);break;case 4:ir();break;case 13:Fn(r);break;case 19:Ze(nt);break;case 10:Kn(r.type);break;case 22:case 23:Fn(r),zf(),i!==null&&Ze(Es);break;case 24:Kn(it)}}var e1={getCacheForType:function(i){var r=Et(it),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},t1=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ne=null,ge=null,Ee=0,Me=0,Ft=null,Zn=!1,Dr=!1,kh=!1,Jn=0,Fe=0,Ui=0,Ds=0,Ph=0,ln=0,Or=0,to=null,xn=null,Lh=!1,Uh=0,Eu=1/0,Su=null,Vi=null,Tu=!1,Os=null,no=0,Vh=0,Bh=null,io=0,zh=null;function qt(){if((Ve&2)!==0&&Ee!==0)return Ee&-Ee;if(F.T!==null){var i=Sr;return i!==0?i:Wh()}return Ug()}function y_(){ln===0&&(ln=(Ee&536870912)===0||Se?Mg():536870912);var i=sn.current;return i!==null&&(i.flags|=32),ln}function xt(i,r,o){(i===Ne&&Me===2||i.cancelPendingCommit!==null)&&(Nr(i,0),ei(i,Ee,ln,!1)),Sa(i,o),((Ve&2)===0||i!==Ne)&&(i===Ne&&((Ve&2)===0&&(Ds|=o),Fe===4&&ei(i,Ee,ln,!1)),Dn(i))}function v_(i,r,o){if((Ve&6)!==0)throw Error(s(327));var l=!o&&(r&60)===0&&(r&i.expiredLanes)===0||Ea(i,r),f=l?s1(i,r):qh(i,r,!0),p=l;do{if(f===0){Dr&&!l&&ei(i,r,0,!1);break}else if(f===6)ei(i,r,0,!Zn);else{if(o=i.current.alternate,p&&!n1(o)){f=qh(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var E=i;f=to;var b=E.current.memoizedState.isDehydrated;if(b&&(Nr(E,v).flags|=256),v=qh(E,v,!1),v!==2){if(kh&&!b){E.errorRecoveryDisabledLanes|=p,Ds|=p,f=4;break e}p=xn,xn=f,p!==null&&Hh(p)}f=v}if(p=!1,f!==2)continue}}if(f===1){Nr(i,0),ei(i,r,0,!0);break}e:{switch(l=i,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ei(l,r,ln,!Zn);break e}break;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=o,l.finishedLanes=r,(r&62914560)===r&&(p=Uh+300-Cn(),10<p)){if(ei(l,r,ln,!Zn),Pl(l,0)!==0)break e;l.timeoutHandle=j_(__.bind(null,l,o,xn,Su,Lh,r,ln,Ds,Or,Zn,2,-0,0),p);break e}__(l,o,xn,Su,Lh,r,ln,Ds,Or,Zn,0,-0,0)}}break}while(!0);Dn(i)}function Hh(i){xn===null?xn=i:xn.push.apply(xn,i)}function __(i,r,o,l,f,p,v,E,b,R,U,z,I){var L=r.subtreeFlags;if((L&8192||(L&16785408)===16785408)&&(uo={stylesheets:null,count:0,unsuspend:U1},u_(r),r=B1(),r!==null)){i.cancelPendingCommit=r(A_.bind(null,i,o,l,f,v,E,b,1,z,I)),ei(i,p,v,!R);return}A_(i,o,l,f,v,E,b,U,z,I)}function n1(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],p=f.getSnapshot;f=f.value;try{if(!zt(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ei(i,r,o,l){r&=~Ph,r&=~Ds,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-Bt(f),v=1<<p;l[p]=-1,f&=~v}o!==0&&kg(i,o,r)}function bu(){return(Ve&6)===0?(so(0),!1):!0}function jh(){if(ge!==null){if(Me===0)var i=ge.return;else i=ge,Yn=ws=null,Wf(i),_r=null,Va=0,i=ge;for(;i!==null;)g_(i.alternate,i),i=i.return;ge=null}}function Nr(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,S1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),jh(),Ne=i,ge=o=Li(i.current,null),Ee=r,Me=0,Ft=null,Zn=!1,Dr=Ea(i,r),kh=!1,Or=ln=Ph=Ds=Ui=Fe=0,xn=to=null,Lh=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Bt(l),p=1<<f;r|=i[f],l&=~p}return Jn=r,Kl(),o}function E_(i,r){he=null,F.H=Rn,r===La?(r=Py(),Me=3):r===My?(r=Py(),Me=4):Me=r===Iv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ft=r,ge===null&&(Fe=1,du(i,en(r,i.current)))}function S_(){var i=F.H;return F.H=Rn,i===null?Rn:i}function T_(){var i=F.A;return F.A=e1,i}function Fh(){Fe=4,Zn||(Ee&4194176)!==Ee&&sn.current!==null||(Dr=!0),(Ui&134217727)===0&&(Ds&134217727)===0||Ne===null||ei(Ne,Ee,ln,!1)}function qh(i,r,o){var l=Ve;Ve|=2;var f=S_(),p=T_();(Ne!==i||Ee!==r)&&(Su=null,Nr(i,r)),r=!1;var v=Fe;e:do try{if(Me!==0&&ge!==null){var E=ge,b=Ft;switch(Me){case 8:jh(),v=6;break e;case 3:case 2:case 6:sn.current===null&&(r=!0);var R=Me;if(Me=0,Ft=null,Mr(i,E,b,R),o&&Dr){v=0;break e}break;default:R=Me,Me=0,Ft=null,Mr(i,E,b,R)}}i1(),v=Fe;break}catch(U){E_(i,U)}while(!0);return r&&i.shellSuspendCounter++,Yn=ws=null,Ve=l,F.H=f,F.A=p,ge===null&&(Ne=null,Ee=0,Kl()),v}function i1(){for(;ge!==null;)b_(ge)}function s1(i,r){var o=Ve;Ve|=2;var l=S_(),f=T_();Ne!==i||Ee!==r?(Su=null,Eu=Cn()+500,Nr(i,r)):Dr=Ea(i,r);e:do try{if(Me!==0&&ge!==null){r=ge;var p=Ft;t:switch(Me){case 1:Me=0,Ft=null,Mr(i,r,p,1);break;case 2:if(Iy(p)){Me=0,Ft=null,C_(r);break}r=function(){Me===2&&Ne===i&&(Me=7),Dn(i)},p.then(r,r);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Iy(p)?(Me=0,Ft=null,C_(r)):(Me=0,Ft=null,Mr(i,r,p,7));break;case 5:var v=null;switch(ge.tag){case 26:v=ge.memoizedState;case 5:case 27:var E=ge;if(!v||J_(v)){Me=0,Ft=null;var b=E.sibling;if(b!==null)ge=b;else{var R=E.return;R!==null?(ge=R,Cu(R)):ge=null}break t}}Me=0,Ft=null,Mr(i,r,p,5);break;case 6:Me=0,Ft=null,Mr(i,r,p,6);break;case 8:jh(),Fe=6;break e;default:throw Error(s(462))}}r1();break}catch(U){E_(i,U)}while(!0);return Yn=ws=null,F.H=l,F.A=f,Ve=o,ge!==null?0:(Ne=null,Ee=0,Kl(),Fe)}function r1(){for(;ge!==null&&!RA();)b_(ge)}function b_(i){var r=Gv(i.alternate,i,Jn);i.memoizedProps=i.pendingProps,r===null?Cu(i):ge=r}function C_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Bv(o,r,r.pendingProps,r.type,void 0,Ee);break;case 11:r=Bv(o,r,r.pendingProps,r.type.render,r.ref,Ee);break;case 5:Wf(r);default:g_(o,r),r=ge=d_(r,Jn),r=Gv(o,r,Jn)}i.memoizedProps=i.pendingProps,r===null?Cu(i):ge=r}function Mr(i,r,o,l){Yn=ws=null,Wf(r),_r=null,Va=0;var f=r.return;try{if(KR(i,f,r,o,Ee)){Fe=1,du(i,en(o,i.current)),ge=null;return}}catch(p){if(f!==null)throw ge=f,p;Fe=1,du(i,en(o,i.current)),ge=null;return}r.flags&32768?(Se||l===1?i=!0:Dr||(Ee&536870912)!==0?i=!1:(Zn=i=!0,(l===2||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(r,i)):Cu(r)}function Cu(i){var r=i;do{if((r.flags&32768)!==0){w_(r,Zn);return}i=r.return;var o=ZR(r.alternate,r,Jn);if(o!==null){ge=o;return}if(r=r.sibling,r!==null){ge=r;return}ge=r=i}while(r!==null);Fe===0&&(Fe=5)}function w_(i,r){do{var o=JR(i.alternate,i);if(o!==null){o.flags&=32767,ge=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ge=i;return}ge=i=o}while(i!==null);Fe=6,ge=null}function A_(i,r,o,l,f,p,v,E,b,R){var U=F.T,z=W.p;try{W.p=2,F.T=null,a1(i,r,o,l,z,f,p,v,E,b,R)}finally{F.T=U,W.p=z}}function a1(i,r,o,l,f,p,v,E){do Ir();while(Os!==null);if((Ve&6)!==0)throw Error(s(327));var b=i.finishedWork;if(l=i.finishedLanes,b===null)return null;if(i.finishedWork=null,i.finishedLanes=0,b===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var R=b.lanes|b.childLanes;if(R|=If,VA(i,l,R,p,v,E),i===Ne&&(ge=Ne=null,Ee=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||Tu||(Tu=!0,Vh=R,Bh=o,c1(Ml,function(){return Ir(),null})),o=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||o?(o=F.T,F.T=null,p=W.p,W.p=2,v=Ve,Ve|=4,XR(i,b),a_(b,i),OR(nd,i.containerInfo),Lu=!!td,nd=td=null,i.current=b,n_(i,b.alternate,b),xA(),Ve=v,W.p=p,F.T=o):i.current=b,Tu?(Tu=!1,Os=i,no=l):R_(i,R),R=i.pendingLanes,R===0&&(Vi=null),IA(b.stateNode),Dn(i),r!==null)for(f=i.onRecoverableError,b=0;b<r.length;b++)R=r[b],f(R.value,{componentStack:R.stack});return(no&3)!==0&&Ir(),R=i.pendingLanes,(l&4194218)!==0&&(R&42)!==0?i===zh?io++:(io=0,zh=i):io=0,so(0),null}function R_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,za(r)))}function Ir(){if(Os!==null){var i=Os,r=Vh;Vh=0;var o=Lg(no),l=F.T,f=W.p;try{if(W.p=32>o?32:o,F.T=null,Os===null)var p=!1;else{o=Bh,Bh=null;var v=Os,E=no;if(Os=null,no=0,(Ve&6)!==0)throw Error(s(331));var b=Ve;if(Ve|=4,f_(v.current),l_(v,v.current,E,o),Ve=b,so(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(_a,v)}catch{}p=!0}return p}finally{W.p=f,F.T=l,R_(i,r)}}return!1}function x_(i,r,o){r=en(o,r),r=lh(i.stateNode,r,2),i=Mi(i,r,2),i!==null&&(Sa(i,2),Dn(i))}function Oe(i,r,o){if(i.tag===3)x_(i,i,o);else for(;r!==null;){if(r.tag===3){x_(r,i,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vi===null||!Vi.has(l))){i=en(o,i),o=Nv(2),l=Mi(r,o,2),l!==null&&(Mv(o,l,r,i),Sa(l,2),Dn(l));break}}r=r.return}}function Gh(i,r,o){var l=i.pingCache;if(l===null){l=i.pingCache=new t1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(kh=!0,f.add(o),i=o1.bind(null,i,r,o),r.then(i,i))}function o1(i,r,o){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ne===i&&(Ee&o)===o&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>Cn()-Uh?(Ve&2)===0&&Nr(i,0):Ph|=o,Or===Ee&&(Or=0)),Dn(i)}function D_(i,r){r===0&&(r=Ig()),i=Ci(i,r),i!==null&&(Sa(i,r),Dn(i))}function l1(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),D_(i,o)}function u1(i,r){var o=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),D_(i,o)}function c1(i,r){return uf(i,r)}var wu=null,kr=null,Yh=!1,Au=!1,Kh=!1,Ns=0;function Dn(i){i!==kr&&i.next===null&&(kr===null?wu=kr=i:kr=kr.next=i),Au=!0,Yh||(Yh=!0,h1(f1))}function so(i,r){if(!Kh&&Au){Kh=!0;do for(var o=!1,l=wu;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var v=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Bt(42|i)+1)-1,p&=f&~(v&~E),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,M_(l,p))}else p=Ee,p=Pl(l,l===Ne?p:0),(p&3)===0||Ea(l,p)||(o=!0,M_(l,p));l=l.next}while(o);Kh=!1}}function f1(){Au=Yh=!1;var i=0;Ns!==0&&(E1()&&(i=Ns),Ns=0);for(var r=Cn(),o=null,l=wu;l!==null;){var f=l.next,p=O_(l,r);p===0?(l.next=null,o===null?wu=f:o.next=f,f===null&&(kr=o)):(o=l,(i!==0||(p&3)!==0)&&(Au=!0)),l=f}so(i)}function O_(i,r){for(var o=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var v=31-Bt(p),E=1<<v,b=f[v];b===-1?((E&o)===0||(E&l)!==0)&&(f[v]=UA(E,r)):b<=r&&(i.expiredLanes|=E),p&=~E}if(r=Ne,o=Ee,o=Pl(i,i===r?o:0),l=i.callbackNode,o===0||i===r&&Me===2||i.cancelPendingCommit!==null)return l!==null&&l!==null&&cf(l),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ea(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(l!==null&&cf(l),Lg(o)){case 2:case 8:o=Og;break;case 32:o=Ml;break;case 268435456:o=Ng;break;default:o=Ml}return l=N_.bind(null,i),o=uf(o,l),i.callbackPriority=r,i.callbackNode=o,r}return l!==null&&l!==null&&cf(l),i.callbackPriority=2,i.callbackNode=null,2}function N_(i,r){var o=i.callbackNode;if(Ir()&&i.callbackNode!==o)return null;var l=Ee;return l=Pl(i,i===Ne?l:0),l===0?null:(v_(i,l,r),O_(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?N_.bind(null,i):null)}function M_(i,r){if(Ir())return null;v_(i,r,!0)}function h1(i){T1(function(){(Ve&6)!==0?uf(Dg,i):i()})}function Wh(){return Ns===0&&(Ns=Mg()),Ns}function I_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zl(""+i)}function k_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function d1(i,r,o,l,f){if(r==="submit"&&o&&o.stateNode===f){var p=I_((f[kt]||null).action),v=l.submitter;v&&(r=(r=v[kt]||null)?I_(r.formAction):v.getAttribute("formAction"),r!==null&&(p=r,v=null));var E=new ql("action","action",null,l,f);i.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var b=v?k_(f,v):new FormData(f);ih(o,{pending:!0,data:b,method:f.method,action:p},null,b)}}else typeof p=="function"&&(E.preventDefault(),b=v?k_(f,v):new FormData(f),ih(o,{pending:!0,data:b,method:f.method,action:p},p,b))},currentTarget:f}]})}}for(var Xh=0;Xh<Ay.length;Xh++){var $h=Ay[Xh],p1=$h.toLowerCase(),m1=$h[0].toUpperCase()+$h.slice(1);pn(p1,"on"+m1)}pn(Sy,"onAnimationEnd"),pn(Ty,"onAnimationIteration"),pn(by,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(MR,"onTransitionRun"),pn(IR,"onTransitionStart"),pn(kR,"onTransitionCancel"),pn(Cy,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function P_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,R=E.currentTarget;if(E=E.listener,b!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=R;try{p(f)}catch(U){hu(U)}f.currentTarget=null,p=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,R=E.currentTarget,E=E.listener,b!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=R;try{p(f)}catch(U){hu(U)}f.currentTarget=null,p=b}}}}function ve(i,r){var o=r[hf];o===void 0&&(o=r[hf]=new Set);var l=i+"__bubble";o.has(l)||(L_(r,i,2,!1),o.add(l))}function Qh(i,r,o){var l=0;r&&(l|=4),L_(o,i,l,r)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Zh(i){if(!i[Ru]){i[Ru]=!0,Bg.forEach(function(o){o!=="selectionchange"&&(g1.has(o)||Qh(o,!1,i),Qh(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ru]||(r[Ru]=!0,Qh("selectionchange",!1,r))}}function L_(i,r,o,l){switch(r0(r)){case 2:var f=j1;break;case 8:f=F1;break;default:f=fd}o=f.bind(null,r,o,i),f=void 0,!Ef||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Jh(i,r,o,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;v=v.return}for(;E!==null;){if(v=fs(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=p=v;continue e}E=E.parentNode}}l=l.return}Qg(function(){var R=p,U=vf(o),z=[];e:{var I=wy.get(i);if(I!==void 0){var L=ql,Q=i;switch(i){case"keypress":if(jl(o)===0)break e;case"keydown":case"keyup":L=uR;break;case"focusin":Q="focus",L=Cf;break;case"focusout":Q="blur",L=Cf;break;case"beforeblur":case"afterblur":L=Cf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=QA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=hR;break;case Sy:case Ty:case by:L=eR;break;case Cy:L=pR;break;case"scroll":case"scrollend":L=XA;break;case"wheel":L=gR;break;case"copy":case"cut":case"paste":L=nR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ny;break;case"toggle":case"beforetoggle":L=vR}var ue=(r&4)!==0,qe=!ue&&(i==="scroll"||i==="scrollend"),N=ue?I!==null?I+"Capture":null:I;ue=[];for(var A=R,M;A!==null;){var V=A;if(M=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||M===null||N===null||(V=Ca(A,N),V!=null&&ue.push(ao(A,V,M))),qe)break;A=A.return}0<ue.length&&(I=new L(I,Q,null,o,U),z.push({event:I,listeners:ue}))}}if((r&7)===0){e:{if(I=i==="mouseover"||i==="pointerover",L=i==="mouseout"||i==="pointerout",I&&o!==yf&&(Q=o.relatedTarget||o.fromElement)&&(fs(Q)||Q[sr]))break e;if((L||I)&&(I=U.window===U?U:(I=U.ownerDocument)?I.defaultView||I.parentWindow:window,L?(Q=o.relatedTarget||o.toElement,L=R,Q=Q?fs(Q):null,Q!==null&&(qe=J(Q),ue=Q.tag,Q!==qe||ue!==5&&ue!==27&&ue!==6)&&(Q=null)):(L=null,Q=R),L!==Q)){if(ue=ey,V="onMouseLeave",N="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(ue=ny,V="onPointerLeave",N="onPointerEnter",A="pointer"),qe=L==null?I:ba(L),M=Q==null?I:ba(Q),I=new ue(V,A+"leave",L,o,U),I.target=qe,I.relatedTarget=M,V=null,fs(U)===R&&(ue=new ue(N,A+"enter",Q,o,U),ue.target=M,ue.relatedTarget=qe,V=ue),qe=V,L&&Q)t:{for(ue=L,N=Q,A=0,M=ue;M;M=Pr(M))A++;for(M=0,V=N;V;V=Pr(V))M++;for(;0<A-M;)ue=Pr(ue),A--;for(;0<M-A;)N=Pr(N),M--;for(;A--;){if(ue===N||N!==null&&ue===N.alternate)break t;ue=Pr(ue),N=Pr(N)}ue=null}else ue=null;L!==null&&U_(z,I,L,ue,!1),Q!==null&&qe!==null&&U_(z,qe,Q,ue,!0)}}e:{if(I=R?ba(R):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var $=cy;else if(ly(I))if(fy)$=xR;else{$=AR;var de=wR}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&gf(R.elementType)&&($=cy):$=RR;if($&&($=$(i,R))){uy(z,$,o,U);break e}de&&de(i,I,R),i==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&mf(I,"number",I.value)}switch(de=R?ba(R):window,i){case"focusin":(ly(de)||de.contentEditable==="true")&&(dr=de,Of=R,Ma=null);break;case"focusout":Ma=Of=dr=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,_y(z,o,U);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":_y(z,o,U)}var ee;if(Af)e:{switch(i){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else hr?ay(i,o)&&(ie="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(iy&&o.locale!=="ko"&&(hr||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&hr&&(ee=Zg()):(bi=U,Sf="value"in bi?bi.value:bi.textContent,hr=!0)),de=xu(R,ie),0<de.length&&(ie=new ty(ie,i,null,o,U),z.push({event:ie,listeners:de}),ee?ie.data=ee:(ee=oy(o),ee!==null&&(ie.data=ee)))),(ee=ER?SR(i,o):TR(i,o))&&(ie=xu(R,"onBeforeInput"),0<ie.length&&(de=new ty("onBeforeInput","beforeinput",null,o,U),z.push({event:de,listeners:ie}),de.data=ee)),d1(z,i,R,o,U)}P_(z,r)})}function ao(i,r,o){return{instance:i,listener:r,currentTarget:o}}function xu(i,r){for(var o=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ca(i,o),f!=null&&l.unshift(ao(i,f,p)),f=Ca(i,r),f!=null&&l.push(ao(i,f,p))),i=i.return}return l}function Pr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function U_(i,r,o,l,f){for(var p=r._reactName,v=[];o!==null&&o!==l;){var E=o,b=E.alternate,R=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||R===null||(b=R,f?(R=Ca(o,p),R!=null&&v.unshift(ao(o,R,b))):f||(R=Ca(o,p),R!=null&&v.push(ao(o,R,b)))),o=o.return}v.length!==0&&i.push({event:r,listeners:v})}var y1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function V_(i){return(typeof i=="string"?i:""+i).replace(y1,`
`).replace(v1,"")}function B_(i,r){return r=V_(r),V_(i)===r}function Du(){}function Re(i,r,o,l,f,p){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ur(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ur(i,""+l);break;case"className":Ul(i,"class",l);break;case"tabIndex":Ul(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(i,o,l);break;case"style":Xg(i,l,p);break;case"data":if(r!=="object"){Ul(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=zl(""+l),i.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Re(i,r,"name",f.name,f,null),Re(i,r,"formEncType",f.formEncType,f,null),Re(i,r,"formMethod",f.formMethod,f,null),Re(i,r,"formTarget",f.formTarget,f,null)):(Re(i,r,"encType",f.encType,f,null),Re(i,r,"method",f.method,f,null),Re(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=zl(""+l),i.setAttribute(o,l);break;case"onClick":l!=null&&(i.onclick=Du);break;case"onScroll":l!=null&&ve("scroll",i);break;case"onScrollEnd":l!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}o=zl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""+l):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":l===!0?i.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,l):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(o,l):i.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(o):i.setAttribute(o,l);break;case"popover":ve("beforetoggle",i),ve("toggle",i),Ll(i,"popover",l);break;case"xlinkActuate":zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ll(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=KA.get(o)||o,Ll(i,o,l))}}function ed(i,r,o,l,f,p){switch(o){case"style":Xg(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof l=="string"?ur(i,l):(typeof l=="number"||typeof l=="bigint")&&ur(i,""+l);break;case"onScroll":l!=null&&ve("scroll",i);break;case"onScrollEnd":l!=null&&ve("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,l,f);break e}o in i?i[o]=l:l===!0?i.setAttribute(o,""):Ll(i,o,l)}}}function mt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var l=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,p,v,o,null)}}f&&Re(i,r,"srcSet",o.srcSet,o,null),l&&Re(i,r,"src",o.src,o,null);return;case"input":ve("invalid",i);var E=p=v=f=null,b=null,R=null;for(l in o)if(o.hasOwnProperty(l)){var U=o[l];if(U!=null)switch(l){case"name":f=U;break;case"type":v=U;break;case"checked":b=U;break;case"defaultChecked":R=U;break;case"value":p=U;break;case"defaultValue":E=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,r));break;default:Re(i,r,l,U,o,null)}}Gg(i,p,E,b,R,v,f,!1),Vl(i);return;case"select":ve("invalid",i),l=v=p=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Re(i,r,f,E,o,null)}r=p,o=v,i.multiple=!!l,r!=null?lr(i,!!l,r,!1):o!=null&&lr(i,!!l,o,!0);return;case"textarea":ve("invalid",i),p=f=l=null;for(v in o)if(o.hasOwnProperty(v)&&(E=o[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Re(i,r,v,E,o,null)}Kg(i,l,f,p),Vl(i);return;case"option":for(b in o)if(o.hasOwnProperty(b)&&(l=o[b],l!=null))switch(b){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(i,r,b,l,o,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(l=0;l<ro.length;l++)ve(ro[l],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in o)if(o.hasOwnProperty(R)&&(l=o[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Re(i,r,R,l,o,null)}return;default:if(gf(r)){for(U in o)o.hasOwnProperty(U)&&(l=o[U],l!==void 0&&ed(i,r,U,l,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(l=o[E],l!=null&&Re(i,r,E,l,o,null))}function _1(i,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,E=null,b=null,R=null,U=null;for(L in o){var z=o[L];if(o.hasOwnProperty(L)&&z!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":b=z;default:l.hasOwnProperty(L)||Re(i,r,L,null,l,z)}}for(var I in l){var L=l[I];if(z=o[I],l.hasOwnProperty(I)&&(L!=null||z!=null))switch(I){case"type":p=L;break;case"name":f=L;break;case"checked":R=L;break;case"defaultChecked":U=L;break;case"value":v=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,r));break;default:L!==z&&Re(i,r,I,L,l,z)}}pf(i,v,E,b,R,U,p,f);return;case"select":L=v=E=I=null;for(p in o)if(b=o[p],o.hasOwnProperty(p)&&b!=null)switch(p){case"value":break;case"multiple":L=b;default:l.hasOwnProperty(p)||Re(i,r,p,null,l,b)}for(f in l)if(p=l[f],b=o[f],l.hasOwnProperty(f)&&(p!=null||b!=null))switch(f){case"value":I=p;break;case"defaultValue":E=p;break;case"multiple":v=p;default:p!==b&&Re(i,r,f,p,l,b)}r=E,o=v,l=L,I!=null?lr(i,!!o,I,!1):!!l!=!!o&&(r!=null?lr(i,!!o,r,!0):lr(i,!!o,o?[]:"",!1));return;case"textarea":L=I=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Re(i,r,E,null,l,f)}for(v in l)if(f=l[v],p=o[v],l.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":I=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Re(i,r,v,f,l,p)}Yg(i,I,L);return;case"option":for(var Q in o)if(I=o[Q],o.hasOwnProperty(Q)&&I!=null&&!l.hasOwnProperty(Q))switch(Q){case"selected":i.selected=!1;break;default:Re(i,r,Q,null,l,I)}for(b in l)if(I=l[b],L=o[b],l.hasOwnProperty(b)&&I!==L&&(I!=null||L!=null))switch(b){case"selected":i.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Re(i,r,b,I,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in o)I=o[ue],o.hasOwnProperty(ue)&&I!=null&&!l.hasOwnProperty(ue)&&Re(i,r,ue,null,l,I);for(R in l)if(I=l[R],L=o[R],l.hasOwnProperty(R)&&I!==L&&(I!=null||L!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:Re(i,r,R,I,l,L)}return;default:if(gf(r)){for(var qe in o)I=o[qe],o.hasOwnProperty(qe)&&I!==void 0&&!l.hasOwnProperty(qe)&&ed(i,r,qe,void 0,l,I);for(U in l)I=l[U],L=o[U],!l.hasOwnProperty(U)||I===L||I===void 0&&L===void 0||ed(i,r,U,I,l,L);return}}for(var N in o)I=o[N],o.hasOwnProperty(N)&&I!=null&&!l.hasOwnProperty(N)&&Re(i,r,N,null,l,I);for(z in l)I=l[z],L=o[z],!l.hasOwnProperty(z)||I===L||I==null&&L==null||Re(i,r,z,I,l,L)}var td=null,nd=null;function Ou(i){return i.nodeType===9?i:i.ownerDocument}function z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function id(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sd=null;function E1(){var i=window.event;return i&&i.type==="popstate"?i===sd?!1:(sd=i,!0):(sd=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(i){return F_.resolve(null).then(i).catch(b1)}:j_;function b1(i){setTimeout(function(){throw i})}function rd(i,r){var o=r,l=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){i.removeChild(f),mo(r);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);mo(r)}function ad(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ad(o),df(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function C1(i,r,o,l){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ta])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=yn(i.nextSibling),i===null)break}return null}function w1(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yn(i.nextSibling),i===null))return null;return i}function yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function q_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function G_(i,r,o){switch(r=Ou(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var un=new Map,Y_=new Set;function Nu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ti=W.d;W.d={f:A1,r:R1,D:x1,C:D1,L:O1,m:N1,X:I1,S:M1,M:k1};function A1(){var i=ti.f(),r=bu();return i||r}function R1(i){var r=rr(i);r!==null&&r.tag===5&&r.type==="form"?_v(r):ti.r(i)}var Lr=typeof document>"u"?null:document;function K_(i,r,o){var l=Lr;if(l&&typeof r=="string"&&r){var f=Zt(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Y_.has(f)||(Y_.add(f),i={rel:i,crossOrigin:o,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),mt(r,"link",i),ot(r),l.head.appendChild(r)))}}function x1(i){ti.D(i),K_("dns-prefetch",i,null)}function D1(i,r){ti.C(i,r),K_("preconnect",i,r)}function O1(i,r,o){ti.L(i,r,o);var l=Lr;if(l&&i&&r){var f='link[rel="preload"][as="'+Zt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Zt(o.imageSizes)+'"]')):f+='[href="'+Zt(i)+'"]';var p=f;switch(r){case"style":p=Ur(i);break;case"script":p=Vr(i)}un.has(p)||(i=te({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),un.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(oo(p))||r==="script"&&l.querySelector(lo(p))||(r=l.createElement("link"),mt(r,"link",i),ot(r),l.head.appendChild(r)))}}function N1(i,r){ti.m(i,r);var o=Lr;if(o&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Zt(l)+'"][href="'+Zt(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vr(i)}if(!un.has(p)&&(i=te({rel:"modulepreload",href:i},r),un.set(p,i),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lo(p)))return}l=o.createElement("link"),mt(l,"link",i),ot(l),o.head.appendChild(l)}}}function M1(i,r,o){ti.S(i,r,o);var l=Lr;if(l&&i){var f=ar(l).hoistableStyles,p=Ur(i);r=r||"default";var v=f.get(p);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(oo(p)))E.loading=5;else{i=te({rel:"stylesheet",href:i,"data-precedence":r},o),(o=un.get(p))&&od(i,o);var b=v=l.createElement("link");ot(b),mt(b,"link",i),b._p=new Promise(function(R,U){b.onload=R,b.onerror=U}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mu(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(p,v)}}}function I1(i,r){ti.X(i,r);var o=Lr;if(o&&i){var l=ar(o).hoistableScripts,f=Vr(i),p=l.get(f);p||(p=o.querySelector(lo(f)),p||(i=te({src:i,async:!0},r),(r=un.get(f))&&ld(i,r),p=o.createElement("script"),ot(p),mt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function k1(i,r){ti.M(i,r);var o=Lr;if(o&&i){var l=ar(o).hoistableScripts,f=Vr(i),p=l.get(f);p||(p=o.querySelector(lo(f)),p||(i=te({src:i,async:!0,type:"module"},r),(r=un.get(f))&&ld(i,r),p=o.createElement("script"),ot(p),mt(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function W_(i,r,o,l){var f=(f=Ei.current)?Nu(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ur(o.href),o=ar(f).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ur(o.href);var p=ar(f).hoistableStyles,v=p.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,v),(p=f.querySelector(oo(i)))&&!p._p&&(v.instance=p,v.state.loading=5),un.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},un.set(i,o),p||P1(f,i,o,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vr(o),o=ar(f).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ur(i){return'href="'+Zt(i)+'"'}function oo(i){return'link[rel="stylesheet"]['+i+"]"}function X_(i){return te({},i,{"data-precedence":i.precedence,precedence:null})}function P1(i,r,o,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),mt(r,"link",o),ot(r),i.head.appendChild(r))}function Vr(i){return'[src="'+Zt(i)+'"]'}function lo(i){return"script[async]"+i}function $_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Zt(o.href)+'"]');if(l)return r.instance=l,ot(l),l;var f=te({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ot(l),mt(l,"style",f),Mu(l,o.precedence,i),r.instance=l;case"stylesheet":f=Ur(o.href);var p=i.querySelector(oo(f));if(p)return r.state.loading|=4,r.instance=p,ot(p),p;l=X_(o),(f=un.get(f))&&od(l,f),p=(i.ownerDocument||i).createElement("link"),ot(p);var v=p;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),mt(p,"link",l),r.state.loading|=4,Mu(p,o.precedence,i),r.instance=p;case"script":return p=Vr(o.src),(f=i.querySelector(lo(p)))?(r.instance=f,ot(f),f):(l=o,(f=un.get(p))&&(l=te({},o),ld(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),ot(f),mt(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Mu(l,o.precedence,i));return r.instance}function Mu(i,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===r)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function od(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ld(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Iu=null;function Q_(i,r,o){if(Iu===null){var l=new Map,f=Iu=new Map;f.set(o,l)}else f=Iu,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(i))return l;for(l.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ta]||p[_t]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(r)||"";v=i+v;var E=l.get(v);E?E.push(p):l.set(v,[p])}}return l}function Z_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function L1(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function J_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var uo=null;function U1(){}function V1(i,r,o){if(uo===null)throw Error(s(475));var l=uo;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ur(o.href),p=i.querySelector(oo(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=ku.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,ot(p);return}p=i.ownerDocument||i,o=X_(o),(f=un.get(f))&&od(o,f),p=p.createElement("link"),ot(p);var v=p;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),mt(p,"link",o),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ku.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function B1(){if(uo===null)throw Error(s(475));var i=uo;return i.stylesheets&&i.count===0&&ud(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&ud(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pu=null;function ud(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pu=new Map,r.forEach(z1,i),Pu=null,ku.call(i))}function z1(i,r){if(!(r.state.loading&4)){var o=Pu.get(i);if(o)var l=o.get(null);else{o=new Map,Pu.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),l=v)}l&&o.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),p=o.get(v)||l,p===l&&o.set(null,f),o.set(v,f),this.count++,l=ku.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var co={$$typeof:S,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function H1(i,r,o,l,f,p,v,E){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.hiddenUpdates=ff(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function e0(i,r,o,l,f,p,v,E,b,R,U,z){return i=new H1(i,r,o,v,E,b,R,z),r=1,p===!0&&(r|=24),p=on(3,null,null,r),i.current=p,p.stateNode=i,r=Hf(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:r},Sh(p),i}function t0(i){return i?(i=gr,i):gr}function n0(i,r,o,l,f,p){f=t0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ni(r),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=Mi(i,l,r),o!==null&&(xt(o,i,r),Ka(o,i,r))}function i0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function cd(i,r){i0(i,r),(i=i.alternate)&&i0(i,r)}function s0(i){if(i.tag===13){var r=Ci(i,67108864);r!==null&&xt(r,i,67108864),cd(i,67108864)}}var Lu=!0;function j1(i,r,o,l){var f=F.T;F.T=null;var p=W.p;try{W.p=2,fd(i,r,o,l)}finally{W.p=p,F.T=f}}function F1(i,r,o,l){var f=F.T;F.T=null;var p=W.p;try{W.p=8,fd(i,r,o,l)}finally{W.p=p,F.T=f}}function fd(i,r,o,l){if(Lu){var f=hd(l);if(f===null)Jh(i,r,l,Uu,o),a0(i,l);else if(G1(f,i,r,o,l))l.stopPropagation();else if(a0(i,l),r&4&&-1<q1.indexOf(i)){for(;f!==null;){var p=rr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=cs(p.pendingLanes);if(v!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Bt(v);E.entanglements[1]|=b,v&=~b}Dn(p),(Ve&6)===0&&(Eu=Cn()+500,so(0))}}break;case 13:E=Ci(p,2),E!==null&&xt(E,p,2),bu(),cd(p,2)}if(p=hd(l),p===null&&Jh(i,r,l,Uu,o),p===f)break;f=p}f!==null&&l.stopPropagation()}else Jh(i,r,l,null,o)}}function hd(i){return i=vf(i),dd(i)}var Uu=null;function dd(i){if(Uu=null,i=fs(i),i!==null){var r=J(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=Ce(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Uu=i,null}function r0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(DA()){case Dg:return 2;case Og:return 8;case Ml:case OA:return 32;case Ng:return 268435456;default:return 32}default:return 32}}var pd=!1,Bi=null,zi=null,Hi=null,fo=new Map,ho=new Map,ji=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(i,r){switch(i){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":fo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(r.pointerId)}}function po(i,r,o,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=rr(r),r!==null&&s0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function G1(i,r,o,l,f){switch(r){case"focusin":return Bi=po(Bi,i,r,o,l,f),!0;case"dragenter":return zi=po(zi,i,r,o,l,f),!0;case"mouseover":return Hi=po(Hi,i,r,o,l,f),!0;case"pointerover":var p=f.pointerId;return fo.set(p,po(fo.get(p)||null,i,r,o,l,f)),!0;case"gotpointercapture":return p=f.pointerId,ho.set(p,po(ho.get(p)||null,i,r,o,l,f)),!0}return!1}function o0(i){var r=fs(i.target);if(r!==null){var o=J(r);if(o!==null){if(r=o.tag,r===13){if(r=Ce(o),r!==null){i.blockedOn=r,BA(i.priority,function(){if(o.tag===13){var l=qt(),f=Ci(o,l);f!==null&&xt(f,o,l),cd(o,l)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hd(i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);yf=l,o.target.dispatchEvent(l),yf=null}else return r=rr(o),r!==null&&s0(r),i.blockedOn=o,!1;r.shift()}return!0}function l0(i,r,o){Vu(i)&&o.delete(r)}function Y1(){pd=!1,Bi!==null&&Vu(Bi)&&(Bi=null),zi!==null&&Vu(zi)&&(zi=null),Hi!==null&&Vu(Hi)&&(Hi=null),fo.forEach(l0),ho.forEach(l0)}function Bu(i,r){i.blockedOn===r&&(i.blockedOn=null,pd||(pd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y1)))}var zu=null;function u0(i){zu!==i&&(zu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zu===i&&(zu=null);for(var r=0;r<i.length;r+=3){var o=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(dd(l||o)===null)continue;break}var p=rr(o);p!==null&&(i.splice(r,3),r-=3,ih(p,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function mo(i){function r(b){return Bu(b,i)}Bi!==null&&Bu(Bi,i),zi!==null&&Bu(zi,i),Hi!==null&&Bu(Hi,i),fo.forEach(r),ho.forEach(r);for(var o=0;o<ji.length;o++){var l=ji[o];l.blockedOn===i&&(l.blockedOn=null)}for(;0<ji.length&&(o=ji[0],o.blockedOn===null);)o0(o),o.blockedOn===null&&ji.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],v=f[kt]||null;if(typeof p=="function")v||u0(o);else if(v){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[kt]||null)E=v.formAction;else if(dd(f)!==null)continue}else E=v.action;typeof E=="function"?o[l+1]=E:(o.splice(l,3),l-=3),u0(o)}}}function md(i){this._internalRoot=i}Hu.prototype.render=md.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,l=qt();n0(o,l,i,r,null,null)},Hu.prototype.unmount=md.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Ir(),n0(i.current,2,null,i,null,null),bu(),r[sr]=null}};function Hu(i){this._internalRoot=i}Hu.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ug();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ji.length&&r!==0&&r<ji[o].priority;o++);ji.splice(o,0,i),o===0&&o0(i)}};var c0=e.version;if(c0!=="19.0.0")throw Error(s(527,c0,"19.0.0"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=H(r),i=i!==null?re(i):null,i=i===null?null:i.stateNode,i};var K1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:fs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{_a=ju.inject(K1),Vt=ju}catch{}}return yo.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,l="",f=Rv,p=xv,v=Dv,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=e0(i,1,!1,null,null,o,l,f,p,v,E,null),i[sr]=r.current,Zh(i.nodeType===8?i.parentNode:i),new md(r)},yo.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var l=!1,f="",p=Rv,v=xv,E=Dv,b=null,R=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(b=o.unstable_transitionCallbacks),o.formState!==void 0&&(R=o.formState)),r=e0(i,1,!0,r,o??null,l,f,p,v,E,b,R),r.context=t0(null),o=r.current,l=qt(),f=Ni(l),f.callback=null,Mi(o,f,l),r.current.lanes=l,Sa(r,l),Dn(r),i[sr]=r.current,Zh(i),new Hu(r)},yo.version="19.0.0",yo}var E0;function ix(){if(E0)return vd.exports;E0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vd.exports=nx(),vd.exports}var sx=ix(),vo={},S0;function rx(){if(S0)return vo;S0=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.parse=c,vo.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,S){const T=new u,w=_.length;if(w<2)return T;const D=(S==null?void 0:S.decode)||g;let x=0;do{const P=_.indexOf("=",x);if(P===-1)break;const k=_.indexOf(";",x),q=k===-1?w:k;if(P>q){x=_.lastIndexOf(";",P-1)+1;continue}const B=h(_,x,P),G=d(_,P,B),le=_.slice(B,G);if(T[le]===void 0){let X=h(_,P+1,q),F=d(_,q,X);const te=D(_.slice(X,F));T[le]=te}x=q+1}while(x<w);return T}function h(_,S,T){do{const w=_.charCodeAt(S);if(w!==32&&w!==9)return S}while(++S<T);return T}function d(_,S,T){for(;S>T;){const w=_.charCodeAt(--S);if(w!==32&&w!==9)return S+1}return T}function m(_,S,T){const w=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=w(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let x=_+"="+D;if(!T)return x;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);x+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);x+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);x+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);x+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(x+="; HttpOnly"),T.secure&&(x+="; Secure"),T.partitioned&&(x+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return x}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return a.call(_)==="[object Date]"}return vo}rx();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T0="popstate";function ax(t={}){function e(s,a){let{pathname:u,search:c,hash:h}=s.location;return Zd("",{pathname:u,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Fo(a)}return lx(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ox(){return Math.random().toString(36).substring(2,10)}function b0(t,e){return{usr:t.state,key:t.key,idx:e}}function Zd(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||s||ox()}}function Fo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function lx(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let D=g(),x=D==null?null:D-m;m=D,d&&d({action:h,location:w.location,delta:x})}function _(D,x){h="PUSH";let P=Zd(w.location,D,x);m=g()+1;let k=b0(P,m),q=w.createHref(P);try{c.pushState(k,"",q)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(q)}u&&d&&d({action:h,location:w.location,delta:1})}function S(D,x){h="REPLACE";let P=Zd(w.location,D,x);m=g();let k=b0(P,m),q=w.createHref(P);c.replaceState(k,"",q),u&&d&&d({action:h,location:w.location,delta:0})}function T(D){let x=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof D=="string"?D:Fo(D);return P=P.replace(/ $/,"%20"),ze(x,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,x)}let w={get action(){return h},get location(){return t(a,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(T0,y),d=D,()=>{a.removeEventListener(T0,y),d=null}},createHref(D){return e(a,D)},createURL:T,encodeLocation(D){let x=T(D);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:S,go(D){return c.go(D)}};return w}function aT(t,e,n="/"){return ux(t,e,n,!1)}function ux(t,e,n,s){let a=typeof e=="string"?la(e):e,u=fi(a.pathname||"/",n);if(u==null)return null;let c=oT(t);cx(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Sx(u);h=_x(c[d],m,s)}return h}function oT(t,e=[],n=[],s=""){let a=(u,c,h)=>{let d={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(ze(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let m=ai([s,d.relativePath]),g=n.concat(d);u.children&&u.children.length>0&&(ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),oT(u.children,e,g,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:yx(m,u.index),routesMeta:g})};return t.forEach((u,c)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))a(u,c);else for(let d of lT(u.path))a(u,c,d)}),e}function lT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let c=lT(s.join("/")),h=[];return h.push(...c.map(d=>d===""?u:[u,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function cx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vx(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var fx=/^:[\w-]+$/,hx=3,dx=2,px=1,mx=10,gx=-2,C0=t=>t==="*";function yx(t,e){let n=t.split("/"),s=n.length;return n.some(C0)&&(s+=gx),e&&(s+=dx),n.filter(a=>!C0(a)).reduce((a,u)=>a+(fx.test(u)?hx:u===""?px:mx),s)}function vx(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function _x(t,e,n=!1){let{routesMeta:s}=t,a={},u="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=lc({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!y&&m&&n&&!s[s.length-1].route.index&&(y=lc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:ai([u,y.pathname]),pathnameBase:wx(ai([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=ai([u,y.pathnameBase]))}return c}function lc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Ex(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let u=a[0],c=u.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:y},_)=>{if(g==="*"){let T=h[_]||"";c=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const S=h[_];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:t}}function Ex(t,e=!1,n=!0){Ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Sx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Tx(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?la(t):t;return{pathname:n?n.startsWith("/")?n:bx(n,e):e,search:Ax(s),hash:Rx(a)}}function bx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Td(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uT(t){let e=Cx(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cT(t,e,n,s=!1){let a;typeof t=="string"?a=la(t):(a={...t},ze(!a.pathname||!a.pathname.includes("?"),Td("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Td("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Td("#","search","hash",a)));let u=t===""||a.pathname==="",c=u?"/":a.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!s&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}h=y>=0?e[y]:"/"}let d=Tx(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var ai=t=>t.join("/").replace(/\/\/+/g,"/"),wx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fT=["POST","PUT","PATCH","DELETE"];new Set(fT);var Dx=["GET",...fT];new Set(Dx);var ua=O.createContext(null);ua.displayName="DataRouter";var Uc=O.createContext(null);Uc.displayName="DataRouterState";var hT=O.createContext({isTransitioning:!1});hT.displayName="ViewTransition";var Ox=O.createContext(new Map);Ox.displayName="Fetchers";var Nx=O.createContext(null);Nx.displayName="Await";var Un=O.createContext(null);Un.displayName="Navigation";var ul=O.createContext(null);ul.displayName="Location";var gi=O.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var qp=O.createContext(null);qp.displayName="RouteError";function Mx(t,{relative:e}={}){ze(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Un),{hash:a,pathname:u,search:c}=hl(t,{relative:e}),h=u;return n!=="/"&&(h=u==="/"?n:ai([n,u])),s.createHref({pathname:h,search:c,hash:a})}function cl(){return O.useContext(ul)!=null}function Qs(){return ze(cl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ul).location}var dT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pT(t){O.useContext(Un).static||O.useLayoutEffect(t)}function fl(){let{isDataRoute:t}=O.useContext(gi);return t?Gx():Ix()}function Ix(){ze(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(ua),{basename:e,navigator:n}=O.useContext(Un),{matches:s}=O.useContext(gi),{pathname:a}=Qs(),u=JSON.stringify(uT(s)),c=O.useRef(!1);return pT(()=>{c.current=!0}),O.useCallback((d,m={})=>{if(Ln(c.current,dT),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=cT(d,JSON.parse(u),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ai([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,u,a,t])}O.createContext(null);function hl(t,{relative:e}={}){let{matches:n}=O.useContext(gi),{pathname:s}=Qs(),a=JSON.stringify(uT(n));return O.useMemo(()=>cT(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function kx(t,e){return mT(t,e)}function mT(t,e,n,s){var P;ze(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:u}=O.useContext(Un),{matches:c}=O.useContext(gi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";gT(m,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=Qs(),S;if(e){let k=typeof e=="string"?la(e):e;ze(g==="/"||((P=k.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=_;let T=S.pathname||"/",w=T;if(g!=="/"){let k=g.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let D=!u&&n&&n.matches&&n.matches.length>0?n.matches:aT(t,{pathname:w});Ln(y||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ln(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Bx(D&&D.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:ai([g,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:ai([g,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,n,s);return e&&x?O.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},x):x}function Px(){let t=qx(),e=xx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var Lx=O.createElement(Px,null),Ux=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(gi.Provider,{value:this.props.routeContext},O.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vx({routeContext:t,match:e,children:n}){let s=O.useContext(ua);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(gi.Provider,{value:t},n)}function Bx(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let d=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=n,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let y,_=!1,S=null,T=null;n&&(y=u&&m.route.id?u[m.route.id]:void 0,S=m.route.errorElement||Lx,c&&(h<0&&g===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):h===g&&(_=!0,T=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,g+1)),D=()=>{let x;return y?x=S:_?x=T:m.route.Component?x=O.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=d,O.createElement(Vx,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?O.createElement(Ux,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:D(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):D()},null)}function Gp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zx(t){let e=O.useContext(ua);return ze(e,Gp(t)),e}function Hx(t){let e=O.useContext(Uc);return ze(e,Gp(t)),e}function jx(t){let e=O.useContext(gi);return ze(e,Gp(t)),e}function Yp(t){let e=jx(t),n=e.matches[e.matches.length-1];return ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Fx(){return Yp("useRouteId")}function qx(){var s;let t=O.useContext(qp),e=Hx("useRouteError"),n=Yp("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function Gx(){let{router:t}=zx("useNavigate"),e=Yp("useNavigate"),n=O.useRef(!1);return pT(()=>{n.current=!0}),O.useCallback(async(a,u={})=>{Ln(n.current,dT),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...u}))},[t,e])}var w0={};function gT(t,e,n){!e&&!w0[t]&&(w0[t]=!0,Ln(!1,n))}O.memo(Yx);function Yx({routes:t,future:e,state:n}){return mT(t,void 0,n,e)}function Ao(t){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kx({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){ze(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:c,navigator:a,static:u,future:{}}),[c,a,u]);typeof n=="string"&&(n=la(n));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:_="default"}=n,S=O.useMemo(()=>{let T=fi(d,c);return T==null?null:{location:{pathname:T,search:m,hash:g,state:y,key:_},navigationType:s}},[c,d,m,g,y,_,s]);return Ln(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(Un.Provider,{value:h},O.createElement(ul.Provider,{children:e,value:S}))}function Wx({children:t,location:e}){return kx(Jd(t),e)}function Jd(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let u=[...e,a];if(s.type===O.Fragment){n.push.apply(n,Jd(s.props.children,u));return}ze(s.type===Ao,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Jd(s.props.children,u)),n.push(c)}),n}var Zu="get",Ju="application/x-www-form-urlencoded";function Vc(t){return t!=null&&typeof t.tagName=="string"}function Xx(t){return Vc(t)&&t.tagName.toLowerCase()==="button"}function $x(t){return Vc(t)&&t.tagName.toLowerCase()==="form"}function Qx(t){return Vc(t)&&t.tagName.toLowerCase()==="input"}function Zx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jx(t,e){return t.button===0&&(!e||e==="_self")&&!Zx(t)}var Fu=null;function eD(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var tD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(t){return t!=null&&!tD.has(t)?(Ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):t}function nD(t,e){let n,s,a,u,c;if($x(t)){let h=t.getAttribute("action");s=h?fi(h,e):null,n=t.getAttribute("method")||Zu,a=bd(t.getAttribute("enctype"))||Ju,u=new FormData(t)}else if(Xx(t)||Qx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?fi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Zu,a=bd(t.getAttribute("formenctype"))||bd(h.getAttribute("enctype"))||Ju,u=new FormData(h,t),!eD()){let{name:m,type:g,value:y}=t;if(g==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,y)}}else{if(Vc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zu,s=null,a=Ju,c=t}return u&&a==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:c}}function Kp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function iD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rD(t,e,n){let s=await Promise.all(t.map(async a=>{let u=e.routes[a.route.id];if(u){let c=await iD(u,n);return c.links?c.links():[]}return[]}));return uD(s.flat(1).filter(sD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function A0(t,e,n,s,a,u){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return u==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):u==="data"?e.filter((d,m)=>{var y;let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function aD(t,e,{includeHydrateFallback:n}={}){return oD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function oD(t){return[...new Set(t)]}function lD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let u=JSON.stringify(lD(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function cD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function yT(){let t=O.useContext(ua);return Kp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fD(){let t=O.useContext(Uc);return Kp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wp=O.createContext(void 0);Wp.displayName="FrameworkContext";function vT(){let t=O.useContext(Wp);return Kp(t,"You must render this element inside a <HydratedRouter> element"),t}function hD(t,e){let n=O.useContext(Wp),[s,a]=O.useState(!1),[u,c]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,_=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=x=>{x.forEach(P=>{c(P.isIntersecting)})},D=new IntersectionObserver(w,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),O.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let S=()=>{a(!0)},T=()=>{a(!1),c(!1)};return n?t!=="intent"?[u,_,{}]:[u,_,{onFocus:_o(h,S),onBlur:_o(d,T),onMouseEnter:_o(m,S),onMouseLeave:_o(g,T),onTouchStart:_o(y,S)}]:[!1,_,{}]}function _o(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dD({page:t,...e}){let{router:n}=yT(),s=O.useMemo(()=>aT(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(mD,{page:t,matches:s,...e}):null}function pD(t){let{manifest:e,routeModules:n}=vT(),[s,a]=O.useState([]);return O.useEffect(()=>{let u=!1;return rD(t,e,n).then(c=>{u||a(c)}),()=>{u=!0}},[t,e,n]),s}function mD({page:t,matches:e,...n}){let s=Qs(),{manifest:a,routeModules:u}=vT(),{basename:c}=yT(),{loaderData:h,matches:d}=fD(),m=O.useMemo(()=>A0(t,e,d,a,s,"data"),[t,e,d,a,s]),g=O.useMemo(()=>A0(t,e,d,a,s,"assets"),[t,e,d,a,s]),y=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let T=new Set,w=!1;if(e.forEach(x=>{var k;let P=a.routes[x.route.id];!P||!P.hasLoader||(!m.some(q=>q.route.id===x.route.id)&&x.route.id in h&&((k=u[x.route.id])!=null&&k.shouldRevalidate)||P.hasClientLoader?w=!0:T.add(x.route.id))}),T.size===0)return[];let D=cD(t,c);return w&&T.size>0&&D.searchParams.set("_routes",e.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[D.pathname+D.search]},[c,h,s,a,m,e,t,u]),_=O.useMemo(()=>aD(g,a),[g,a]),S=pD(g);return O.createElement(O.Fragment,null,y.map(T=>O.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),_.map(T=>O.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),S.map(({key:T,link:w})=>O.createElement("link",{key:T,...w})))}function gD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.3.0")}catch{}function yD({basename:t,children:e,window:n}){let s=O.useRef();s.current==null&&(s.current=ax({window:n,v5Compat:!0}));let a=s.current,[u,c]=O.useState({action:a.action,location:a.location}),h=O.useCallback(d=>{O.startTransition(()=>c(d))},[c]);return O.useLayoutEffect(()=>a.listen(h),[a,h]),O.createElement(Kx,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a})}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ST=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,..._},S){let{basename:T}=O.useContext(Un),w=typeof m=="string"&&ET.test(m),D,x=!1;if(typeof m=="string"&&w&&(D=m,_T))try{let F=new URL(window.location.href),te=m.startsWith("//")?new URL(F.protocol+m):new URL(m),He=fi(te.pathname,T);te.origin===F.origin&&He!=null?m=He+te.search+te.hash:x=!0}catch{Ln(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=Mx(m,{relative:a}),[k,q,B]=hD(s,_),G=SD(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function le(F){e&&e(F),F.defaultPrevented||G(F)}let X=O.createElement("a",{..._,...B,href:D||P,onClick:x||u?e:le,ref:gD(S,q),target:d,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?O.createElement(O.Fragment,null,X,O.createElement(dD,{page:P})):X});ST.displayName="Link";var vD=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:c,viewTransition:h,children:d,...m},g){let y=hl(c,{relative:m.relative}),_=Qs(),S=O.useContext(Uc),{navigator:T,basename:w}=O.useContext(Un),D=S!=null&&AD(y)&&h===!0,x=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,P=_.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(P=P.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&w&&(k=fi(k,w)||k);const q=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let B=P===x||!a&&P.startsWith(x)&&P.charAt(q)==="/",G=k!=null&&(k===x||!a&&k.startsWith(x)&&k.charAt(x.length)==="/"),le={isActive:B,isPending:G,isTransitioning:D},X=B?e:void 0,F;typeof s=="function"?F=s(le):F=[s,B?"active":null,G?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(le):u;return O.createElement(ST,{...m,"aria-current":X,className:F,ref:g,style:te,to:c,viewTransition:h},typeof d=="function"?d(le):d)});vD.displayName="NavLink";var _D=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:c=Zu,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,..._},S)=>{let T=CD(),w=wD(h,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&ET.test(h),P=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let q=k.nativeEvent.submitter,B=(q==null?void 0:q.getAttribute("formmethod"))||c;T(q||k.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:a,state:u,relative:m,preventScrollReset:g,viewTransition:y})};return O.createElement("form",{ref:S,method:D,action:w,onSubmit:s?d:P,..._,"data-discover":!x&&t==="render"?"true":void 0})});_D.displayName="Form";function ED(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(t){let e=O.useContext(ua);return ze(e,ED(t)),e}function SD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:c}={}){let h=fl(),d=Qs(),m=hl(t,{relative:u});return O.useCallback(g=>{if(Jx(g,e)){g.preventDefault();let y=n!==void 0?n:Fo(d)===Fo(m);h(t,{replace:y,state:s,preventScrollReset:a,relative:u,viewTransition:c})}},[d,h,m,n,s,e,t,a,u,c])}var TD=0,bD=()=>`__${String(++TD)}__`;function CD(){let{router:t}=TT("useSubmit"),{basename:e}=O.useContext(Un),n=Fx();return O.useCallback(async(s,a={})=>{let{action:u,method:c,encType:h,formData:d,body:m}=nD(s,e);if(a.navigate===!1){let g=a.fetcherKey||bD();await t.fetch(g,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function wD(t,{relative:e}={}){let{basename:n}=O.useContext(Un),s=O.useContext(gi);ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...hl(t||".",{relative:e})},c=Qs();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ai([n,u.pathname])),Fo(u)}function AD(t,e={}){let n=O.useContext(hT);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TT("useViewTransitionState"),a=hl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lc(a.pathname,c)!=null||lc(a.pathname,u)!=null}new TextEncoder;const RD=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw ca(e)},ca=function(t){return new Error("Firebase Database ("+bT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},xD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=t[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const u=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Xp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const u=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let _=(h&15)<<2|m>>6,S=m&63;d||(S=64,c||(_=64)),s.push(n[g],n[y],n[_],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const u=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,u==null||h==null||m==null||y==null)throw new DD;const _=u<<2|h>>4;if(s.push(_),m!==64){const S=h<<4&240|m>>2;if(s.push(S),y!==64){const T=m<<6&192|y;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wT=function(t){const e=CT(t);return Xp.encodeByteArray(e,!0)},uc=function(t){return wT(t).replace(/\./g,"")},cc=function(t){try{return Xp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return AT(void 0,t)}function AT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ND(n)||(t[n]=AT(t[n],e[n]));return t}function ND(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=()=>MD().__FIREBASE_DEFAULTS__,kD=()=>{if(typeof process>"u"||typeof R0>"u")return;const t=R0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cc(t[1]);return e&&JSON.parse(e)},$p=()=>{try{return RD()||ID()||kD()||PD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RT=t=>{var e,n;return(n=(e=$p())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xT=t=>{const e=RT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},DT=()=>{var t;return(t=$p())===null||t===void 0?void 0:t.config},OT=t=>{var e;return(e=$p())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[uc(JSON.stringify(n)),uc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function LD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VD(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BD(){return bT.NODE_ADMIN===!0}function zD(){try{return typeof indexedDB=="object"}catch{return!1}}function HD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="FirebaseError";class yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jD,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],c=u?FD(u,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new yi(a,h,s)}}function FD(t,e){return t.replace(qD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const qD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=function(t){let e={},n={},s={},a="";try{const u=t.split(".");e=qo(cc(u[0])||""),n=qo(cc(u[1])||""),a=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:a}},GD=function(t){const e=IT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},YD=function(t){const e=IT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ep(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fc(t,e,n){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=e.call(n,t[a],a,t));return s}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=t[a],c=e[a];if(x0(u)&&x0(c)){if(!Fs(u,c))return!1}else if(u!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function x0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ro(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,u]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(_<<1|_>>>31)&4294967295}let a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=h^u&(c^h),g=1518500249):(m=u^c^h,g=1859775393):y<60?(m=u&c|h&(u|c),g=2400959708):(m=u^c^h,g=3395469782);const _=(a<<5|a>>>27)+m+d+g+s[y]&4294967295;d=h,h=c,c=(u<<30|u>>>2)&4294967295,u=a,a=_}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let a=0;const u=this.buf_;let c=this.inbuf_;for(;a<n;){if(c===0)for(;a<=s;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(u[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(u),c=0;break}}else for(;a<n;)if(u[c]=e[a],++c,++a,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let a=0;a<5;a++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[a]>>u&255,++s;return e}}function WD(t,e){const n=new XD(t,e);return n.subscribe.bind(n)}class XD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$D(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Cd),a.error===void 0&&(a.error=Cd),a.complete===void 0&&(a.complete=Cd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $D(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cd(){}function Bc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const u=a-55296;s++,j(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;a=65536+(u<<10)+c}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zc=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&c.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const c=this.instances.get(a);return c&&e(c,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JD(t){return t===Is?void 0:t}function eO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const nO={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},iO=xe.INFO,sO={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rO=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=sO[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=iO,this._logHandler=rO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const aO=(t,e)=>e.some(n=>t instanceof n);let D0,O0;function oO(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kT=new WeakMap,tp=new WeakMap,PT=new WeakMap,wd=new WeakMap,Jp=new WeakMap;function uO(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Zi(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&kT.set(n,t)}).catch(()=>{}),Jp.set(e,t),e}function cO(t){if(tp.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});tp.set(t,e)}let np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fO(t){np=t(np)}function hO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ad(this),e,...n);return PT.set(s,e.sort?e.sort():[e]),Zi(s)}:lO().includes(t)?function(...e){return t.apply(Ad(this),e),Zi(kT.get(this))}:function(...e){return Zi(t.apply(Ad(this),e))}}function dO(t){return typeof t=="function"?hO(t):(t instanceof IDBTransaction&&cO(t),aO(t,oO())?new Proxy(t,np):t)}function Zi(t){if(t instanceof IDBRequest)return uO(t);if(wd.has(t))return wd.get(t);const e=dO(t);return e!==t&&(wd.set(t,e),Jp.set(e,t)),e}const Ad=t=>Jp.get(t);function pO(t,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(t,e),h=Zi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Zi(c.result),d.oldVersion,d.newVersion,Zi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{u&&d.addEventListener("close",()=>u()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const mO=["get","getKey","getAll","getAllKeys","count"],gO=["put","add","delete","clear"],Rd=new Map;function N0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=gO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||mO.includes(n)))return;const u=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Rd.set(e,u),u}fO(t=>({...t,get:(e,n,s)=>N0(e,n)||t.get(e,n,s),has:(e,n)=>!!N0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",M0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Zp("@firebase/app"),_O="@firebase/app-compat",EO="@firebase/analytics-compat",SO="@firebase/analytics",TO="@firebase/app-check-compat",bO="@firebase/app-check",CO="@firebase/auth",wO="@firebase/auth-compat",AO="@firebase/database",RO="@firebase/data-connect",xO="@firebase/database-compat",DO="@firebase/functions",OO="@firebase/functions-compat",NO="@firebase/installations",MO="@firebase/installations-compat",IO="@firebase/messaging",kO="@firebase/messaging-compat",PO="@firebase/performance",LO="@firebase/performance-compat",UO="@firebase/remote-config",VO="@firebase/remote-config-compat",BO="@firebase/storage",zO="@firebase/storage-compat",HO="@firebase/firestore",jO="@firebase/vertexai",FO="@firebase/firestore-compat",qO="firebase",GO="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",YO={[ip]:"fire-core",[_O]:"fire-core-compat",[SO]:"fire-analytics",[EO]:"fire-analytics-compat",[bO]:"fire-app-check",[TO]:"fire-app-check-compat",[CO]:"fire-auth",[wO]:"fire-auth-compat",[AO]:"fire-rtdb",[RO]:"fire-data-connect",[xO]:"fire-rtdb-compat",[DO]:"fire-fn",[OO]:"fire-fn-compat",[NO]:"fire-iid",[MO]:"fire-iid-compat",[IO]:"fire-fcm",[kO]:"fire-fcm-compat",[PO]:"fire-perf",[LO]:"fire-perf-compat",[UO]:"fire-rc",[VO]:"fire-rc-compat",[BO]:"fire-gcs",[zO]:"fire-gcs-compat",[HO]:"fire-fst",[FO]:"fire-fst-compat",[jO]:"fire-vertex","fire-js":"fire-js",[qO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,KO=new Map,rp=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(rp.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const n of hc.values())I0(n,t);for(const n of KO.values())I0(n,t);return!0}function Hc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new pl("app","Firebase",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=GO;function LT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(n||(n=DT()),!n)throw Ji.create("no-options");const u=hc.get(a);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Ji.create("duplicate-app",{appName:a})}const c=new tO(a);for(const d of rp.values())c.addComponent(d);const h=new XO(n,s,c);return hc.set(a,h),h}function em(t=sp){const e=hc.get(t);if(!e&&t===sp&&DT())return LT();if(!e)throw Ji.create("no-app",{appName:t});return e}function Nn(t,e,n){var s;let a=(s=YO[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const u=a.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const h=[`Unable to register library "${a}" with version "${e}":`];u&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(h.join(" "));return}qs(new ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="firebase-heartbeat-database",QO=1,Go="firebase-heartbeat-store";let xd=null;function UT(){return xd||(xd=pO($O,QO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Go)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),xd}async function ZO(t){try{const n=(await UT()).transaction(Go),s=await n.objectStore(Go).get(VT(t));return await n.done,s}catch(e){if(e instanceof yi)hi.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function k0(t,e){try{const s=(await UT()).transaction(Go,"readwrite");await s.objectStore(Go).put(e,VT(t)),await s.done}catch(n){if(n instanceof yi)hi.warn(n.message);else{const s=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(s.message)}}}function VT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=1024,eN=30;class tN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=P0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>eN){const c=sN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P0(),{heartbeatsToSend:s,unsentEntries:a}=nN(this._heartbeatsCache.heartbeats),u=uc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hi.warn(n),""}}}function P0(){return new Date().toISOString().substring(0,10)}function nN(t,e=JO){const n=[];let s=t.slice();for(const a of t){const u=n.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),L0(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),L0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zD()?HD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return k0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return k0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function L0(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function sN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){qs(new ns("platform-logger",e=>new yO(e),"PRIVATE")),qs(new ns("heartbeat",e=>new tN(e),"PRIVATE")),Nn(ip,M0,t),Nn(ip,M0,"esm2017"),Nn("fire-js","")}rN("");function tm(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aN=BT,zT=new pl("auth","Firebase",BT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Zp("@firebase/auth");function oN(t,...e){dc.logLevel<=xe.WARN&&dc.warn(`Auth (${Zs}): ${t}`,...e)}function ec(t,...e){dc.logLevel<=xe.ERROR&&dc.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw nm(t,...e)}function Mn(t,...e){return nm(t,...e)}function HT(t,e,n){const s=Object.assign(Object.assign({},aN()),{[e]:n});return new pl("auth","Firebase",s).create(e,{appName:t.name})}function oi(t){return HT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nm(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return zT.create(t,...e)}function ae(t,e,...n){if(!t)throw nm(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ec(e),new Error(e)}function di(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lN(){return U0()==="http:"||U0()==="https:"}function U0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lN()||UD()||"connection"in navigator)?navigator.onLine:!0}function cN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=Qp()||MT()}get(){return uN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new ml(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,s,a={}){return FT(t,a,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const h=fa(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},u);return LD()||(m.referrerPolicy="no-referrer"),jT.fetch()(qT(t,t.config.apiHost,n,h),m)})}async function FT(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},fN),e);try{const a=new pN(t),u=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw qu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const h=u.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw qu(t,"user-disabled",c);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw HT(t,g,m);Tn(t,g)}}catch(a){if(a instanceof yi)throw a;Tn(t,"network-request-failed",{message:String(a)})}}async function gl(t,e,n,s,a={}){const u=await vi(t,e,n,s,a);return"mfaPendingCredential"in u&&Tn(t,"multi-factor-auth-required",{_serverResponse:u}),u}function qT(t,e,n,s){const a=`${e}${n}?${s}`;return t.config.emulator?im(t.config,a):`${t.config.apiScheme}://${a}`}function dN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mn(this.auth,"network-request-failed")),hN.get())})}}function qu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Mn(t,e,s);return a.customData._tokenResponse=n,a}function V0(t){return t!==void 0&&t.enterprise!==void 0}class mN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gN(t,e){return vi(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function GT(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vN(t,e=!1){const n=at(t),s=await n.getIdToken(e),a=sm(s);ae(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:No(Dd(a.auth_time)),issuedAtTime:No(Dd(a.iat)),expirationTime:No(Dd(a.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dd(t){return Number(t)*1e3}function sm(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const a=cc(n);return a?JSON.parse(a):(ec("Failed to decode base64 JWT payload"),null)}catch(a){return ec("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function B0(t){const e=sm(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yi&&_N(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function _N({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Jr(t,GT(n,{idToken:s}));ae(a==null?void 0:a.users.length,n,"internal-error");const u=a.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?YT(u.providerUserInfo):[],h=TN(t.providerData,c),d=t.isAnonymous,m=!(t.email&&u.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new op(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function SN(t){const e=at(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TN(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function YT(t){return t.map(e=>{var{providerId:n}=e,s=tm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e){const n=await FT(t,{},async()=>{const s=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=t.config,c=qT(t,a,"/v1/token",`key=${u}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",jT.fetch()(c,{method:"POST",headers:h,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(t,e){return vi(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=B0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:u}=await bN(e,n);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:u}=n,c=new Kr;return s&&(ae(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),u&&(ae(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kr,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,u=tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new op(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jr(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vN(this,e)}reload(){return SN(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Jr(this,yN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,u,c,h,d,m,g;const y=(s=n.displayName)!==null&&s!==void 0?s:void 0,_=(a=n.email)!==null&&a!==void 0?a:void 0,S=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,T=(c=n.photoURL)!==null&&c!==void 0?c:void 0,w=(h=n.tenantId)!==null&&h!==void 0?h:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,x=(m=n.createdAt)!==null&&m!==void 0?m:void 0,P=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:q,isAnonymous:B,providerData:G,stsTokenManager:le}=n;ae(k&&le,e,"internal-error");const X=Kr.fromJSON(this.name,le);ae(typeof k=="string",e,"internal-error"),qi(y,e.name),qi(_,e.name),ae(typeof q=="boolean",e,"internal-error"),ae(typeof B=="boolean",e,"internal-error"),qi(S,e.name),qi(T,e.name),qi(w,e.name),qi(D,e.name),qi(x,e.name),qi(P,e.name);const F=new ii({uid:k,auth:e,email:_,emailVerified:q,displayName:y,isAnonymous:B,photoURL:T,phoneNumber:S,tenantId:w,stsTokenManager:X,createdAt:x,lastLoginAt:P});return G&&Array.isArray(G)&&(F.providerData=G.map(te=>Object.assign({},te))),D&&(F._redirectEventId=D),F}static async _fromIdTokenResponse(e,n,s=!1){const a=new Kr;a.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await pc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];ae(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?YT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),h=new Kr;h.updateFromIdToken(s);const d=new ii({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new op(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function si(t){di(t instanceof Function,"Expected a class definition");let e=z0.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KT.type="NONE";const H0=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t,e,n){return`firebase:${t}:${e}:${n}`}class Wr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=tc(this.userKey,a.apiKey,u),this.fullPersistenceKey=tc("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wr(si(H0),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=a[0]||si(H0);const c=tc(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){const y=ii._fromJSON(e,g);m!==u&&(h=y),u=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new Wr(u,e,s):(u=d[0],h&&await u._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new Wr(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(eb(e))return"Webos";if(XT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function WT(t=It()){return/firefox\//i.test(t)}function XT(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(t=It()){return/crios\//i.test(t)}function QT(t=It()){return/iemobile/i.test(t)}function ZT(t=It()){return/android/i.test(t)}function JT(t=It()){return/blackberry/i.test(t)}function eb(t=It()){return/webos/i.test(t)}function rm(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wN(t=It()){var e;return rm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AN(){return VD()&&document.documentMode===10}function tb(t=It()){return rm(t)||ZT(t)||eb(t)||JT(t)||/windows phone/i.test(t)||QT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e=[]){let n;switch(t){case"Browser":n=j0(It());break;case"Worker":n=`${j0(It())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,h)=>{try{const d=e(u);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e={}){return vi(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=6;class ON{constructor(e){var n,s,a,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:DN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,u,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new RN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Wr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GT(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(a=d.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(oi(this));const n=e?at(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),n=new ON(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Wr.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(h,this,"internal-error"),h.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(t){return at(t)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MN(t){jc=t}function ib(t){return jc.loadJS(t)}function IN(){return jc.recaptchaEnterpriseScript}function kN(){return jc.gapiScript}function PN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LN{constructor(){this.enterprise=new UN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VN="recaptcha-enterprise",sb="NO_RECAPTCHA";class BN{constructor(e){this.type=VN,this.auth=Js(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,h)=>{gN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new mN(d);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function a(u,c,h){const d=window.grecaptcha;V0(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:e}).then(m=>{c(m)}).catch(()=>{c(sb)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LN().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(h=>{if(!n&&V0(window.grecaptcha))a(h,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=IN();d.length!==0&&(d+=h),ib(d).then(()=>{a(h,u,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function q0(t,e,n,s=!1,a=!1){const u=new BN(t);let c;if(a)c=sb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function lp(t,e,n,s,a){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await q0(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await q0(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e){const n=Hc(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return a;Tn(a,"already-initialized")}return n.initialize({options:e})}function HN(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jN(t,e,n){const s=Js(t);ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=rb(e),{host:c,port:h}=FN(e),d=h===null?"":`:${h}`,m={url:`${u}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ae(Fs(m,s.config.emulator)&&Fs(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,qN()}function rb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FN(t){const e=rb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:G0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:G0(c)}}}function G0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function GN(t,e){return vi(t,"POST","/v1/accounts:update",e)}async function YN(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return gl(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function XN(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends am{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Yo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,n,"signInWithPassword",KN);case"emailLink":return WN(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,s,"signUpPassword",YN);case"emailLink":return XN(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(t,e){return gl(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="http://localhost";class Gs extends am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,u=tm(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Gs(s,a);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xr(e,n)}buildRequest(){const e={requestUri:$N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZN(t){const e=Ro(xo(t)).link,n=e?Ro(xo(e)).deep_link_id:null,s=Ro(xo(t)).deep_link_id;return(s?Ro(xo(s)).link:null)||s||n||e||t}class om{constructor(e){var n,s,a,u,c,h;const d=Ro(xo(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(s=d.oobCode)!==null&&s!==void 0?s:null,y=QN((a=d.mode)!==null&&a!==void 0?a:null);ae(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=ZN(e);try{return new om(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return Yo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=om.parseLink(n);return ae(s,"argument-error"),Yo._fromEmailAndCode(e,s.code,s.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends yl{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends yl{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends yl{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){return gl(t,"POST","/v1/accounts:signUp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const u=await ii._fromIdTokenResponse(e,s,a),c=Y0(s);return new Ys({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Y0(s);return new Ys({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends yi{constructor(e,n,s,a){var u;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new mc(e,n,s,a)}}function ob(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(t,u,e,s):u})}async function eM(t,e,n=!1){const s=await Jr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ys._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e,n=!1){const{auth:s}=t;if(Gt(s.app))return Promise.reject(oi(s));const a="reauthenticate";try{const u=await Jr(t,ob(s,a,e,t),n);ae(u.idToken,s,"internal-error");const c=sm(u.idToken);ae(c,s,"internal-error");const{sub:h}=c;return ae(t.uid===h,s,"user-mismatch"),Ys._forOperation(t,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(t,e,n=!1){if(Gt(t.app))return Promise.reject(oi(t));const s="signIn",a=await ob(t,s,e),u=await Ys._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(u.user),u}async function nM(t,e){return lb(Js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(t){const e=Js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iM(t,e,n){if(Gt(t.app))return Promise.reject(oi(t));const s=Js(t),c=await lp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JN).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ub(t),d}),h=await Ys._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function sM(t,e,n){return Gt(t.app)?Promise.reject(oi(t)):nM(at(t),ha.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ub(t),s})}function rM(t,e){return aM(at(t),null,e)}async function aM(t,e,n){const{auth:s}=t,u={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const c=await Jr(t,GN(s,u));await t._updateTokensIfNecessary(c,!0)}function oM(t,e,n,s){return at(t).onIdTokenChanged(e,n,s)}function lM(t,e,n){return at(t).beforeAuthStateChanged(e,n)}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=1e3,cM=10;class fb extends cb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);AN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fb.type="LOCAL";const fM=fb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends cb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hb.type="SESSION";const db=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Fc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:u}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,u)),d=await hM(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,c;return new Promise((h,d)=>{const m=lm("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(y){const _=y;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(_.data.response);break;default:clearTimeout(g),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function pM(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function mM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yM(){return pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="firebaseLocalStorageDb",vM=1,yc="firebaseLocalStorage",gb="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qc(t,e){return t.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function _M(){const t=indexedDB.deleteDatabase(mb);return new vl(t).toPromise()}function up(){const t=indexedDB.open(mb,vM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(yc,{keyPath:gb})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(yc)?e(s):(s.close(),await _M(),e(await up()))})})}async function K0(t,e,n){const s=qc(t,!0).put({[gb]:e,value:n});return new vl(s).toPromise()}async function EM(t,e){const n=qc(t,!1).get(e),s=await new vl(n).toPromise();return s===void 0?null:s.value}function W0(t,e){const n=qc(t,!0).delete(e);return new vl(n).toPromise()}const SM=800,TM=3;class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>TM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(yM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mM(),!this.activeServiceWorker)return;this.sender=new dM(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await K0(e,gc,"1"),await W0(e,gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>K0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=qc(a,!1).getAll();return new vl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yb.type="LOCAL";const bM=yb;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){return e?si(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends am{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wM(t){return lb(t.auth,new um(t),t.bypassAuthState)}function AM(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),tM(n,new um(t),t.bypassAuthState)}async function RM(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),eM(n,new um(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:u,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wM;case"linkViaPopup":case"linkViaRedirect":return RM;case"reauthViaPopup":case"reauthViaRedirect":return AM;default:Tn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new ml(2e3,1e4);class zr extends vb{constructor(e,n,s,a,u){super(e,n,a,u),this.provider=s,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="pendingRedirect",nc=new Map;class OM extends vb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const s=await NM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NM(t,e){const n=kM(e),s=IM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function MM(t,e){nc.set(t._key(),e)}function IM(t){return si(t._redirectPersistence)}function kM(t){return tc(DM,t.config.apiKey,t.name)}async function PM(t,e,n=!1){if(Gt(t.app))return Promise.reject(oi(t));const s=Js(t),a=CM(s,e),c=await new OM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=10*60*1e3;class UM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!_b(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LM&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _b({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _b(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HM=/^https?/;async function jM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BM(t);for(const n of e)try{if(FM(n))return}catch{}Tn(t,"unauthorized-domain")}function FM(t){const e=ap(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!HM.test(n))return!1;if(zM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new ml(3e4,6e4);function $0(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GM(t){return new Promise((e,n)=>{var s,a,u;function c(){$0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$0(),n(Mn(t,"network-request-failed"))},timeout:qM.get()})}if(!((a=(s=In().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=In().gapi)===null||u===void 0)&&u.load)c();else{const h=PN("iframefcb");return In()[h]=()=>{gapi.load?c():n(Mn(t,"network-request-failed"))},ib(`${kN()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw ic=null,e})}let ic=null;function YM(t){return ic=ic||GM(t),ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new ml(5e3,15e3),WM="__/auth/iframe",XM="emulator/auth/iframe",$M={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZM(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?im(e,XM):`https://${t.config.authDomain}/${WM}`,s={apiKey:e.apiKey,appName:t.name,v:Zs},a=QM.get(t.config.apiHost);a&&(s.eid=a);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fa(s).slice(1)}`}async function JM(t){const e=await YM(t),n=In().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:ZM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$M,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const c=Mn(t,"network-request-failed"),h=In().setTimeout(()=>{u(c)},KM.get());function d(){In().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tI=500,nI=600,iI="_blank",sI="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rI(t,e,n,s=tI,a=nI){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d=Object.assign(Object.assign({},eI),{width:s.toString(),height:a.toString(),top:u,left:c}),m=It().toLowerCase();n&&(h=$T(m)?iI:n),WT(m)&&(e=e||sI,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[S,T])=>`${_}${S}=${T},`,"");if(wN(m)&&h!=="_self")return aI(e||"",h),new Q0(null);const y=window.open(e||"",h,g);ae(y,t,"popup-blocked");try{y.focus()}catch{}return new Q0(y)}function aI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="__/auth/handler",lI="emulator/auth/handler",uI=encodeURIComponent("fac");async function Z0(t,e,n,s,a,u){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Zs,eventId:a};if(e instanceof ab){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ep(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof yl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${uI}=${encodeURIComponent(d)}`:"";return`${cI(t)}?${fa(h).slice(1)}${m}`}function cI({config:t}){return t.emulator?im(t,lI):`https://${t.authDomain}/${oI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class fI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=db,this._completeRedirectFn=PM,this._overrideRedirectResult=MM}async _openPopup(e,n,s,a){var u;di((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await Z0(e,n,s,ap(),a);return rI(e,c,lm())}async _openRedirect(e,n,s,a){await this._originValidation(e);const u=await Z0(e,n,s,ap(),a);return pM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:u}=this.eventManagers[n];return a?Promise.resolve(a):(di(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JM(e),s=new UM(e);return n.register("authEvent",a=>(ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Od,{type:Od},a=>{var u;const c=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[Od];c!==void 0&&n(!!c),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tb()||XT()||rm()}}const hI=fI;var J0="@firebase/auth",eE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mI(t){qs(new ns("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;ae(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(t)},m=new NN(s,a,u,d);return HN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qs(new ns("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(s=>new dI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(J0,eE,pI(t)),Nn(J0,eE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=5*60,yI=OT("authIdTokenMaxAge")||gI;let tE=null;const vI=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yI)return;const a=n==null?void 0:n.token;tE!==a&&(tE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _I(t=em()){const e=Hc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zN(t,{popupRedirectResolver:hI,persistence:[bM,fM,db]}),s=OT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=vI(u.toString());lM(n,c,()=>c(n.currentUser)),oM(n,h=>c(h))}}const a=RT("auth");return a&&jN(n,`http://${a}`),n}function EI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MN({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const u=Mn("internal-error");u.customData=a,n(u)},s.type="text/javascript",s.charset="UTF-8",EI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mI("Browser");var SI="firebase",TI="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(SI,TI,"app");var nE={};const iE="@firebase/database",sE="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eb="";function bI(t){Eb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new CI(e)}}catch{}return new wI},Ls=Sb("localStorage"),AI=Sb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Zp("@firebase/database"),RI=function(){let t=1;return function(){return t++}}(),Tb=function(t){const e=QD(t),n=new KD;n.update(e);const s=n.digest();return Xp.encodeByteArray(s)},_l=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_l.apply(null,s):typeof s=="object"?e+=rt(s):e+=s,e+=" "}return e};let Mo=null,rE=!0;const xI=function(t,e){j(!0,"Can't turn on custom loggers persistently."),$r.logLevel=xe.VERBOSE,Mo=$r.log.bind($r)},yt=function(...t){if(rE===!0&&(rE=!1,Mo===null&&AI.get("logging_enabled")===!0&&xI()),Mo){const e=_l.apply(null,t);Mo(e)}},El=function(t){return function(...e){yt(t,...e)}},cp=function(...t){const e="FIREBASE INTERNAL ERROR: "+_l(...t);$r.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${_l(...t)}`;throw $r.error(e),new Error(e)},Mt=function(...t){const e="FIREBASE WARNING: "+_l(...t);$r.warn(e)},DI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},OI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ea="[MIN_NAME]",Ks="[MAX_NAME]",er=function(t,e){if(t===e)return 0;if(t===ea||e===Ks)return-1;if(e===ea||t===Ks)return 1;{const n=aE(t),s=aE(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},NI=function(t,e){return t===e?0:t<e?-1:1},Eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},fm=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=rt(e[s]),n+=":",n+=fm(t[e[s]]);return n+="}",n},bb=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let a=0;a<n;a+=e)a+e>n?s.push(t.substring(a,n)):s.push(t.substring(a,a+e));return s};function vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Cb=function(t){j(!cm(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let a,u,c,h,d;t===0?(u=0,c=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),s),u=h+s,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(d=n;d;d-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(a?1:0),m.reverse();const g=m.join("");let y="";for(d=0;d<64;d+=8){let _=parseInt(g.substr(d,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},MI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},II=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const PI=new RegExp("^-?(0*)\\d{1,10}$"),LI=-2147483648,UI=2147483647,aE=function(t){if(PI.test(t)){const e=Number(t);if(e>=LI&&e<=UI)return e}return null},da=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},VI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Io=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Gt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(e)}}class sc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}sc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="5",wb="v",Ab="s",Rb="r",xb="f",Db=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ob="ls",Nb="p",fp="ac",Mb="websocket",Ib="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,s,a,u=!1,c="",h=!1,d=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function HI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Pb(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let s;if(e===Mb)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Ib)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HI(t)&&(n.ns=t.namespace);const a=[];return vt(n,(u,c)=>{a.push(u+"="+c)}),s+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.counters_={}}incrementCounter(e,n=1){Vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return OD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd={},Md={};function dm(t){const e=t.toString();return Nd[e]||(Nd[e]=new jI),Nd[e]}function FI(t,e){const n=t.toString();return Md[n]||(Md[n]=e()),Md[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&da(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="start",GI="close",YI="pLPCommand",KI="pRTLPCB",Lb="id",Ub="pw",Vb="ser",WI="cb",XI="seg",$I="ts",QI="d",ZI="dframe",Bb=1870,zb=30,JI=Bb-zb,ek=25e3,tk=3e4;class Hr{constructor(e,n,s,a,u,c,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=El(e),this.stats_=dm(n),this.urlFn=d=>(this.appCheckToken&&(d[fp]=this.appCheckToken),Pb(n,Ib,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tk)),OI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pm((...u)=>{const[c,h,d,m,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===oE)this.id=h,this.password=d;else if(c===GI)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[oE]="t",s[Vb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[WI]=this.scriptTagHolder.uniqueCallbackIdentifier),s[wb]=hm,this.transportSessionId&&(s[Ab]=this.transportSessionId),this.lastSessionId&&(s[Ob]=this.lastSessionId),this.applicationId&&(s[Nb]=this.applicationId),this.appCheckToken&&(s[fp]=this.appCheckToken),typeof location<"u"&&location.hostname&&Db.test(location.hostname)&&(s[Rb]=xb);const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return Hr.forceAllow_?!0:!Hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!MI()&&!II()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=wT(n),a=bb(s,JI);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[ZI]="t",s[Lb]=e,s[Ub]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pm{constructor(e,n,s,a){this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RI(),window[YI+this.uniqueCallbackIdentifier]=e,window[KI+this.uniqueCallbackIdentifier]=n,this.myIFrame=pm.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){yt("frame writing exception"),h.stack&&yt(h.stack),yt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Lb]=this.myID,e[Ub]=this.myPW,e[Vb]=this.currentSerial;let n=this.urlFn(e),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zb+s.length<=Bb;){const c=this.pendingSegs.shift();s=s+"&"+XI+a+"="+c.seg+"&"+$I+a+"="+c.ts+"&"+QI+a+"="+c.d,a++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(s,Math.floor(ek)),u=()=>{clearTimeout(a),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=16384,ik=45e3;let vc=null;typeof MozWebSocket<"u"?vc=MozWebSocket:typeof WebSocket<"u"&&(vc=WebSocket);class _n{constructor(e,n,s,a,u,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=El(this.connId),this.stats_=dm(n),this.connURL=_n.connectionURL_(n,c,h,a,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,a,u){const c={};return c[wb]=hm,typeof location<"u"&&location.hostname&&Db.test(location.hostname)&&(c[Rb]=xb),n&&(c[Ab]=n),s&&(c[Ob]=s),a&&(c[fp]=a),u&&(c[Nb]=u),Pb(e,Mb,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ls.set("previous_websocket_failure",!0);try{let s;BD(),this.mySock=new vc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const a=s.message||s.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&vc!==null&&!_n.forceDisallow_}static previouslyFailed(){return Ls.isInMemoryStorage||Ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=qo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=bb(n,nk);s.length>1&&this.sendString_(String(s.length));for(let a=0;a<s.length;a++)this.sendString_(s[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ik))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static get ALL_TRANSPORTS(){return[Hr,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=_n&&_n.isAvailable();let s=n&&!_n.previouslyFailed();if(e.webSocketOnly&&(n||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[_n];else{const a=this.transports_=[];for(const u of Ko.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);Ko.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ko.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=6e4,rk=5e3,ak=10*1024,ok=100*1024,Id="t",lE="d",lk="s",uE="r",uk="e",cE="o",fE="a",hE="n",dE="p",ck="h";class fk{constructor(e,n,s,a,u,c,h,d,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=El("c:"+this.id+":"),this.transportManager_=new Ko(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=Io(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ok?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ak?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Id in e){const n=e[Id];n===fE?this.upgradeIfSecondaryHealthy_():n===uE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Eo("t",e),s=Eo("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Eo("t",e),s=Eo("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Eo(Id,e);if(lE in e){const s=e[lE];if(n===ck){const a=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===hE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lk?this.onConnectionShutdown_(s):n===uE?this.onReset_(s):n===uk?cp("Server Error: "+s):n===cE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hm!==s&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Io(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{put(e,n,s,a){}merge(e,n,s,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const a=this.getInitialEvent(e);a&&n.apply(s,a)}off(e,n,s){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let u=0;u<a.length;u++)if(a[u].callback===n&&(!s||s===a[u].context)){a.splice(u,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends jb{static getInstance(){return new _c}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=32,mE=768;class De{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function be(){return new De("")}function pe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function is(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new De(t.pieces_,e)}function mm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Wo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Fb(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new De(e,0)}function Ye(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof De)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&n.push(s[a])}return new De(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=pe(t),s=pe(e);if(n===null)return e;if(n===s)return Ot(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function dk(t,e){const n=Wo(t,0),s=Wo(e,0);for(let a=0;a<n.length&&a<s.length;a++){const u=er(n[a],s[a]);if(u!==0)return u}return n.length===s.length?0:n.length<s.length?-1:1}function gm(t,e){if(is(t)!==is(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function hn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(is(t)>is(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class pk{constructor(e,n){this.errorPrefix_=n,this.parts_=Wo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=zc(this.parts_[s]);qb(this)}}function mk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zc(e),qb(t)}function gk(t){const e=t.parts_.pop();t.byteLength_-=zc(e),t.parts_.length>0&&(t.byteLength_-=1)}function qb(t){if(t.byteLength_>mE)throw new Error(t.errorPrefix_+"has a key path longer than "+mE+" bytes ("+t.byteLength_+").");if(t.parts_.length>pE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pE+") or object contains a cycle "+ks(t))}function ks(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends jb{static getInstance(){return new ym}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=1e3,yk=60*5*1e3,gE=30*1e3,vk=1.3,_k=3e4,Ek="server_kill",yE=3;class li extends Hb{constructor(e,n,s,a,u,c,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=li.nextPersistentConnectionId_++,this.log_=El("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=So,this.maxReconnectDelay_=yk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ym.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_c.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const a=++this.requestNumber_,u={r:a,a:e,b:n};this.log_(rt(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[a]=s)}get(e){this.initConnection_();const n=new dl,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,a){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:n,query:e,tag:s};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+s+" for "+a);const u={p:s},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const d=h.d,m=h.s;li.warnOnListenWarnings_(d,n),(this.listens.get(s)&&this.listens.get(s).get(a))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,a),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Vn(e,"w")){const s=Zr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||YD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=GD(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,a=>{const u=a.s,c=a.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+a),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,a)&&this.connected_&&this.sendUnlisten_(s,a,e._queryObject,n)}sendUnlisten_(e,n,s,a){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";a&&(u.q=s,u.t=a),this.sendRequest(c,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,a){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,n,s,a){this.putInternal("p",e,n,s,a)}merge(e,n,s,a){this.putInternal("m",e,n,s,a)}putInternal(e,n,s,a,u){this.initConnection_();const c={p:n,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):cp("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_k&&(this.reconnectDelay_=So),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+li.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const d=function(){h?h.close():(c=!0,s())},m=function(y){j(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:d,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new fk(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,S=>{Mt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ek)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Mt(y),d())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ep(this.interruptReasons_)&&(this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>fm(u)).join("$"):s="default";const a=this.removeListen_(e,s);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const s=new De(e).toString();let a;if(this.listens.has(s)){const u=this.listens.get(s);a=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else a=void 0;return a}onAuthRevoked_(e,n){yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yE&&(this.reconnectDelay_=gE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Eb.replace(/\./g,"-")]=1,Qp()?e["framework.cordova"]=1:MT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_c.getInstance().currentlyOnline();return ep(this.interruptReasons_)&&e}}li.nextPersistentConnectionId_=0;li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new me(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new me(ea,e),a=new me(ea,n);return this.compare(s,a)!==0}minPost(){return me.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu;class Gb extends Gc{static get __EMPTY_NODE(){return Gu}static set __EMPTY_NODE(e){Gu=e}compare(e,n){return er(e.name,n.name)}isDefinedOn(e){throw ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return me.MIN}maxPost(){return new me(Ks,Gu)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new me(e,Gu)}toString(){return".key"}}const Qr=new Gb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,s,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ht{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??ht.RED,this.left=a??Ut.EMPTY_NODE,this.right=u??Ut.EMPTY_NODE}copy(e,n,s,a,u){return new ht(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return u<0?a=a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,a;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY_NODE;a=s.right.min_(),s=s.copy(a.key,a.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class Sk{copy(e,n,s,a,u){return this}insert(e,n,s){return new ht(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,a=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(a=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yu(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new Sk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e){return er(t.name,e.name)}function vm(t,e){return er(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp;function bk(t){hp=t}const Yb=function(t){return typeof t=="number"?"number:"+Cb(t):"string:"+t},Kb=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Vn(e,".sv"),"Priority must be a string or number.")}else j(t===hp||t.isEmpty(),"priority of unexpected type.");j(t===hp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE;class ft{static set __childrenNodeConstructor(e){vE=e}static get __childrenNodeConstructor(){return vE}constructor(e,n=ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ft(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:pe(e)===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=pe(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(j(s!==".priority"||is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Yb(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Cb(this.value_):e+=this.value_,this.lazyHash_=Tb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ft.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ft.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,a=ft.VALUE_TYPE_ORDER.indexOf(n),u=ft.VALUE_TYPE_ORDER.indexOf(s);return j(a>=0,"Unknown leaf type: "+n),j(u>=0,"Unknown leaf type: "+s),a===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb,Xb;function Ck(t){Wb=t}function wk(t){Xb=t}class Ak extends Gc{compare(e,n){const s=e.node.getPriority(),a=n.node.getPriority(),u=s.compareTo(a);return u===0?er(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return me.MIN}maxPost(){return new me(Ks,new ft("[PRIORITY-POST]",Xb))}makePost(e,n){const s=Wb(e);return new me(n,new ft("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ke=new Ak;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=Math.log(2);class xk{constructor(e){const n=u=>parseInt(Math.log(u)/Rk,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=s(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ec=function(t,e,n,s){t.sort(e);const a=function(d,m){const g=m-d;let y,_;if(g===0)return null;if(g===1)return y=t[d],_=n?n(y):y,new ht(_,y.node,ht.BLACK,null,null);{const S=parseInt(g/2,10)+d,T=a(d,S),w=a(S+1,m);return y=t[S],_=n?n(y):y,new ht(_,y.node,ht.BLACK,T,w)}},u=function(d){let m=null,g=null,y=t.length;const _=function(T,w){const D=y-T,x=y;y-=T;const P=a(D+1,x),k=t[D],q=n?n(k):k;S(new ht(q,k.node,w,null,P))},S=function(T){m?(m.left=T,m=T):(g=T,m=T)};for(let T=0;T<d.count;++T){const w=d.nextBitIsOne(),D=Math.pow(2,d.count-(T+1));w?_(D,ht.BLACK):(_(D,ht.BLACK),_(D,ht.RED))}return g},c=new xk(t.length),h=u(c);return new Ut(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const Br={};class ri{static get Default(){return j(Br&&Ke,"ChildrenNode.ts has not been loaded"),kd=kd||new ri({".priority":Br},{".priority":Ke}),kd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return Vn(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const u=n.getIterator(me.Wrap);let c=u.getNext();for(;c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let h;a?h=Ec(s,e.getCompare()):h=Br;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new ri(g,m)}addToIndexes(e,n){const s=fc(this.indexes_,(a,u)=>{const c=Zr(this.indexSet_,u);if(j(c,"Missing index implementation for "+u),a===Br)if(c.isDefinedOn(e.node)){const h=[],d=n.getIterator(me.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&h.push(m),m=d.getNext();return h.push(e),Ec(h,c.getCompare())}else return Br;else{const h=n.get(e.name);let d=a;return h&&(d=d.remove(new me(e.name,h))),d.insert(e,e.node)}});return new ri(s,this.indexSet_)}removeFromIndexes(e,n){const s=fc(this.indexes_,a=>{if(a===Br)return a;{const u=n.get(e.name);return u?a.remove(new me(e.name,u)):a}});return new ri(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class oe{static get EMPTY_NODE(){return To||(To=new oe(new Ut(vm),null,ri.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Kb(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||To}updatePriority(e){return this.children_.isEmpty()?this:new oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?To:n}}getChild(e){const n=pe(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new me(e,n);let a,u;n.isEmpty()?(a=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(a=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const c=a.isEmpty()?To:this.priorityNode_;return new oe(a,c,u)}}updateChild(e,n){const s=pe(e);if(s===null)return n;{j(pe(e)!==".priority"||is(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(s).updateChild(ke(e),n);return this.updateImmediateChild(s,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,a=0,u=!0;if(this.forEachChild(Ke,(c,h)=>{n[c]=h.val(e),s++,u&&oe.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):u=!1}),!e&&u&&a<2*s){const c=[];for(const h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Yb(this.getPriority().val())+":"),this.forEachChild(Ke,(n,s)=>{const a=s.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":Tb(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const a=this.resolveIndex_(s);if(a){const u=a.getPredecessorKey(new me(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new me(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new me(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,me.Wrap);let u=a.peek();for(;u!=null&&n.compare(u,e)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,me.Wrap);let u=a.peek();for(;u!=null&&n.compare(u,e)>0;)a.getNext(),u=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sl?-1:0}withIndex(e){if(e===Qr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new oe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ke),a=n.getIterator(Ke);let u=s.getNext(),c=a.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=a.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Qr?null:this.indexMap_.get(e.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Dk extends oe{constructor(){super(new Ut(vm),oe.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}}const Sl=new Dk;Object.defineProperties(me,{MIN:{value:new me(ea,oe.EMPTY_NODE)},MAX:{value:new me(Ks,Sl)}});Gb.__EMPTY_NODE=oe.EMPTY_NODE;ft.__childrenNodeConstructor=oe;bk(Sl);wk(Sl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=!0;function st(t,e=null){if(t===null)return oe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ft(n,st(e))}if(!(t instanceof Array)&&Ok){const n=[];let s=!1;if(vt(t,(c,h)=>{if(c.substring(0,1)!=="."){const d=st(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),n.push(new me(c,d)))}}),n.length===0)return oe.EMPTY_NODE;const u=Ec(n,Tk,c=>c.name,vm);if(s){const c=Ec(n,Ke.getCompare());return new oe(u,st(e),new ri({".priority":c},{".priority":Ke}))}else return new oe(u,st(e),ri.Default)}else{let n=oe.EMPTY_NODE;return vt(t,(s,a)=>{if(Vn(t,s)&&s.substring(0,1)!=="."){const u=st(a);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(st(e))}}Ck(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk extends Gc{constructor(e){super(),this.indexPath_=e,j(!ye(e)&&pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),a=this.extractChild(n.node),u=s.compareTo(a);return u===0?er(e.name,n.name):u}makePost(e,n){const s=st(e),a=oe.EMPTY_NODE.updateChild(this.indexPath_,s);return new me(n,a)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,Sl);return new me(Ks,e)}toString(){return Wo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk extends Gc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?er(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,n){const s=st(e);return new me(n,s)}toString(){return".value"}}const Ik=new Mk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){return{type:"value",snapshotNode:t}}function ta(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Xo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $o(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.index_=e}updateChild(e,n,s,a,u,c){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(a).equals(s.getChild(a))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange(Xo(n,h)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(ta(n,s)):c.trackChildChange($o(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ke,(a,u)=>{n.hasChild(a)||s.trackChildChange(Xo(a,u))}),n.isLeafNode()||n.forEachChild(Ke,(a,u)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(u)||s.trackChildChange($o(a,u,c))}else s.trackChildChange(ta(a,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.indexedFilter_=new _m(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qo.getStartPost_(e),this.endPost_=Qo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,a,u,c){return this.matches(new me(n,s))||(s=oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,a,u,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=oe.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(oe.EMPTY_NODE);const u=this;return n.forEachChild(Ke,(c,h)=>{u.matches(new me(c,h))||(a=a.updateImmediateChild(c,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Qo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,a,u,c){return this.rangedFilter_.matches(new me(n,s))||(s=oe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,a,u,c):this.fullLimitUpdateChild_(e,n,s,u,c)}updateFullNode(e,n,s){let a;if(n.isLeafNode()||n.isEmpty())a=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=oe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(oe.EMPTY_NODE);let u;this.reverse_?u=a.getReverseIterator(this.index_):u=a.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:a=a.updateImmediateChild(h.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,a,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,S)=>y(S,_)}else c=this.index_.getCompare();const h=e;j(h.numChildren()===this.limit_,"");const d=new me(n,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(h.hasChild(n)){const y=h.getImmediateChild(n);let _=a.getChildAfterChild(this.index_,m,this.reverse_);for(;_!=null&&(_.name===n||h.hasChild(_.name));)_=a.getChildAfterChild(this.index_,_,this.reverse_);const S=_==null?1:c(_,d);if(g&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange($o(n,s,y)),h.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(Xo(n,y));const w=h.updateImmediateChild(n,oe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(ta(_.name,_.node)),w.updateImmediateChild(_.name,_.node)):w}}else return s.isEmpty()?e:g&&c(m,d)>=0?(u!=null&&(u.trackChildChange(Xo(m.name,m.node)),u.trackChildChange(ta(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(m.name,oe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ea}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new Em;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Lk(t){return t.loadsAllData()?new _m(t.getIndex()):t.hasLimit()?new Pk(t):new Qo(t)}function _E(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===Ik?n="$value":t.index_===Qr?n="$key":(j(t.index_ instanceof Nk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=rt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+rt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=rt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function EE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Hb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=El("p:rest:"),this.listens_={}}listen(e,n,s,a){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Sc.getListenId_(e,s),h={};this.listens_[c]=h;const d=_E(e._queryParams);this.restRequest_(u+".json",d,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,s),Zr(this.listens_,c)===h){let _;m?m===401?_="permission_denied":_="rest_error:"+m:_="ok",a(_,null)}})}unlisten(e,n){const s=Sc.getListenId_(e,n);delete this.listens_[s]}get(e){const n=_E(e._queryParams),s=e._path.toString(),a=new dl;return this.restRequest_(s+".json",n,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(n.auth=a.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fa(n);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=qo(h.responseText)}catch{Mt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&Mt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(){return{value:null,children:new Map}}function Qb(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=pe(e);t.children.has(s)||t.children.set(s,Tc());const a=t.children.get(s);e=ke(e),Qb(a,e,n)}}function dp(t,e,n){t.value!==null?n(e,t.value):Vk(t,(s,a)=>{const u=new De(e.toString()+"/"+s);dp(a,u,n)})}function Vk(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vt(this.last_,(s,a)=>{n[s]=n[s]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=10*1e3,zk=30*1e3,Hk=5*60*1e3;class jk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Bk(e);const s=SE+(zk-SE)*Math.random();Io(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;vt(e,(a,u)=>{u>0&&Vn(this.statsToReport_,a)&&(n[a]=u,s=!0)}),s&&this.server_.reportStats(n),Io(this.reportStats_.bind(this),Math.floor(Math.random()*2*Hk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function Sm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=En.ACK_USER_WRITE,this.source=Sm()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(e));return new bc(be(),n,this.revert)}}else return j(pe(this.path)===e,"operationForChild called for unrelated child."),new bc(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new Zo(this.source,be()):new Zo(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=En.OVERWRITE}operationForChild(e){return ye(this.path)?new Ws(this.source,be(),this.snap.getImmediateChild(e)):new Ws(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=En.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new De(e));return n.isEmpty()?null:n.value?new Ws(this.source,be(),n.value):new na(this.source,be(),n)}else return j(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new na(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=pe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qk(t,e,n,s){const a=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(kk(c.childName,c.snapshotNode))}),bo(t,a,"child_removed",e,s,n),bo(t,a,"child_added",e,s,n),bo(t,a,"child_moved",u,s,n),bo(t,a,"child_changed",e,s,n),bo(t,a,"value",e,s,n),a}function bo(t,e,n,s,a,u){const c=s.filter(h=>h.type===n);c.sort((h,d)=>Yk(t,h,d)),c.forEach(h=>{const d=Gk(t,h,u);a.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(d,t.query_))})})}function Gk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Yk(t,e,n){if(e.childName==null||n.childName==null)throw ca("Should only compare child_ events.");const s=new me(e.childName,e.snapshotNode),a=new me(n.childName,n.snapshotNode);return t.index_.compare(s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e){return{eventCache:t,serverCache:e}}function ko(t,e,n,s){return Yc(new ss(e,n,s),t.serverCache)}function Zb(t,e,n,s){return Yc(t.eventCache,new ss(e,n,s))}function Cc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;const Kk=()=>(Pd||(Pd=new Ut(NI)),Pd);class Ie{static fromObject(e){let n=new Ie(null);return vt(e,(s,a)=>{n=n.set(new De(s),a)}),n}constructor(e,n=Kk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:be(),value:this.value};if(ye(e))return null;{const s=pe(e),a=this.children.get(s);if(a!==null){const u=a.findRootMostMatchingPathAndValue(ke(e),n);return u!=null?{path:Ye(new De(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=pe(e),s=this.children.get(n);return s!==null?s.subtree(ke(e)):new Ie(null)}}set(e,n){if(ye(e))return new Ie(n,this.children);{const s=pe(e),u=(this.children.get(s)||new Ie(null)).set(ke(e),n),c=this.children.insert(s,u);return new Ie(this.value,c)}}remove(e){if(ye(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=pe(e),s=this.children.get(n);if(s){const a=s.remove(ke(e));let u;return a.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,a),this.value===null&&u.isEmpty()?new Ie(null):new Ie(this.value,u)}else return this}}get(e){if(ye(e))return this.value;{const n=pe(e),s=this.children.get(n);return s?s.get(ke(e)):null}}setTree(e,n){if(ye(e))return n;{const s=pe(e),u=(this.children.get(s)||new Ie(null)).setTree(ke(e),n);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new Ie(this.value,c)}}fold(e){return this.fold_(be(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((a,u)=>{s[a]=u.fold_(Ye(e,a),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,be(),n)}findOnPath_(e,n,s){const a=this.value?s(n,this.value):!1;if(a)return a;if(ye(e))return null;{const u=pe(e),c=this.children.get(u);return c?c.findOnPath_(ke(e),Ye(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,be(),n)}foreachOnPath_(e,n,s){if(ye(e))return this;{this.value&&s(n,this.value);const a=pe(e),u=this.children.get(a);return u?u.foreachOnPath_(ke(e),Ye(n,a),s):new Ie(null)}}foreach(e){this.foreach_(be(),e)}foreach_(e,n){this.children.inorderTraversal((s,a)=>{a.foreach_(Ye(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.writeTree_=e}static empty(){return new Sn(new Ie(null))}}function Po(t,e,n){if(ye(e))return new Sn(new Ie(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const a=s.path;let u=s.value;const c=Ot(a,e);return u=u.updateChild(c,n),new Sn(t.writeTree_.set(a,u))}else{const a=new Ie(n),u=t.writeTree_.setTree(e,a);return new Sn(u)}}}function pp(t,e,n){let s=t;return vt(n,(a,u)=>{s=Po(s,Ye(e,a),u)}),s}function TE(t,e){if(ye(e))return Sn.empty();{const n=t.writeTree_.setTree(e,new Ie(null));return new Sn(n)}}function mp(t,e){return tr(t,e)!=null}function tr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function bE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(s,a)=>{e.push(new me(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{a.value!=null&&e.push(new me(s,a.value))}),e}function es(t,e){if(ye(e))return t;{const n=tr(t,e);return n!=null?new Sn(new Ie(n)):new Sn(t.writeTree_.subtree(e))}}function gp(t){return t.writeTree_.isEmpty()}function ia(t,e){return Jb(be(),t.writeTree_,e)}function Jb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((a,u)=>{a===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=Jb(Ye(t,a),u,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ye(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e){return iC(e,t)}function Wk(t,e,n,s,a){j(s>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:a}),a&&(t.visibleWrites=Po(t.visibleWrites,e,n)),t.lastWriteId=s}function Xk(t,e,n,s){j(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=pp(t.visibleWrites,e,n),t.lastWriteId=s}function $k(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Qk(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let a=s.visible,u=!1,c=t.allWrites.length-1;for(;a&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=n&&Zk(h,s.path)?a=!1:hn(s.path,h.path)&&(u=!0)),c--}if(a){if(u)return Jk(t),!0;if(s.snap)t.visibleWrites=TE(t.visibleWrites,s.path);else{const h=s.children;vt(h,d=>{t.visibleWrites=TE(t.visibleWrites,Ye(s.path,d))})}return!0}else return!1}function Zk(t,e){if(t.snap)return hn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hn(Ye(t.path,n),e))return!0;return!1}function Jk(t){t.visibleWrites=eC(t.allWrites,eP,be()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function eP(t){return t.visible}function eC(t,e,n){let s=Sn.empty();for(let a=0;a<t.length;++a){const u=t[a];if(e(u)){const c=u.path;let h;if(u.snap)hn(n,c)?(h=Ot(n,c),s=Po(s,h,u.snap)):hn(c,n)&&(h=Ot(c,n),s=Po(s,be(),u.snap.getChild(h)));else if(u.children){if(hn(n,c))h=Ot(n,c),s=pp(s,h,u.children);else if(hn(c,n))if(h=Ot(c,n),ye(h))s=pp(s,be(),u.children);else{const d=Zr(u.children,pe(h));if(d){const m=d.getChild(ke(h));s=Po(s,be(),m)}}}else throw ca("WriteRecord should have .snap or .children")}}return s}function tC(t,e,n,s,a){if(!s&&!a){const u=tr(t.visibleWrites,e);if(u!=null)return u;{const c=es(t.visibleWrites,e);if(gp(c))return n;if(n==null&&!mp(c,be()))return null;{const h=n||oe.EMPTY_NODE;return ia(c,h)}}}else{const u=es(t.visibleWrites,e);if(!a&&gp(u))return n;if(!a&&n==null&&!mp(u,be()))return null;{const c=function(m){return(m.visible||a)&&(!s||!~s.indexOf(m.writeId))&&(hn(m.path,e)||hn(e,m.path))},h=eC(t.allWrites,c,e),d=n||oe.EMPTY_NODE;return ia(h,d)}}}function tP(t,e,n){let s=oe.EMPTY_NODE;const a=tr(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Ke,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(n){const u=es(t.visibleWrites,e);return n.forEachChild(Ke,(c,h)=>{const d=ia(es(u,new De(c)),h);s=s.updateImmediateChild(c,d)}),bE(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=es(t.visibleWrites,e);return bE(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function nP(t,e,n,s,a){j(s||a,"Either existingEventSnap or existingServerSnap must exist");const u=Ye(e,n);if(mp(t.visibleWrites,u))return null;{const c=es(t.visibleWrites,u);return gp(c)?a.getChild(n):ia(c,a.getChild(n))}}function iP(t,e,n,s){const a=Ye(e,n),u=tr(t.visibleWrites,a);if(u!=null)return u;if(s.isCompleteForChild(n)){const c=es(t.visibleWrites,a);return ia(c,s.getNode().getImmediateChild(n))}else return null}function sP(t,e){return tr(t.visibleWrites,e)}function rP(t,e,n,s,a,u,c){let h;const d=es(t.visibleWrites,e),m=tr(d,be());if(m!=null)h=m;else if(n!=null)h=ia(d,n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),_=u?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let S=_.getNext();for(;S&&g.length<a;)y(S,s)!==0&&g.push(S),S=_.getNext();return g}else return[]}function aP(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function wc(t,e,n,s){return tC(t.writeTree,t.treePath,e,n,s)}function Cm(t,e){return tP(t.writeTree,t.treePath,e)}function CE(t,e,n,s){return nP(t.writeTree,t.treePath,e,n,s)}function Ac(t,e){return sP(t.writeTree,Ye(t.treePath,e))}function oP(t,e,n,s,a,u){return rP(t.writeTree,t.treePath,e,n,s,a,u)}function wm(t,e,n){return iP(t.writeTree,t.treePath,e,n)}function nC(t,e){return iC(Ye(t.treePath,e),t.writeTree)}function iC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(s!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const u=a.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,$o(s,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,Xo(s,a.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,ta(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,$o(s,e.snapshotNode,a.oldSnap));else throw ca("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const sC=new uP;class Am{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wm(this.writes_,e,s)}}getChildAfterChild(e,n,s){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xs(this.viewCache_),u=oP(this.writes_,a,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){return{filter:t}}function fP(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function hP(t,e,n,s,a){const u=new lP;let c,h;if(n.type===En.OVERWRITE){const m=n;m.source.fromUser?c=yp(t,e,m.path,m.snap,s,a,u):(j(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),c=Rc(t,e,m.path,m.snap,s,a,h,u))}else if(n.type===En.MERGE){const m=n;m.source.fromUser?c=pP(t,e,m.path,m.children,s,a,u):(j(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=vp(t,e,m.path,m.children,s,a,h,u))}else if(n.type===En.ACK_USER_WRITE){const m=n;m.revert?c=yP(t,e,m.path,s,a,u):c=mP(t,e,m.path,m.affectedTree,s,a,u)}else if(n.type===En.LISTEN_COMPLETE)c=gP(t,e,n.path,s,u);else throw ca("Unknown operation type: "+n.type);const d=u.getChanges();return dP(e,c,d),{viewCache:c,changes:d}}function dP(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Cc(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push($b(Cc(e)))}}function rC(t,e,n,s,a,u){const c=e.eventCache;if(Ac(s,n)!=null)return e;{let h,d;if(ye(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Xs(e),g=m instanceof oe?m:oe.EMPTY_NODE,y=Cm(s,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=wc(s,Xs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=pe(n);if(m===".priority"){j(is(n)===1,"Can't have a priority with additional path components");const g=c.getNode();d=e.serverCache.getNode();const y=CE(s,n,g,d);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=ke(n);let y;if(c.isCompleteForChild(m)){d=e.serverCache.getNode();const _=CE(s,n,c.getNode(),d);_!=null?y=c.getNode().getImmediateChild(m).updateChild(g,_):y=c.getNode().getImmediateChild(m)}else y=wm(s,m,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),m,y,g,a,u):h=c.getNode()}}return ko(e,h,c.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Rc(t,e,n,s,a,u,c,h){const d=e.serverCache;let m;const g=c?t.filter:t.filter.getIndexedFilter();if(ye(n))m=g.updateFullNode(d.getNode(),s,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(n,s);m=g.updateFullNode(d.getNode(),S,null)}else{const S=pe(n);if(!d.isCompleteForPath(n)&&is(n)>1)return e;const T=ke(n),D=d.getNode().getImmediateChild(S).updateChild(T,s);S===".priority"?m=g.updatePriority(d.getNode(),D):m=g.updateChild(d.getNode(),S,D,T,sC,null)}const y=Zb(e,m,d.isFullyInitialized()||ye(n),g.filtersNodes()),_=new Am(a,y,u);return rC(t,y,n,a,_,h)}function yp(t,e,n,s,a,u,c){const h=e.eventCache;let d,m;const g=new Am(a,e,u);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,c),d=ko(e,m,!0,t.filter.filtersNodes());else{const y=pe(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),d=ko(e,m,h.isFullyInitialized(),h.isFiltered());else{const _=ke(n),S=h.getNode().getImmediateChild(y);let T;if(ye(_))T=s;else{const w=g.getCompleteChild(y);w!=null?mm(_)===".priority"&&w.getChild(Fb(_)).isEmpty()?T=w:T=w.updateChild(_,s):T=oe.EMPTY_NODE}if(S.equals(T))d=e;else{const w=t.filter.updateChild(h.getNode(),y,T,_,g,c);d=ko(e,w,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function wE(t,e){return t.eventCache.isCompleteForChild(e)}function pP(t,e,n,s,a,u,c){let h=e;return s.foreach((d,m)=>{const g=Ye(n,d);wE(e,pe(g))&&(h=yp(t,h,g,m,a,u,c))}),s.foreach((d,m)=>{const g=Ye(n,d);wE(e,pe(g))||(h=yp(t,h,g,m,a,u,c))}),h}function AE(t,e,n){return n.foreach((s,a)=>{e=e.updateChild(s,a)}),e}function vp(t,e,n,s,a,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;ye(n)?m=s:m=new Ie(null).setTree(n,s);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const S=e.serverCache.getNode().getImmediateChild(y),T=AE(t,S,_);d=Rc(t,d,new De(y),T,a,u,c,h)}}),m.children.inorderTraversal((y,_)=>{const S=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!S){const T=e.serverCache.getNode().getImmediateChild(y),w=AE(t,T,_);d=Rc(t,d,new De(y),w,a,u,c,h)}}),d}function mP(t,e,n,s,a,u,c){if(Ac(a,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(s.value!=null){if(ye(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Rc(t,e,n,d.getNode().getChild(n),a,u,h,c);if(ye(n)){let m=new Ie(null);return d.getNode().forEachChild(Qr,(g,y)=>{m=m.set(new De(g),y)}),vp(t,e,n,m,a,u,h,c)}else return e}else{let m=new Ie(null);return s.foreach((g,y)=>{const _=Ye(n,g);d.isCompleteForPath(_)&&(m=m.set(g,d.getNode().getChild(_)))}),vp(t,e,n,m,a,u,h,c)}}function gP(t,e,n,s,a){const u=e.serverCache,c=Zb(e,u.getNode(),u.isFullyInitialized()||ye(n),u.isFiltered());return rC(t,c,n,s,sC,a)}function yP(t,e,n,s,a,u){let c;if(Ac(s,n)!=null)return e;{const h=new Am(s,e,a),d=e.eventCache.getNode();let m;if(ye(n)||pe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=wc(s,Xs(e));else{const y=e.serverCache.getNode();j(y instanceof oe,"serverChildren would be complete if leaf node"),g=Cm(s,y)}g=g,m=t.filter.updateFullNode(d,g,u)}else{const g=pe(n);let y=wm(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?m=t.filter.updateChild(d,g,y,ke(n),h,u):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(d,g,oe.EMPTY_NODE,ke(n),h,u):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=wc(s,Xs(e)),c.isLeafNode()&&(m=t.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||Ac(s,be())!=null,ko(e,m,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new _m(s.getIndex()),u=Lk(s);this.processor_=cP(u);const c=n.serverCache,h=n.eventCache,d=a.updateFullNode(oe.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),g=new ss(d,c.isFullyInitialized(),a.filtersNodes()),y=new ss(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Yc(y,g),this.eventGenerator_=new Fk(this.query_)}get query(){return this.query_}}function _P(t){return t.viewCache_.serverCache.getNode()}function EP(t){return Cc(t.viewCache_)}function SP(t,e){const n=Xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(pe(e)).isEmpty())?n.getChild(e):null}function RE(t){return t.eventRegistrations_.length===0}function TP(t,e){t.eventRegistrations_.push(e)}function xE(t,e,n){const s=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,a);c&&s.push(c)})}if(e){let a=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function DE(t,e,n,s){e.type===En.MERGE&&e.source.queryId!==null&&(j(Xs(t.viewCache_),"We should always have a full cache before handling merges"),j(Cc(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,u=hP(t.processor_,a,e,n,s);return fP(t.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,aC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function bP(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(u,c)=>{s.push(ta(u,c))}),n.isFullyInitialized()&&s.push($b(n.getNode())),aC(t,s,n.getNode(),e)}function aC(t,e,n,s){const a=s?[s]:t.eventRegistrations_;return qk(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;class oC{constructor(){this.views=new Map}}function CP(t){j(!xc,"__referenceConstructor has already been defined"),xc=t}function wP(){return j(xc,"Reference.ts has not been loaded"),xc}function AP(t){return t.views.size===0}function Rm(t,e,n,s){const a=e.source.queryId;if(a!==null){const u=t.views.get(a);return j(u!=null,"SyncTree gave us an op for an invalid query."),DE(u,e,n,s)}else{let u=[];for(const c of t.views.values())u=u.concat(DE(c,e,n,s));return u}}function lC(t,e,n,s,a){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=wc(n,a?s:null),d=!1;h?d=!0:s instanceof oe?(h=Cm(n,s),d=!1):(h=oe.EMPTY_NODE,d=!1);const m=Yc(new ss(h,d,!1),new ss(s,a,!1));return new vP(e,m)}return c}function RP(t,e,n,s,a,u){const c=lC(t,e,s,a,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),TP(c,n),bP(c,n)}function xP(t,e,n,s){const a=e._queryIdentifier,u=[];let c=[];const h=rs(t);if(a==="default")for(const[d,m]of t.views.entries())c=c.concat(xE(m,n,s)),RE(m)&&(t.views.delete(d),m.query._queryParams.loadsAllData()||u.push(m.query));else{const d=t.views.get(a);d&&(c=c.concat(xE(d,n,s)),RE(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||u.push(d.query)))}return h&&!rs(t)&&u.push(new(wP())(e._repo,e._path)),{removed:u,events:c}}function uC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ts(t,e){let n=null;for(const s of t.views.values())n=n||SP(s,e);return n}function cC(t,e){if(e._queryParams.loadsAllData())return Wc(t);{const s=e._queryIdentifier;return t.views.get(s)}}function fC(t,e){return cC(t,e)!=null}function rs(t){return Wc(t)!=null}function Wc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;function DP(t){j(!Dc,"__referenceConstructor has already been defined"),Dc=t}function OP(){return j(Dc,"Reference.ts has not been loaded"),Dc}let NP=1;class OE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=aP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hC(t,e,n,s,a){return Wk(t.pendingWriteTree_,e,n,s,a),a?pa(t,new Ws(Sm(),e,n)):[]}function MP(t,e,n,s){Xk(t.pendingWriteTree_,e,n,s);const a=Ie.fromObject(n);return pa(t,new na(Sm(),e,a))}function Qi(t,e,n=!1){const s=$k(t.pendingWriteTree_,e);if(Qk(t.pendingWriteTree_,e)){let u=new Ie(null);return s.snap!=null?u=u.set(be(),!0):vt(s.children,c=>{u=u.set(new De(c),!0)}),pa(t,new bc(s.path,u,n))}else return[]}function Tl(t,e,n){return pa(t,new Ws(Tm(),e,n))}function IP(t,e,n){const s=Ie.fromObject(n);return pa(t,new na(Tm(),e,s))}function kP(t,e){return pa(t,new Zo(Tm(),e))}function PP(t,e,n){const s=Dm(t,n);if(s){const a=Om(s),u=a.path,c=a.queryId,h=Ot(u,e),d=new Zo(bm(c),h);return Nm(t,u,d)}else return[]}function Oc(t,e,n,s,a=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||fC(c,e))){const d=xP(c,e,n,s);AP(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const m=d.removed;if(h=d.events,!a){const g=m.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(_,S)=>rs(S));if(g&&!y){const _=t.syncPointTree_.subtree(u);if(!_.isEmpty()){const S=VP(_);for(let T=0;T<S.length;++T){const w=S[T],D=w.query,x=gC(t,w);t.listenProvider_.startListening(Lo(D),Jo(t,D),x.hashFn,x.onComplete)}}}!y&&m.length>0&&!s&&(g?t.listenProvider_.stopListening(Lo(e),null):m.forEach(_=>{const S=t.queryToTagMap.get(Xc(_));t.listenProvider_.stopListening(Lo(_),S)}))}BP(t,m)}return h}function dC(t,e,n,s){const a=Dm(t,s);if(a!=null){const u=Om(a),c=u.path,h=u.queryId,d=Ot(c,e),m=new Ws(bm(h),d,n);return Nm(t,c,m)}else return[]}function LP(t,e,n,s){const a=Dm(t,s);if(a){const u=Om(a),c=u.path,h=u.queryId,d=Ot(c,e),m=Ie.fromObject(n),g=new na(bm(h),d,m);return Nm(t,c,g)}else return[]}function _p(t,e,n,s=!1){const a=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(a,(_,S)=>{const T=Ot(_,a);u=u||ts(S,T),c=c||rs(S)});let h=t.syncPointTree_.get(a);h?(c=c||rs(h),u=u||ts(h,be())):(h=new oC,t.syncPointTree_=t.syncPointTree_.set(a,h));let d;u!=null?d=!0:(d=!1,u=oe.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((S,T)=>{const w=ts(T,be());w&&(u=u.updateImmediateChild(S,w))}));const m=fC(h,e);if(!m&&!e._queryParams.loadsAllData()){const _=Xc(e);j(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const S=zP();t.queryToTagMap.set(_,S),t.tagToQueryMap.set(S,_)}const g=Kc(t.pendingWriteTree_,a);let y=RP(h,e,n,g,u,d);if(!m&&!c&&!s){const _=cC(h,e);y=y.concat(HP(t,e,_))}return y}function xm(t,e,n){const a=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const d=Ot(c,e),m=ts(h,d);if(m)return m});return tC(a,e,u,n,!0)}function UP(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(m,g)=>{const y=Ot(m,n);s=s||ts(g,y)});let a=t.syncPointTree_.get(n);a?s=s||ts(a,be()):(a=new oC,t.syncPointTree_=t.syncPointTree_.set(n,a));const u=s!=null,c=u?new ss(s,!0,!1):null,h=Kc(t.pendingWriteTree_,e._path),d=lC(a,e,h,u?c.getNode():oe.EMPTY_NODE,u);return EP(d)}function pa(t,e){return pC(e,t.syncPointTree_,null,Kc(t.pendingWriteTree_,be()))}function pC(t,e,n,s){if(ye(t.path))return mC(t,e,n,s);{const a=e.get(be());n==null&&a!=null&&(n=ts(a,be()));let u=[];const c=pe(t.path),h=t.operationForChild(c),d=e.children.get(c);if(d&&h){const m=n?n.getImmediateChild(c):null,g=nC(s,c);u=u.concat(pC(h,d,m,g))}return a&&(u=u.concat(Rm(a,t,s,n))),u}}function mC(t,e,n,s){const a=e.get(be());n==null&&a!=null&&(n=ts(a,be()));let u=[];return e.children.inorderTraversal((c,h)=>{const d=n?n.getImmediateChild(c):null,m=nC(s,c),g=t.operationForChild(c);g&&(u=u.concat(mC(g,h,d,m)))}),a&&(u=u.concat(Rm(a,t,s,n))),u}function gC(t,e){const n=e.query,s=Jo(t,n);return{hashFn:()=>(_P(e)||oe.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return s?PP(t,n._path,s):kP(t,n._path);{const u=kI(a,n);return Oc(t,n,null,u)}}}}function Jo(t,e){const n=Xc(e);return t.queryToTagMap.get(n)}function Xc(t){return t._path.toString()+"$"+t._queryIdentifier}function Dm(t,e){return t.tagToQueryMap.get(e)}function Om(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new De(t.substr(0,e))}}function Nm(t,e,n){const s=t.syncPointTree_.get(e);j(s,"Missing sync point for query tag that we're tracking");const a=Kc(t.pendingWriteTree_,e);return Rm(s,n,a,null)}function VP(t){return t.fold((e,n,s)=>{if(n&&rs(n))return[Wc(n)];{let a=[];return n&&(a=uC(n)),vt(s,(u,c)=>{a=a.concat(c)}),a}})}function Lo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(OP())(t._repo,t._path):t}function BP(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const a=Xc(s),u=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(u)}}}function zP(){return NP++}function HP(t,e,n){const s=e._path,a=Jo(t,e),u=gC(t,n),c=t.listenProvider_.startListening(Lo(e),a,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(s);if(a)j(!rs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,g,y)=>{if(!ye(m)&&g&&rs(g))return[Wc(g).query];{let _=[];return g&&(_=_.concat(uC(g).map(S=>S.query))),vt(y,(S,T)=>{_=_.concat(T)}),_}});for(let m=0;m<d.length;++m){const g=d[m];t.listenProvider_.stopListening(Lo(g),Jo(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mm(n)}node(){return this.node_}}class Im{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ye(this.path_,e);return new Im(this.syncTree_,n)}node(){return xm(this.syncTree_,this.path_)}}const jP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NE=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return FP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qP(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},FP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},qP=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&j(!1,"Unexpected increment value: "+s);const a=e.node();if(j(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const c=a.getValue();return typeof c!="number"?s:c+s},yC=function(t,e,n,s){return km(e,new Im(n,t),s)},vC=function(t,e,n){return km(t,new Mm(e),n)};function km(t,e,n){const s=t.getPriority().val(),a=NE(s,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,h=NE(c.getValue(),e,n);return h!==c.getValue()||a!==c.getPriority().val()?new ft(h,st(a)):t}else{const c=t;return u=c,a!==c.getPriority().val()&&(u=u.updatePriority(new ft(a))),c.forEachChild(Ke,(h,d)=>{const m=km(d,e.getImmediateChild(h),n);m!==d&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Lm(t,e){let n=e instanceof De?e:new De(e),s=t,a=pe(n);for(;a!==null;){const u=Zr(s.node.children,a)||{children:{},childCount:0};s=new Pm(a,s,u),n=ke(n),a=pe(n)}return s}function ma(t){return t.node.value}function _C(t,e){t.node.value=e,Ep(t)}function EC(t){return t.node.childCount>0}function GP(t){return ma(t)===void 0&&!EC(t)}function $c(t,e){vt(t.node.children,(n,s)=>{e(new Pm(n,t,s))})}function SC(t,e,n,s){n&&e(t),$c(t,a=>{SC(a,e,!0)})}function YP(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function bl(t){return new De(t.parent===null?t.name:bl(t.parent)+"/"+t.name)}function Ep(t){t.parent!==null&&KP(t.parent,t.name,t)}function KP(t,e,n){const s=GP(n),a=Vn(t.node.children,e);s&&a?(delete t.node.children[e],t.node.childCount--,Ep(t)):!s&&!a&&(t.node.children[e]=n.node,t.node.childCount++,Ep(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=/[\[\].#$\/\u0000-\u001F\u007F]/,XP=/[\[\].#$\u0000-\u001F\u007F]/,Ld=10*1024*1024,Um=function(t){return typeof t=="string"&&t.length!==0&&!WP.test(t)},TC=function(t){return typeof t=="string"&&t.length!==0&&!XP.test(t)},$P=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TC(t)},QP=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!cm(t)||t&&typeof t=="object"&&Vn(t,".sv")},bC=function(t,e,n,s){s&&e===void 0||Qc(Bc(t,"value"),e,n)},Qc=function(t,e,n){const s=n instanceof De?new pk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ks(s));if(typeof e=="function")throw new Error(t+"contains a function "+ks(s)+" with contents = "+e.toString());if(cm(e))throw new Error(t+"contains "+e.toString()+" "+ks(s));if(typeof e=="string"&&e.length>Ld/3&&zc(e)>Ld)throw new Error(t+"contains a string greater than "+Ld+" utf8 bytes "+ks(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,u=!1;if(vt(e,(c,h)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Um(c)))throw new Error(t+" contains an invalid key ("+c+") "+ks(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mk(s,c),Qc(t,h,s),gk(s)}),a&&u)throw new Error(t+' contains ".value" child '+ks(s)+" in addition to actual children.")}},ZP=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const u=Wo(s);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Um(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(dk);let a=null;for(n=0;n<e.length;n++){if(s=e[n],a!==null&&hn(a,s))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}},JP=function(t,e,n,s){const a=Bc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const u=[];vt(e,(c,h)=>{const d=new De(c);if(Qc(a,h,Ye(n,d)),mm(d)===".priority"&&!QP(h))throw new Error(a+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(d)}),ZP(a,u)},CC=function(t,e,n,s){if(!TC(n))throw new Error(Bc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eL=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CC(t,e,n)},Vm=function(t,e){if(pe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},tL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Um(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$P(n))throw new Error(Bc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zc(t,e){let n=null;for(let s=0;s<e.length;s++){const a=e[s],u=a.getPath();n!==null&&!gm(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(a)}n&&t.eventLists_.push(n)}function wC(t,e,n){Zc(t,n),AC(t,s=>gm(s,e))}function dn(t,e,n){Zc(t,n),AC(t,s=>hn(s,e)||hn(e,s))}function AC(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];if(a){const u=a.path;e(u)?(iL(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Mo&&yt("event: "+n.toString()),da(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="repo_interrupt",rL=25;class aL{constructor(e,n,s,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tc(),this.transactionQueueTree_=new Pm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oL(t,e,n){if(t.stats_=dm(t.repoInfo_),t.forceRestClient_||VI())t.server_=new Sc(t.repoInfo_,(s,a,u,c)=>{ME(t,s,a,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>IE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new li(t.repoInfo_,e,(s,a,u,c)=>{ME(t,s,a,u,c)},s=>{IE(t,s)},s=>{lL(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=FI(t.repoInfo_,()=>new jk(t.stats_,t.server_)),t.infoData_=new Uk,t.infoSyncTree_=new OE({startListening:(s,a,u,c)=>{let h=[];const d=t.infoData_.getNode(s._path);return d.isEmpty()||(h=Tl(t.infoSyncTree_,s._path,d),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Bm(t,"connected",!1),t.serverSyncTree_=new OE({startListening:(s,a,u,c)=>(t.server_.listen(s,u,a,(h,d)=>{const m=c(h,d);dn(t.eventQueue_,s._path,m)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}function RC(t){const n=t.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Jc(t){return jP({timestamp:RC(t)})}function ME(t,e,n,s,a){t.dataUpdateCount++;const u=new De(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(a)if(s){const d=fc(n,m=>st(m));c=LP(t.serverSyncTree_,u,d,a)}else{const d=st(n);c=dC(t.serverSyncTree_,u,d,a)}else if(s){const d=fc(n,m=>st(m));c=IP(t.serverSyncTree_,u,d)}else{const d=st(n);c=Tl(t.serverSyncTree_,u,d)}let h=u;c.length>0&&(h=sa(t,u)),dn(t.eventQueue_,h,c)}function IE(t,e){Bm(t,"connected",e),e===!1&&hL(t)}function lL(t,e){vt(e,(n,s)=>{Bm(t,n,s)})}function Bm(t,e,n){const s=new De("/.info/"+e),a=st(n);t.infoData_.updateSnapshot(s,a);const u=Tl(t.infoSyncTree_,s,a);dn(t.eventQueue_,s,u)}function zm(t){return t.nextWriteId_++}function uL(t,e,n){const s=UP(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(a=>{const u=st(a).withIndex(e._queryParams.getIndex());_p(t.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=Tl(t.serverSyncTree_,e._path,u);else{const h=Jo(t.serverSyncTree_,e);c=dC(t.serverSyncTree_,e._path,u,h)}return dn(t.eventQueue_,e._path,c),Oc(t.serverSyncTree_,e,n,null,!0),u},a=>(Cl(t,"get for query "+rt(e)+" failed: "+a),Promise.reject(new Error(a))))}function cL(t,e,n,s,a){Cl(t,"set",{path:e.toString(),value:n,priority:s});const u=Jc(t),c=st(n,s),h=xm(t.serverSyncTree_,e),d=vC(c,h,u),m=zm(t),g=hC(t.serverSyncTree_,e,d,m,!0);Zc(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,S)=>{const T=_==="ok";T||Mt("set at "+e+" failed: "+_);const w=Qi(t.serverSyncTree_,m,!T);dn(t.eventQueue_,e,w),Sp(t,a,_,S)});const y=jm(t,e);sa(t,y),dn(t.eventQueue_,y,[])}function fL(t,e,n,s){Cl(t,"update",{path:e.toString(),value:n});let a=!0;const u=Jc(t),c={};if(vt(n,(h,d)=>{a=!1,c[h]=yC(Ye(e,h),st(d),t.serverSyncTree_,u)}),a)yt("update() called with empty data.  Don't do anything."),Sp(t,s,"ok",void 0);else{const h=zm(t),d=MP(t.serverSyncTree_,e,c,h);Zc(t.eventQueue_,d),t.server_.merge(e.toString(),n,(m,g)=>{const y=m==="ok";y||Mt("update at "+e+" failed: "+m);const _=Qi(t.serverSyncTree_,h,!y),S=_.length>0?sa(t,e):e;dn(t.eventQueue_,S,_),Sp(t,s,m,g)}),vt(n,m=>{const g=jm(t,Ye(e,m));sa(t,g)}),dn(t.eventQueue_,e,[])}}function hL(t){Cl(t,"onDisconnectEvents");const e=Jc(t),n=Tc();dp(t.onDisconnect_,be(),(a,u)=>{const c=yC(a,u,t.serverSyncTree_,e);Qb(n,a,c)});let s=[];dp(n,be(),(a,u)=>{s=s.concat(Tl(t.serverSyncTree_,a,u));const c=jm(t,a);sa(t,c)}),t.onDisconnect_=Tc(),dn(t.eventQueue_,be(),s)}function dL(t,e,n){let s;pe(e._path)===".info"?s=_p(t.infoSyncTree_,e,n):s=_p(t.serverSyncTree_,e,n),wC(t.eventQueue_,e._path,s)}function pL(t,e,n){let s;pe(e._path)===".info"?s=Oc(t.infoSyncTree_,e,n):s=Oc(t.serverSyncTree_,e,n),wC(t.eventQueue_,e._path,s)}function mL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sL)}function Cl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yt(n,...e)}function Sp(t,e,n,s){e&&da(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let u=a;s&&(u+=": "+s);const c=new Error(u);c.code=a,e(c)}})}function xC(t,e,n){return xm(t.serverSyncTree_,e,n)||oe.EMPTY_NODE}function Hm(t,e=t.transactionQueueTree_){if(e||ef(t,e),ma(e)){const n=OC(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&gL(t,bl(e),n)}else EC(e)&&$c(e,n=>{Hm(t,n)})}function gL(t,e,n){const s=n.map(m=>m.currentWriteId),a=xC(t,e,s);let u=a;const c=a.hash();for(let m=0;m<n.length;m++){const g=n[m];j(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Ot(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),d=e;t.server_.put(d.toString(),h,m=>{Cl(t,"transaction put response",{path:d.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(Qi(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();ef(t,Lm(t.transactionQueueTree_,e)),Hm(t,t.transactionQueueTree_),dn(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)da(y[_])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Mt("transaction at "+d.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}sa(t,e)}},c)}function sa(t,e){const n=DC(t,e),s=bl(n),a=OC(t,n);return yL(t,a,s),s}function yL(t,e,n){if(e.length===0)return;const s=[];let a=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],m=Ot(n,d.path);let g=!1,y;if(j(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,a=a.concat(Qi(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=rL)g=!0,y="maxretry",a=a.concat(Qi(t.serverSyncTree_,d.currentWriteId,!0));else{const _=xC(t,d.path,c);d.currentInputSnapshot=_;const S=e[h].update(_.val());if(S!==void 0){Qc("transaction failed: Data returned ",S,d.path);let T=st(S);typeof S=="object"&&S!=null&&Vn(S,".priority")||(T=T.updatePriority(_.getPriority()));const D=d.currentWriteId,x=Jc(t),P=vC(T,_,x);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=P,d.currentWriteId=zm(t),c.splice(c.indexOf(D),1),a=a.concat(hC(t.serverSyncTree_,d.path,P,d.currentWriteId,d.applyLocally)),a=a.concat(Qi(t.serverSyncTree_,D,!0))}else g=!0,y="nodata",a=a.concat(Qi(t.serverSyncTree_,d.currentWriteId,!0))}dn(t.eventQueue_,n,a),a=[],g&&(e[h].status=2,function(_){setTimeout(_,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}ef(t,t.transactionQueueTree_);for(let h=0;h<s.length;h++)da(s[h]);Hm(t,t.transactionQueueTree_)}function DC(t,e){let n,s=t.transactionQueueTree_;for(n=pe(e);n!==null&&ma(s)===void 0;)s=Lm(s,n),e=ke(e),n=pe(e);return s}function OC(t,e){const n=[];return NC(t,e,n),n.sort((s,a)=>s.order-a.order),n}function NC(t,e,n){const s=ma(e);if(s)for(let a=0;a<s.length;a++)n.push(s[a]);$c(e,a=>{NC(t,a,n)})}function ef(t,e){const n=ma(e);if(n){let s=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[s]=n[a],s++);n.length=s,_C(e,n.length>0?n:void 0)}$c(e,s=>{ef(t,s)})}function jm(t,e){const n=bl(DC(t,e)),s=Lm(t.transactionQueueTree_,e);return YP(s,a=>{Ud(t,a)}),Ud(t,s),SC(s,a=>{Ud(t,a)}),n}function Ud(t,e){const n=ma(e);if(n){const s=[];let a=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(j(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(j(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),a=a.concat(Qi(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?_C(e,void 0):n.length=u+1,dn(t.eventQueue_,bl(e),a);for(let c=0;c<s.length;c++)da(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let a=n[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function _L(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Mt(`Invalid query segment '${n}' in query '${t}'`)}return e}const kE=function(t,e){const n=EL(t),s=n.namespace;n.domain==="firebase.com"&&pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||DI();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kb(n.host,n.secure,s,a,e,"",s!==n.subdomain),path:new De(n.pathString)}},EL=function(t){let e="",n="",s="",a="",u="",c=!0,h="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(a=vL(t.substring(g,y)));const _=_L(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const S=e.slice(0,m);if(S.toLowerCase()==="localhost")n="localhost";else if(S.split(".").length<=2)n=S;else{const T=e.indexOf(".");s=e.substring(0,T).toLowerCase(),n=e.substring(T+1),u=s}"ns"in _&&(u=_.ns)}return{host:e,port:d,domain:n,subdomain:s,secure:c,scheme:h,pathString:a,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SL=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let a;const u=new Array(8);for(a=7;a>=0;a--)u[a]=PE.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let c=u.join("");if(s){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)c+=PE.charAt(e[a]);return j(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,s,a){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class bL{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,s,a){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=a}get key(){return ye(this._path)?null:mm(this._path)}get ref(){return new _i(this._repo,this._path)}get _queryIdentifier(){const e=EE(this._queryParams),n=fm(e);return n==="{}"?"default":n}get _queryObject(){return EE(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof Fm))return!1;const n=this._repo===e._repo,s=gm(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&s&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+hk(this._path)}}class _i extends Fm{constructor(e,n){super(e,n,new Em,!1)}get parent(){const e=Fb(this._path);return e===null?null:new _i(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class el{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new De(e),s=tl(this.ref,e);return new el(this._node.getChild(n),s,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,a)=>e(new el(a,tl(this.ref,s),Ke)))}hasChild(e){const n=new De(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Us(t,e){return t=at(t),t._checkNotDeleted("ref"),e!==void 0?tl(t._root,e):t._root}function tl(t,e){return t=at(t),pe(t._path)===null?eL("child","path",e):CC("child","path",e),new _i(t._repo,Ye(t._path,e))}function CL(t,e){t=at(t),Vm("push",t._path),bC("push",e,t._path,!0);const n=RC(t._repo),s=SL(n),a=tl(t,s),u=tl(t,s);let c;return e!=null?c=qm(u,e).then(()=>u):c=Promise.resolve(u),a.then=c.then.bind(c),a.catch=c.then.bind(c,void 0),a}function wL(t){return Vm("remove",t._path),qm(t,null)}function qm(t,e){t=at(t),Vm("set",t._path),bC("set",e,t._path,!1);const n=new dl;return cL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function AL(t,e){JP("update",e,t._path);const n=new dl;return fL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function IC(t){t=at(t);const e=new MC(()=>{}),n=new tf(e);return uL(t._repo,t,n).then(s=>new el(s,new _i(t._repo,t._path),t._queryParams.getIndex()))}class tf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new TL("value",this,new el(e.snapshotNode,new _i(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bL(this,e,n):null}matches(e){return e instanceof tf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function RL(t,e,n,s,a){const u=new MC(n,void 0),c=new tf(u);return dL(t._repo,t,c),()=>pL(t._repo,t,c)}function LE(t,e,n,s){return RL(t,"value",e)}CP(_i);DP(_i);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="FIREBASE_DATABASE_EMULATOR_HOST",Tp={};let DL=!1;function OL(t,e,n,s){t.repoInfo_=new kb(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function NL(t,e,n,s,a){let u=s||t.options.databaseURL;u===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=kE(u,a),h=c.repoInfo,d;typeof process<"u"&&nE&&(d=nE[xL]),d?(u=`http://${d}?ns=${h.namespace}`,c=kE(u,a),h=c.repoInfo):c.repoInfo.secure;const m=new zI(t.name,t.options,e);tL("Invalid Firebase Database URL",c),ye(c.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=IL(h,t,m,new BI(t,n));return new kL(g,t)}function ML(t,e){const n=Tp[e];(!n||n[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mL(t),delete n[t.key]}function IL(t,e,n,s){let a=Tp[e.name];a||(a={},Tp[e.name]=a);let u=a[t.toURLString()];return u&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new aL(t,DL,n,s),a[t.toURLString()]=u,u}class kL{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _i(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ML(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function PL(t=em(),e){const n=Hc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=xT("database");s&&LL(n,...s)}return n}function LL(t,e,n,s={}){t=at(t),t._checkNotDeleted("useEmulator");const a=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(a===t._repoInternal.repoInfo_.host&&Fs(s,u.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new sc(sc.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:NT(s.mockUserToken,t.app.options.projectId);c=new sc(h)}OL(u,a,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){bI(Zs),qs(new ns("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return NL(s,a,u,n)},"PUBLIC").setMultipleInstances(!0)),Nn(iE,sE,t),Nn(iE,sE,"esm2017")}li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};UL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebasestorage.googleapis.com",PC="storageBucket",VL=2*60*1e3,BL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends yi{constructor(e,n,s=0){super(Vd(e),`Firebase Storage: ${n} (${Vd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function Vd(t){return"storage/"+t}function Gm(){const t="An unknown error occurred, please check the error payload for server response.";return new Xe(We.UNKNOWN,t)}function zL(t){return new Xe(We.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HL(t){return new Xe(We.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(We.UNAUTHENTICATED,t)}function FL(){return new Xe(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qL(t){return new Xe(We.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GL(){return new Xe(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YL(){return new Xe(We.CANCELED,"User canceled the upload/download.")}function KL(t){return new Xe(We.INVALID_URL,"Invalid URL '"+t+"'.")}function WL(t){return new Xe(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XL(){return new Xe(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PC+"' property when initializing the app?")}function $L(){return new Xe(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QL(){return new Xe(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZL(t){return new Xe(We.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bp(t){return new Xe(We.INVALID_ARGUMENT,t)}function LC(){return new Xe(We.APP_DELETED,"The Firebase app was deleted.")}function JL(t){return new Xe(We.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uo(t,e){return new Xe(We.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Co(t){throw new Xe(We.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(s.path==="")return s;throw WL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function u(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${a}/o${_}`,"i"),T={bucket:1,path:3},w=n===kC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",x=new RegExp(`^https?://${w}/${a}/${D}`,"i"),k=[{regex:h,indices:d,postModify:u},{regex:S,indices:T,postModify:m},{regex:x,indices:{bucket:1,path:2},postModify:m}];for(let q=0;q<k.length;q++){const B=k[q],G=B.regex.exec(e);if(G){const le=G[B.indices.bucket];let X=G[B.indices.path];X||(X=""),s=new Yt(le,X),B.postModify(s);break}}if(s==null)throw KL(e);return s}}class eU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t,e,n){let s=1,a=null,u=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...D){m||(m=!0,e.apply(null,D))}function y(D){a=setTimeout(()=>{a=null,t(S,d())},D)}function _(){u&&clearTimeout(u)}function S(D,...x){if(m){_();return}if(D){_(),g.call(null,D,...x);return}if(d()||c){_(),g.call(null,D,...x);return}s<64&&(s*=2);let k;h===1?(h=2,k=0):k=(s+Math.random())*1e3,y(k)}let T=!1;function w(D){T||(T=!0,_(),!m&&(a!==null?(D||(h=2),clearTimeout(a),y(0)):D||(h=1)))}return y(0),u=setTimeout(()=>{c=!0,w(!0)},n),w}function nU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){return t!==void 0}function sU(t){return typeof t=="object"&&!Array.isArray(t)}function Ym(t){return typeof t=="string"||t instanceof String}function UE(t){return Km()&&t instanceof Blob}function Km(){return typeof Blob<"u"}function VE(t,e,n,s){if(s<e)throw bp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw bp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function UC(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Hs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hs||(Hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return n||a||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,s,a,u,c,h,d,m,g,y,_=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,T)=>{this.resolve_=S,this.reject_=T,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ku(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const h=u.getErrorCode()===Hs.NO_ERROR,d=u.getStatus();if(!h||rU(d,this.additionalRetryCodes_)&&this.retry){const g=u.getErrorCode()===Hs.ABORT;s(!1,new Ku(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new Ku(m,u))})},n=(s,a)=>{const u=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());iU(d)?u(d):u()}catch(d){c(d)}else if(h!==null){const d=Gm();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?LC():YL();c(d)}else{const d=GL();c(d)}};this.canceled_?n(!1,new Ku(!1,null,!0)):this.backoffId_=tU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function oU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fU(t,e,n,s,a,u,c=!0){const h=UC(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return uU(m,e),oU(m,n),lU(m,u),cU(m,s),new aU(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dU(...t){const e=hU();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Km())return new Blob(t);throw new Xe(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){if(typeof atob>"u")throw ZL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bd{constructor(e,n){this.data=e,this.contentType=n||null}}function gU(t,e){switch(t){case On.RAW:return new Bd(VC(e));case On.BASE64:case On.BASE64URL:return new Bd(BC(t,e));case On.DATA_URL:return new Bd(vU(e),_U(e))}throw Gm()}function VC(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=t.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function yU(t){let e;try{e=decodeURIComponent(t)}catch{throw Uo(On.DATA_URL,"Malformed data URL.")}return VC(e)}function BC(t,e){switch(t){case On.BASE64:{const a=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(a||u)throw Uo(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case On.BASE64URL:{const a=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(a||u)throw Uo(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mU(e)}catch(a){throw a.message.includes("polyfill")?a:Uo(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class zC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Uo(On.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=EU(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function vU(t){const e=new zC(t);return e.base64?BC(On.BASE64,e.rest):yU(e.rest)}function _U(t){return new zC(t).contentType}function EU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){let s=0,a="";UE(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(UE(this.data_)){const s=this.data_,a=pU(s,e,n);return a===null?null:new $i(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new $i(s,!0)}}static getBlob(...e){if(Km()){const n=e.map(s=>s instanceof $i?s.data_:s);return new $i(dU.apply(null,n))}else{const n=e.map(c=>Ym(c)?gU(On.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)a[u++]=c[h]}),new $i(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){let e;try{e=JSON.parse(t)}catch{return null}return sU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TU(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function jC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t,e){return e}class Dt{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||bU}}let Wu=null;function CU(t){return!Ym(t)||t.length<2?t:jC(t)}function FC(){if(Wu)return Wu;const t=[];t.push(new Dt("bucket")),t.push(new Dt("generation")),t.push(new Dt("metageneration")),t.push(new Dt("name","fullPath",!0));function e(u,c){return CU(c)}const n=new Dt("name");n.xform=e,t.push(n);function s(u,c){return c!==void 0?Number(c):c}const a=new Dt("size");return a.xform=s,t.push(a),t.push(new Dt("timeCreated")),t.push(new Dt("updated")),t.push(new Dt("md5Hash",null,!0)),t.push(new Dt("cacheControl",null,!0)),t.push(new Dt("contentDisposition",null,!0)),t.push(new Dt("contentEncoding",null,!0)),t.push(new Dt("contentLanguage",null,!0)),t.push(new Dt("contentType",null,!0)),t.push(new Dt("metadata","customMetadata",!0)),Wu=t,Wu}function wU(t,e){function n(){const s=t.bucket,a=t.fullPath,u=new Yt(s,a);return e._makeStorageReference(u)}Object.defineProperty(t,"ref",{get:n})}function AU(t,e,n){const s={};s.type="file";const a=n.length;for(let u=0;u<a;u++){const c=n[u];s[c.local]=c.xform(s,e[c.server])}return wU(s,t),s}function qC(t,e,n){const s=HC(e);return s===null?null:AU(t,s,n)}function RU(t,e,n,s){const a=HC(e);if(a===null||!Ym(a.downloadTokens))return null;const u=a.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(m=>{const g=t.bucket,y=t.fullPath,_="/b/"+c(g)+"/o/"+c(y),S=Wm(_,n,s),T=UC({alt:"media",token:m});return S+T})[0]}function xU(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const u=e[a];u.writable&&(n[u.server]=t[u.local])}return JSON.stringify(n)}class GC{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){if(!t)throw Gm()}function DU(t,e){function n(s,a){const u=qC(t,a,e);return YC(u!==null),u}return n}function OU(t,e){function n(s,a){const u=qC(t,a,e);return YC(u!==null),RU(u,a,t.host,t._protocol)}return n}function KC(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=FL():a=jL():n.getStatus()===402?a=HL(t.bucket):n.getStatus()===403?a=qL(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function NU(t){const e=KC(t);function n(s,a){let u=e(s,a);return s.getStatus()===404&&(u=zL(t.path)),u.serverResponse=a.serverResponse,u}return n}function MU(t,e,n){const s=e.fullServerUrl(),a=Wm(s,t.host,t._protocol),u="GET",c=t.maxOperationRetryTime,h=new GC(a,u,OU(t,n),c);return h.errorHandler=NU(e),h}function IU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function kU(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=IU(null,e)),s}function PU(t,e,n,s,a){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let k="";for(let q=0;q<2;q++)k=k+Math.random().toString().slice(2);return k}const d=h();c["Content-Type"]="multipart/related; boundary="+d;const m=kU(e,s,a),g=xU(m,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+d+"--",S=$i.getBlob(y,s,_);if(S===null)throw $L();const T={name:m.fullPath},w=Wm(u,t.host,t._protocol),D="POST",x=t.maxUploadRetryTime,P=new GC(w,D,DU(t,n),x);return P.urlParams=T,P.headers=c,P.body=S.uploadData(),P.errorHandler=KC(e),P}class LU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a){if(this.sent_)throw Co("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Co("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Co("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Co("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Co("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class UU extends LU{initXhr(){this.xhr_.responseType="text"}}function WC(){return new UU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $s(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jC(this._location.path)}get storage(){return this._service}get parent(){const e=SU(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new $s(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JL(e)}}function VU(t,e,n){t._throwIfRoot("uploadBytes");const s=PU(t.storage,t._location,FC(),new $i(e,!0),n);return t.storage.makeRequestWithTokens(s,WC).then(a=>({metadata:a,ref:t}))}function BU(t){t._throwIfRoot("getDownloadURL");const e=MU(t.storage,t._location,FC());return t.storage.makeRequestWithTokens(e,WC).then(n=>{if(n===null)throw QL();return n})}function zU(t,e){const n=TU(t._location.path,e),s=new Yt(t._location.bucket,n);return new $s(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){return/^[A-Za-z]+:\/\//.test(t)}function jU(t,e){return new $s(t,e)}function XC(t,e){if(t instanceof Xm){const n=t;if(n._bucket==null)throw XL();const s=new $s(n,n._bucket);return e!=null?XC(s,e):s}else return e!==void 0?zU(t,e):t}function FU(t,e){if(e&&HU(e)){if(t instanceof Xm)return jU(t,e);throw bp("To use ref(service, url), the first argument must be a Storage instance.")}else return XC(t,e)}function BE(t,e){const n=e==null?void 0:e[PC];return n==null?null:Yt.makeFromBucketSpec(n,t)}function qU(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=s;a&&(t._overrideAuthToken=typeof a=="string"?a:NT(a,t.app.options.projectId))}class Xm{constructor(e,n,s,a,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=kC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VL,this._maxUploadRetryTime=BL,this._requests=new Set,a!=null?this._bucket=Yt.makeFromBucketSpec(a,this._host):this._bucket=BE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=BE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $s(this,e)}_makeRequest(e,n,s,a,u=!0){if(this._deleted)return new eU(LC());{const c=fU(e,this._appId,s,a,n,this._firebaseVersion,u);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const zE="@firebase/storage",HE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="storage";function GU(t,e,n){return t=at(t),VU(t,e,n)}function YU(t){return t=at(t),BU(t)}function KU(t,e){return t=at(t),FU(t,e)}function WU(t=em(),e){t=at(t);const s=Hc(t,$C).getImmediate({identifier:e}),a=xT("storage");return a&&XU(s,...a),s}function XU(t,e,n,s={}){qU(t,e,n,s)}function $U(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Xm(n,s,a,e,Zs)}function QU(){qs(new ns($C,$U,"PUBLIC").setMultipleInstances(!0)),Nn(zE,HE,""),Nn(zE,HE,"esm2017")}QU();const ZU={apiKey:"AIzaSyBklgSjOkQ6bS8ZXFNI3tCouKx3ZPXcKQs",authDomain:"chats-48874.firebaseapp.com",projectId:"chats-48874",storageBucket:"chats-48874.firebasestorage.app",databaseURL:"https://chats-48874-default-rtdb.firebaseio.com",messagingSenderId:"953620401924",appId:"1:953620401924:web:0b52cd9712d46adaea0a51",measurementId:"G-X91362GNP1"},$m=LT(ZU),bt=_I($m),Vs=PL($m),JU=WU($m),QC=O.createContext({});function e2(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qm=typeof window<"u",t2=Qm?O.useLayoutEffect:O.useEffect,Zm=O.createContext(null),ZC=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function n2(t=!0){const e=O.useContext(Zm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,u=O.useId();O.useEffect(()=>{if(t)return a(u)},[t]);const c=O.useCallback(()=>t&&s&&s(u),[u,s,t]);return!n&&s?[!1,c]:[!0]}function Jm(t,e){t.indexOf(e)===-1&&t.push(e)}function eg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Kt=t=>t;let JC=Kt;const i2={useManualTiming:!1};function tg(t){let e;return()=>(e===void 0&&(e=t()),e)}const ra=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class ng{constructor(){this.subscriptions=[]}add(e){return Jm(this.subscriptions,e),()=>eg(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ui=t=>t*1e3,ci=t=>t/1e3;function ew(t,e){return e?t*(1e3/e):0}const s2=tg(()=>window.ScrollTimeline!==void 0);class r2{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(a=>{if(s2()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class a2 extends r2{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ig(t,e){return t?t[e]||t.default||t:void 0}const Cp=2e4;function tw(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Cp;)e+=n,s=t.next(e);return e>=Cp?1/0:e}function sg(t){return typeof t=="function"}function jE(t,e){t.timeline=e,t.onfinish=null}const rg=t=>Array.isArray(t)&&typeof t[0]=="number",o2={linearEasing:void 0};function l2(t,e){const n=tg(t);return()=>{var s;return(s=o2[e])!==null&&s!==void 0?s:n()}}const Nc=l2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nw=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let u=0;u<a;u++)s+=t(ra(0,a-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function iw(t){return!!(typeof t=="function"&&Nc()||!t||typeof t=="string"&&(t in wp||Nc())||rg(t)||Array.isArray(t)&&t.every(iw))}const Do=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,wp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Do([0,.65,.55,1]),circOut:Do([.55,0,1,.45]),backIn:Do([.31,.01,.66,-.59]),backOut:Do([.33,1.53,.69,.99])};function sw(t,e){if(t)return typeof t=="function"&&Nc()?nw(t,e):rg(t)?Do(t):Array.isArray(t)?t.map(n=>sw(n,e)||wp.easeOut):wp[t]}const Xu=["read","resolveKeyframes","update","preRender","render","postRender"],FE={value:null};function u2(t,e){let n=new Set,s=new Set,a=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function m(y){c.has(y)&&(g.schedule(y),t()),d++,y(h)}const g={schedule:(y,_=!1,S=!1)=>{const w=S&&a?n:s;return _&&c.add(y),w.has(y)||w.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,a){u=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),e&&FE.value&&FE.value.frameloop[e].push(d),d=0,n.clear(),a=!1,u&&(u=!1,g.process(y))}};return g}const c2=40;function rw(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Xu.reduce((x,P)=>(x[P]=u2(u,e?P:void 0),x),{}),{read:h,resolveKeyframes:d,update:m,preRender:g,render:y,postRender:_}=c,S=()=>{const x=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(x-a.timestamp,c2),1),a.timestamp=x,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(S))},T=()=>{n=!0,s=!0,a.isProcessing||t(S)};return{schedule:Xu.reduce((x,P)=>{const k=c[P];return x[P]=(q,B=!1,G=!1)=>(n||T(),k.schedule(q,B,G)),x},{}),cancel:x=>{for(let P=0;P<Xu.length;P++)c[Xu[P]].cancel(x)},state:a,steps:c}}const{schedule:Pe,cancel:as,state:gt,steps:zd}=rw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kt,!0),{schedule:ag}=rw(queueMicrotask,!1);let rc;function f2(){rc=void 0}const kn={now:()=>(rc===void 0&&kn.set(gt.isProcessing||i2.useManualTiming?gt.timestamp:performance.now()),rc),set:t=>{rc=t,queueMicrotask(f2)}},vn={x:!1,y:!1};function aw(){return vn.x||vn.y}function h2(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function d2(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const u=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function ow(t,e){const n=d2(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function qE(t){return!(t.pointerType==="touch"||aw())}function p2(t,e,n={}){const[s,a,u]=ow(t,n),c=h=>{if(!qE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=y=>{qE(y)&&(m(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),u}function GE(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const lw=(t,e)=>e?t===e?!0:lw(t,e.parentElement):!1,og=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g2(t){return m2.has(t.tagName)||t.tabIndex!==-1}const Oo=new WeakSet;function YE(t){return e=>{e.key==="Enter"&&t(e)}}function Hd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y2=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=YE(()=>{if(Oo.has(n))return;Hd(n,"down");const a=YE(()=>{Hd(n,"up")}),u=()=>Hd(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function KE(t){return og(t)&&!aw()}function v2(t,e,n={}){const[s,a,u]=ow(t,n),c=h=>{const d=h.currentTarget;if(!d||!KE(h)||Oo.has(d))return;Oo.add(d),GE(h,"set");const m=e(d,h),g=(S,T)=>{d.removeEventListener("pointerup",y),d.removeEventListener("pointercancel",_),GE(S,"release"),!(!KE(S)||!Oo.has(d))&&(Oo.delete(d),typeof m=="function"&&m(S,{success:T}))},y=S=>{(S.isTrusted?_2(S,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(d instanceof Element)||lw(d,S.target))},_=S=>{g(S,!1)};d.addEventListener("pointerup",y,a),d.addEventListener("pointercancel",_,a),d.addEventListener("lostpointercapture",_,a)};return s.forEach(h=>{h=n.useGlobalTarget?window:h;let d=!1;h instanceof HTMLElement&&(d=!0,!g2(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",c,a),d&&h.addEventListener("focus",m=>y2(m,a),a)}),u}function _2(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const WE=30,E2=t=>!isNaN(parseFloat(t));class S2{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const u=kn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ng);const s=this.events[e].add(n);return e==="change"?()=>{s(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WE);return ew(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(t,e){return new S2(t,e)}const uw=O.createContext({strict:!1}),XE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const t in XE)aa[t]={isEnabled:e=>XE[t].some(n=>!!e[n])};function T2(t){for(const e in t)aa[e]={...aa[e],...t[e]}}const b2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||b2.has(t)}let cw=t=>!Mc(t);function C2(t){t&&(cw=e=>e.startsWith("on")?!Mc(e):t(e))}try{C2(require("@emotion/is-prop-valid").default)}catch{}function w2(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(cw(a)||n===!0&&Mc(a)||!e&&!Mc(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function A2(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const nf=O.createContext({});function sf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function il(t){return typeof t=="string"||Array.isArray(t)}const lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ug=["initial",...lg];function rf(t){return sf(t.animate)||ug.some(e=>il(t[e]))}function fw(t){return!!(rf(t)||t.variants)}function R2(t,e){if(rf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||il(n)?n:void 0,animate:il(s)?s:void 0}}return t.inherit!==!1?e:{}}function x2(t){const{initial:e,animate:n}=R2(t,O.useContext(nf));return O.useMemo(()=>({initial:e,animate:n}),[$E(e),$E(n)])}function $E(t){return Array.isArray(t)?t.join(" "):t}const D2=Symbol.for("motionComponentSymbol");function jr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O2(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):jr(n)&&(n.current=s))},[e])}const cg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),N2="framerAppearId",hw="data-"+cg(N2),dw=O.createContext({});function M2(t,e,n,s,a){var u,c;const{visualElement:h}=O.useContext(nf),d=O.useContext(uw),m=O.useContext(Zm),g=O.useContext(ZC).reducedMotion,y=O.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const _=y.current,S=O.useContext(dw);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&I2(y.current,n,a,S);const T=O.useRef(!1);O.useInsertionEffect(()=>{_&&T.current&&_.update(n,m)});const w=n[hw],D=O.useRef(!!w&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,w))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,w)));return t2(()=>{_&&(T.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),ag.render(_.render),D.current&&_.animationState&&_.animationState.animateChanges())}),O.useEffect(()=>{_&&(!D.current&&_.animationState&&_.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,w)}),D.current=!1))}),_}function I2(t,e,n,s){const{layoutId:a,layout:u,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pw(t.parent)),t.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||h&&jr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:m})}function pw(t){if(t)return t.options.allowProjection!==!1?t.projection:pw(t.parent)}function k2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){var u,c;t&&T2(t);function h(m,g){let y;const _={...O.useContext(ZC),...m,layoutId:P2(m)},{isStatic:S}=_,T=x2(m),w=s(m,S);if(!S&&Qm){L2();const D=U2(_);y=D.MeasureLayout,T.visualElement=M2(a,w,_,e,D.ProjectionNode)}return K.jsxs(nf.Provider,{value:T,children:[y&&T.visualElement?K.jsx(y,{visualElement:T.visualElement,..._}):null,n(a,m,O2(w,T.visualElement,g),w,S,T.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(c=(u=a.displayName)!==null&&u!==void 0?u:a.name)!==null&&c!==void 0?c:""})`}`;const d=O.forwardRef(h);return d[D2]=a,d}function P2({layoutId:t}){const e=O.useContext(QC).id;return e&&t!==void 0?e+"-"+t:t}function L2(t,e){O.useContext(uw).strict}function U2(t){const{drag:e,layout:n}=aa;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const mw=t=>e=>typeof e=="string"&&e.startsWith(t),fg=mw("--"),V2=mw("var(--"),hg=t=>V2(t)?B2.test(t.split("/*")[0].trim()):!1,B2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={};function z2(t){for(const e in t)sl[e]=t[e],fg(e)&&(sl[e].isCSSVariable=!0)}const ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nr=new Set(ga);function gw(t,{layout:e,layoutId:n}){return nr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sl[t]||t==="opacity")}const Ct=t=>!!(t&&t.getVelocity),yw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...ya,transform:t=>mi(0,1,t)},$u={...ya,default:1},wl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gi=wl("deg"),Pn=wl("%"),se=wl("px"),H2=wl("vh"),j2=wl("vw"),QE={...Pn,parse:t=>Pn.parse(t)/100,transform:t=>Pn.transform(t*100)},F2={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se},q2={rotate:Gi,rotateX:Gi,rotateY:Gi,rotateZ:Gi,scale:$u,scaleX:$u,scaleY:$u,scaleZ:$u,skew:Gi,skewX:Gi,skewY:Gi,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:rl,originX:QE,originY:QE,originZ:se},ZE={...ya,transform:Math.round},dg={...F2,...q2,zIndex:ZE,size:se,fillOpacity:rl,strokeOpacity:rl,numOctaves:ZE},G2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y2=ga.length;function K2(t,e,n){let s="",a=!0;for(let u=0;u<Y2;u++){const c=ga[u],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=yw(h,dg[c]);if(!d){a=!1;const g=G2[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function pg(t,e,n){const{style:s,vars:a,transformOrigin:u}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(nr.has(d)){c=!0;continue}else if(fg(d)){a[d]=m;continue}else{const g=yw(m,dg[d]);d.startsWith("origin")?(h=!0,u[d]=g):s[d]=g}}if(e.transform||(c||n?s.transform=K2(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=u;s.transformOrigin=`${d} ${m} ${g}`}}const mg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vw(t,e,n){for(const s in e)!Ct(e[s])&&!gw(s,n)&&(t[s]=e[s])}function W2({transformTemplate:t},e){return O.useMemo(()=>{const n=mg();return pg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function X2(t,e){const n=t.style||{},s={};return vw(s,n,t),Object.assign(s,W2(t,e)),s}function $2(t,e){const n={},s=X2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Q2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gg(t){return typeof t!="string"||t.includes("-")?!1:!!(Q2.indexOf(t)>-1||/[A-Z]/u.test(t))}const Z2={offset:"stroke-dashoffset",array:"stroke-dasharray"},J2={offset:"strokeDashoffset",array:"strokeDasharray"};function eV(t,e,n=1,s=0,a=!0){t.pathLength=1;const u=a?Z2:J2;t[u.offset]=se.transform(-s);const c=se.transform(e),h=se.transform(n);t[u.array]=`${c} ${h}`}function JE(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function tV(t,e,n){const s=JE(e,t.x,t.width),a=JE(n,t.y,t.height);return`${s} ${a}`}function yg(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:u,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...m},g,y){if(pg(t,m,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S,dimensions:T}=t;_.transform&&(T&&(S.transform=_.transform),delete _.transform),T&&(a!==void 0||u!==void 0||S.transform)&&(S.transformOrigin=tV(T,a!==void 0?a:.5,u!==void 0?u:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),c!==void 0&&eV(_,c,h,d,!1)}const _w=()=>({...mg(),attrs:{}}),vg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nV(t,e,n,s){const a=O.useMemo(()=>{const u=_w();return yg(u,e,vg(s),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};vw(u,t.style,t),a.style={...u,...a.style}}return a}function iV(t=!1){return(n,s,a,{latestValues:u},c)=>{const d=(gg(n)?nV:$2)(s,u,c,n),m=w2(s,typeof n=="string",t),g=n!==O.Fragment?{...m,...d,ref:a}:{},{children:y}=s,_=O.useMemo(()=>Ct(y)?y.get():y,[y]);return O.createElement(n,{...g,children:_})}}function eS(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function _g(t,e,n,s){if(typeof e=="function"){const[a,u]=eS(s);e=e(n!==void 0?n:t.custom,a,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,u]=eS(s);e=e(n!==void 0?n:t.custom,a,u)}return e}const Ap=t=>Array.isArray(t),sV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),rV=t=>Ap(t)?t[t.length-1]||0:t;function ac(t){const e=Ct(t)?t.get():t;return sV(e)?e.toValue():e}function aV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,a,u){const c={latestValues:oV(s,a,u,t),renderState:e()};return n&&(c.onMount=h=>n({props:s,current:h,...c}),c.onUpdate=h=>n(h)),c}const Ew=t=>(e,n)=>{const s=O.useContext(nf),a=O.useContext(Zm),u=()=>aV(t,e,s,a);return n?u():e2(u)};function oV(t,e,n,s){const a={},u=s(t,{});for(const _ in u)a[_]=ac(u[_]);let{initial:c,animate:h}=t;const d=rf(t),m=fw(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!sf(y)){const _=Array.isArray(y)?y:[y];for(let S=0;S<_.length;S++){const T=_g(t,_[S]);if(T){const{transitionEnd:w,transition:D,...x}=T;for(const P in x){let k=x[P];if(Array.isArray(k)){const q=g?k.length-1:0;k=k[q]}k!==null&&(a[P]=k)}for(const P in w)a[P]=w[P]}}}return a}function Eg(t,e,n){var s;const{style:a}=t,u={};for(const c in a)(Ct(a[c])||e.style&&Ct(e.style[c])||gw(c,t)||((s=n==null?void 0:n.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[c]=a[c]);return u}const lV={useVisualState:Ew({scrapeMotionValuesFromProps:Eg,createRenderState:mg})};function Sw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Tw(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const u in n)t.style.setProperty(u,n[u])}const bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cw(t,e,n,s){Tw(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(bw.has(a)?a:cg(a),e.attrs[a])}function ww(t,e,n){const s=Eg(t,e,n);for(const a in t)if(Ct(t[a])||Ct(e[a])){const u=ga.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=t[a]}return s}const tS=["x","y","width","height","cx","cy","r"],uV={useVisualState:Ew({scrapeMotionValuesFromProps:ww,createRenderState:_w,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:a})=>{if(!n)return;let u=!!t.drag;if(!u){for(const h in a)if(nr.has(h)){u=!0;break}}if(!u)return;let c=!e;if(e)for(let h=0;h<tS.length;h++){const d=tS[h];t[d]!==e[d]&&(c=!0)}c&&Pe.read(()=>{Sw(n,s),Pe.render(()=>{yg(s,a,vg(n.tagName),t.transformTemplate),Cw(n,s)})})}})};function cV(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...gg(s)?uV:lV,preloadedFeatures:t,useRender:iV(a),createVisualElement:e,Component:s};return k2(c)}}function al(t,e,n){const s=t.getProps();return _g(s,e,n!==void 0?n:s.custom,t)}const Aw=new Set(["width","height","top","left","right","bottom",...ga]);function fV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nl(n))}function hV(t,e){const n=al(t,e);let{transitionEnd:s={},transition:a={},...u}=n||{};u={...u,...s};for(const c in u){const h=rV(u[c]);fV(t,c,h)}}function dV(t){return!!(Ct(t)&&t.add)}function Rp(t,e){const n=t.getValue("willChange");if(dV(n))return n.add(e)}function Rw(t){return t.props[hw]}const xw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pV=1e-7,mV=12;function gV(t,e,n,s,a){let u,c,h=0;do c=e+(n-e)/2,u=xw(c,s,a)-t,u>0?n=c:e=c;while(Math.abs(u)>pV&&++h<mV);return c}function Al(t,e,n,s){if(t===e&&n===s)return Kt;const a=u=>gV(u,0,1,t,n);return u=>u===0||u===1?u:xw(a(u),e,s)}const Dw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ow=t=>e=>1-t(1-e),Nw=Al(.33,1.53,.69,.99),Sg=Ow(Nw),Mw=Dw(Sg),Iw=t=>(t*=2)<1?.5*Sg(t):.5*(2-Math.pow(2,-10*(t-1))),Tg=t=>1-Math.sin(Math.acos(t)),kw=Ow(Tg),Pw=Dw(Tg),Lw=t=>/^0[^.\s]+$/u.test(t);function yV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Lw(t):!0}const Vo=t=>Math.round(t*1e5)/1e5,bg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vV(t){return t==null}const _V=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cg=(t,e)=>n=>!!(typeof n=="string"&&_V.test(n)&&n.startsWith(t)||e&&!vV(n)&&Object.prototype.hasOwnProperty.call(n,e)),Uw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,u,c,h]=s.match(bg);return{[t]:parseFloat(a),[e]:parseFloat(u),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},EV=t=>mi(0,255,t),jd={...ya,transform:t=>Math.round(EV(t))},Bs={test:Cg("rgb","red"),parse:Uw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+jd.transform(t)+", "+jd.transform(e)+", "+jd.transform(n)+", "+Vo(rl.transform(s))+")"};function SV(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const xp={test:Cg("#"),parse:SV,transform:Bs.transform},Fr={test:Cg("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Pn.transform(Vo(e))+", "+Pn.transform(Vo(n))+", "+Vo(rl.transform(s))+")"},Tt={test:t=>Bs.test(t)||xp.test(t)||Fr.test(t),parse:t=>Bs.test(t)?Bs.parse(t):Fr.test(t)?Fr.parse(t):xp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bs.transform(t):Fr.transform(t)},TV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(TV))===null||n===void 0?void 0:n.length)||0)>0}const Vw="number",Bw="color",CV="var",wV="var(",nS="${}",AV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ol(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let u=0;const h=e.replace(AV,d=>(Tt.test(d)?(s.color.push(u),a.push(Bw),n.push(Tt.parse(d))):d.startsWith(wV)?(s.var.push(u),a.push(CV),n.push(d)):(s.number.push(u),a.push(Vw),n.push(parseFloat(d))),++u,nS)).split(nS);return{values:n,split:h,indexes:s,types:a}}function zw(t){return ol(t).values}function Hw(t){const{split:e,types:n}=ol(t),s=e.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],a[c]!==void 0){const h=n[c];h===Vw?u+=Vo(a[c]):h===Bw?u+=Tt.transform(a[c]):u+=a[c]}return u}}const RV=t=>typeof t=="number"?0:t;function xV(t){const e=zw(t);return Hw(t)(e.map(RV))}const os={test:bV,parse:zw,createTransformer:Hw,getAnimatableNone:xV},DV=new Set(["brightness","contrast","saturate","opacity"]);function OV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(bg)||[];if(!s)return t;const a=n.replace(s,"");let u=DV.has(e)?1:0;return s!==n&&(u*=100),e+"("+u+a+")"}const NV=/\b([a-z-]*)\(.*?\)/gu,Dp={...os,getAnimatableNone:t=>{const e=t.match(NV);return e?e.map(OV).join(" "):t}},MV={...dg,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Dp,WebkitFilter:Dp},jw=t=>MV[t];function Fw(t,e){let n=jw(t);return n!==Dp&&(n=os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IV=new Set(["auto","none","0"]);function kV(t,e,n){let s=0,a;for(;s<t.length&&!a;){const u=t[s];typeof u=="string"&&!IV.has(u)&&ol(u).values.length&&(a=t[s]),s++}if(a&&n)for(const u of e)t[u]=Fw(n,a)}const zs=t=>t*180/Math.PI,Op=t=>{const e=zs(Math.atan2(t[1],t[0]));return Np(e)},PV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Op,rotateZ:Op,skewX:t=>zs(Math.atan(t[1])),skewY:t=>zs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Np=t=>(t=t%360,t<0&&(t+=360),t),iS=Op,sS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),LV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sS,scaleY:rS,scale:t=>(sS(t)+rS(t))/2,rotateX:t=>Np(zs(Math.atan2(t[6],t[5]))),rotateY:t=>Np(zs(Math.atan2(-t[2],t[0]))),rotateZ:iS,rotate:iS,skewX:t=>zs(Math.atan(t[4])),skewY:t=>zs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function aS(t){return t.includes("scale")?1:0}function Mp(t,e){if(!t||t==="none")return aS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=LV,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=PV,a=h}if(!a)return aS(e);const u=s[e],c=a[1].split(",").map(VV);return typeof u=="function"?u(c):c[u]}const UV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Mp(n,e)};function VV(t){return parseFloat(t.trim())}const oS=t=>t===ya||t===se,BV=new Set(["x","y","z"]),zV=ga.filter(t=>!BV.has(t));function HV(t){const e=[];return zV.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Mp(e,"x"),y:(t,{transform:e})=>Mp(e,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const js=new Set;let Ip=!1,kp=!1;function qw(){if(kp){const t=Array.from(js).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=HV(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([u,c])=>{var h;(h=s.getValue(u))===null||h===void 0||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}kp=!1,Ip=!1,js.forEach(t=>t.complete()),js.clear()}function Gw(){js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kp=!0)})}function jV(){Gw(),qw()}class wg{constructor(e,n,s,a,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(js.add(this),Ip||(Ip=!0,Pe.read(Gw),Pe.resolveKeyframes(qw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;for(let u=0;u<e.length;u++)if(e[u]===null)if(u===0){const c=a==null?void 0:a.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const d=s.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),a&&c===void 0&&a.set(e[0])}else e[u]=e[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),js.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,js.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qV(t){const e=FV.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Kw(t,e,n=1){const[s,a]=qV(t);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return Yw(c)?parseFloat(c):c}return hg(a)?Kw(a,e,n+1):a}const Ww=t=>e=>e.test(t),GV={test:t=>t==="auto",parse:t=>t},Xw=[ya,se,Pn,Gi,j2,H2,GV],lS=t=>Xw.find(Ww(t));class $w extends wg{constructor(e,n,s,a,u){super(e,n,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),hg(m))){const g=Kw(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Aw.has(s)||e.length!==2)return;const[a,u]=e,c=lS(a),h=lS(u);if(c!==h)if(oS(c)&&oS(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)yV(e[a])&&s.push(a);s.length&&kV(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const u=n.getValue(s);u&&u.jump(this.measuredOrigin,!1);const c=a.length-1,h=a[c];a[c]=oa[s](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,m])=>{n.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const uS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(os.test(t)||t==="0")&&!t.startsWith("url("));function YV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KV(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=uS(a,e),h=uS(u,e);return!c||!h?!1:YV(t)||(n==="spring"||sg(n))&&s}const WV=t=>t!==null;function af(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(WV),u=e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const XV=40;class Qw{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kn.now(),this.options={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:u,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:u,delay:c,onComplete:h,onUpdate:d,isGenerator:m}=this.options;if(!m&&!KV(e,s,a,u))if(c)this.options.duration=0;else{d&&d(af(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Be=(t,e,n)=>t+(e-t)*n;function Fd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $V({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,u=0,c=0;if(!e)a=u=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Fd(d,h,t+1/3),u=Fd(d,h,t),c=Fd(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Ic(t,e){return n=>n>0?e:t}const qd=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},QV=[xp,Bs,Fr],ZV=t=>QV.find(e=>e.test(t));function cS(t){const e=ZV(t);if(!e)return!1;let n=e.parse(t);return e===Fr&&(n=$V(n)),n}const fS=(t,e)=>{const n=cS(t),s=cS(e);if(!n||!s)return Ic(t,e);const a={...n};return u=>(a.red=qd(n.red,s.red,u),a.green=qd(n.green,s.green,u),a.blue=qd(n.blue,s.blue,u),a.alpha=Be(n.alpha,s.alpha,u),Bs.transform(a))},JV=(t,e)=>n=>e(t(n)),Rl=(...t)=>t.reduce(JV),Pp=new Set(["none","hidden"]);function eB(t,e){return Pp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tB(t,e){return n=>Be(t,e,n)}function Ag(t){return typeof t=="number"?tB:typeof t=="string"?hg(t)?Ic:Tt.test(t)?fS:sB:Array.isArray(t)?Zw:typeof t=="object"?Tt.test(t)?fS:nB:Ic}function Zw(t,e){const n=[...t],s=n.length,a=t.map((u,c)=>Ag(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)n[c]=a[c](u);return n}}function nB(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Ag(t[a])(t[a],e[a]));return a=>{for(const u in s)n[u]=s[u](a);return n}}function iB(t,e){var n;const s=[],a={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const c=e.types[u],h=t.indexes[c][a[c]],d=(n=t.values[h])!==null&&n!==void 0?n:0;s[u]=d,a[c]++}return s}const sB=(t,e)=>{const n=os.createTransformer(e),s=ol(t),a=ol(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Pp.has(t)&&!a.values.length||Pp.has(e)&&!s.values.length?eB(t,e):Rl(Zw(iB(s,a),a.values),n):Ic(t,e)};function Jw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Be(t,e,n):Ag(t)(t,e)}const rB=5;function eA(t,e,n){const s=Math.max(e-rB,0);return ew(n-t(s),e-s)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hS=.001;function aB({duration:t=Ge.duration,bounce:e=Ge.bounce,velocity:n=Ge.velocity,mass:s=Ge.mass}){let a,u,c=1-e;c=mi(Ge.minDamping,Ge.maxDamping,c),t=mi(Ge.minDuration,Ge.maxDuration,ci(t)),c<1?(a=m=>{const g=m*c,y=g*t,_=g-n,S=Lp(m,c),T=Math.exp(-y);return hS-_/S*T},u=m=>{const y=m*c*t,_=y*n+n,S=Math.pow(c,2)*Math.pow(m,2)*t,T=Math.exp(-y),w=Lp(Math.pow(m,2),c);return(-a(m)+hS>0?-1:1)*((_-S)*T)/w}):(a=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-.001+g*y},u=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const h=5/t,d=lB(a,u,h);if(t=ui(t),isNaN(d))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const oB=12;function lB(t,e,n){let s=n;for(let a=1;a<oB;a++)s=s-t(s)/e(s);return s}function Lp(t,e){return t*Math.sqrt(1-e*e)}const uB=["duration","bounce"],cB=["stiffness","damping","mass"];function dS(t,e){return e.some(n=>t[n]!==void 0)}function fB(t){let e={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...t};if(!dS(t,cB)&&dS(t,uB))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,u=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ge.mass,stiffness:a,damping:u}}else{const n=aB(t);e={...e,...n,mass:Ge.mass},e.isResolvedFromDuration=!0}return e}function tA(t=Ge.visualDuration,e=Ge.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:u},{stiffness:d,damping:m,mass:g,duration:y,velocity:_,isResolvedFromDuration:S}=fB({...n,velocity:-ci(n.velocity||0)}),T=_||0,w=m/(2*Math.sqrt(d*g)),D=c-u,x=ci(Math.sqrt(d/g)),P=Math.abs(D)<5;s||(s=P?Ge.restSpeed.granular:Ge.restSpeed.default),a||(a=P?Ge.restDelta.granular:Ge.restDelta.default);let k;if(w<1){const B=Lp(x,w);k=G=>{const le=Math.exp(-w*x*G);return c-le*((T+w*x*D)/B*Math.sin(B*G)+D*Math.cos(B*G))}}else if(w===1)k=B=>c-Math.exp(-x*B)*(D+(T+x*D)*B);else{const B=x*Math.sqrt(w*w-1);k=G=>{const le=Math.exp(-w*x*G),X=Math.min(B*G,300);return c-le*((T+w*x*D)*Math.sinh(X)+B*D*Math.cosh(X))/B}}const q={calculatedDuration:S&&y||null,next:B=>{const G=k(B);if(S)h.done=B>=y;else{let le=0;w<1&&(le=B===0?ui(T):eA(k,B,G));const X=Math.abs(le)<=s,F=Math.abs(c-G)<=a;h.done=X&&F}return h.value=h.done?c:G,h},toString:()=>{const B=Math.min(tw(q),Cp),G=nw(le=>q.next(B*le).value,B,30);return B+"ms "+G}};return q}function pS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},S=X=>h!==void 0&&X<h||d!==void 0&&X>d,T=X=>h===void 0?d:d===void 0||Math.abs(h-X)<Math.abs(d-X)?h:d;let w=n*e;const D=y+w,x=c===void 0?D:c(D);x!==D&&(w=x-y);const P=X=>-w*Math.exp(-X/s),k=X=>x+P(X),q=X=>{const F=P(X),te=k(X);_.done=Math.abs(F)<=m,_.value=_.done?x:te};let B,G;const le=X=>{S(_.value)&&(B=X,G=tA({keyframes:[_.value,T(_.value)],velocity:eA(k,X,_.value),damping:a,stiffness:u,restDelta:m,restSpeed:g}))};return le(0),{calculatedDuration:null,next:X=>{let F=!1;return!G&&B===void 0&&(F=!0,q(X),le(X)),B!==void 0&&X>=B?G.next(X-B):(!F&&q(X),_)}}}const hB=Al(.42,0,1,1),dB=Al(0,0,.58,1),nA=Al(.42,0,.58,1),pB=t=>Array.isArray(t)&&typeof t[0]!="number",mB={linear:Kt,easeIn:hB,easeInOut:nA,easeOut:dB,circIn:Tg,circInOut:Pw,circOut:kw,backIn:Sg,backInOut:Mw,backOut:Nw,anticipate:Iw},mS=t=>{if(rg(t)){JC(t.length===4);const[e,n,s,a]=t;return Al(e,n,s,a)}else if(typeof t=="string")return mB[t];return t};function gB(t,e,n){const s=[],a=n||Jw,u=t.length-1;for(let c=0;c<u;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||Kt:e;h=Rl(d,h)}s.push(h)}return s}function yB(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const u=t.length;if(JC(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=gB(e,s,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=ra(t[y],t[y+1],g);return h[y](_)};return n?g=>m(mi(t[0],t[u-1],g)):m}function vB(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ra(0,e,s);t.push(Be(n,1,a))}}function _B(t){const e=[0];return vB(e,t.length-1),e}function EB(t,e){return t.map(n=>n*e)}function SB(t,e){return t.map(()=>e||nA).splice(0,t.length-1)}function kc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=pB(s)?s.map(mS):mS(s),u={done:!1,value:e[0]},c=EB(n&&n.length===e.length?n:_B(e),t),h=yB(c,e,{ease:Array.isArray(a)?a:SB(e,a)});return{calculatedDuration:t,next:d=>(u.value=h(d),u.done=d>=t,u)}}const TB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pe.update(e,!0),stop:()=>as(e),now:()=>gt.isProcessing?gt.timestamp:kn.now()}},bB={decay:pS,inertia:pS,tween:kc,keyframes:kc,spring:tA},CB=t=>t/100;class Rg extends Qw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:s,element:a,keyframes:u}=this.options,c=(a==null?void 0:a.KeyframeResolver)||wg,h=(d,m)=>this.onKeyframesResolved(d,m);this.resolver=new c(u,h,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=this.options,h=sg(n)?n:bB[n]||kc;let d,m;h!==kc&&typeof e[0]!="number"&&(d=Rl(CB,Jw(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});u==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=tw(g));const{calculatedDuration:y}=g,_=y+a,S=_*(s+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:d,calculatedDuration:y,resolvedDuration:_,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:X}=this.options;return{done:!0,value:X[X.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:m,totalDuration:g,resolvedDuration:y}=s;if(this.startTime===null)return u.next(0);const{delay:_,repeat:S,repeatType:T,repeatDelay:w,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-_*(this.speed>=0?1:-1),P=this.speed>=0?x<0:x>g;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let k=this.currentTime,q=u;if(S){const X=Math.min(this.currentTime,g)/y;let F=Math.floor(X),te=X%1;!te&&X>=1&&(te=1),te===1&&F--,F=Math.min(F,S+1),!!(F%2)&&(T==="reverse"?(te=1-te,w&&(te-=w/y)):T==="mirror"&&(q=c)),k=mi(0,1,te)*y}const B=P?{done:!1,value:d[0]}:q.next(k);h&&(B.value=h(B.value));let{done:G}=B;!P&&m!==null&&(G=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const le=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return le&&a!==void 0&&(B.value=af(d,this.options,a)),D&&D(B.value),le&&this.finish(),B}get duration(){const{resolved:e}=this;return e?ci(e.calculatedDuration):0}get time(){return ci(this.currentTime)}set time(e){e=ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=TB,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const wB=new Set(["opacity","clipPath","filter","transform"]);function AB(t,e,n,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:h="easeInOut",times:d}={}){const m={[e]:n};d&&(m.offset=d);const g=sw(h,a);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}const RB=tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pc=10,xB=2e4;function DB(t){return sg(t.type)||t.type==="spring"||!iw(t.ease)}function OB(t,e){const n=new Rg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let u=0;for(;!s.done&&u<xB;)s=n.sample(u),a.push(s.value),u+=Pc;return{times:void 0,keyframes:a,duration:u-Pc,ease:"linear"}}const iA={anticipate:Iw,backInOut:Mw,circInOut:Pw};function NB(t){return t in iA}class gS extends Qw{constructor(e){super(e);const{name:n,motionValue:s,element:a,keyframes:u}=this.options;this.resolver=new $w(u,(c,h)=>this.onKeyframesResolved(c,h),n,s,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:a,ease:u,type:c,motionValue:h,name:d,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof u=="string"&&Nc()&&NB(u)&&(u=iA[u]),DB(this.options)){const{onComplete:y,onUpdate:_,motionValue:S,element:T,...w}=this.options,D=OB(e,w);e=D.keyframes,e.length===1&&(e[1]=e[0]),s=D.duration,a=D.times,u=D.ease,c="keyframes"}const g=AB(h.owner.current,d,e,{...this.options,duration:s,times:a,ease:u});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(jE(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;h.set(af(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:a,type:c,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ci(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ci(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Kt;const{animation:s}=n;jE(s,e)}return Kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:a,type:u,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:y,element:_,...S}=this.options,T=new Rg({...S,keyframes:s,duration:a,type:u,ease:c,times:h,isGenerator:!0}),w=ui(this.time);m.setWithVelocity(T.sample(w-Pc).value,T.sample(w).value,Pc)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:a,repeatType:u,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=n.owner.getProps();return RB()&&s&&wB.has(s)&&!d&&!m&&!a&&u!=="mirror"&&c!==0&&h!=="inertia"}}const MB={type:"spring",stiffness:500,damping:25,restSpeed:10},IB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kB={type:"keyframes",duration:.8},PB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LB=(t,{keyframes:e})=>e.length>2?kB:nr.has(t)?t.startsWith("scale")?IB(e[1]):MB:PB;function UB({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const xg=(t,e,n,s={},a,u)=>c=>{const h=ig(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ui(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:a};UB(h)||(g={...g,...LB(t,g)}),g.duration&&(g.duration=ui(g.duration)),g.repeatDelay&&(g.repeatDelay=ui(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const _=af(g.keyframes,h);if(_!==void 0)return Pe.update(()=>{g.onUpdate(_),g.onComplete()}),new a2([])}return!u&&gS.supports(g)?new gS(g):new Rg(g)};function VB({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function sA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){var u;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...d}=e;s&&(c=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const _=t.getValue(y,(u=t.latestValues[y])!==null&&u!==void 0?u:null),S=d[y];if(S===void 0||g&&VB(g,y))continue;const T={delay:n,...ig(c||{},y)};let w=!1;if(window.MotionHandoffAnimation){const x=Rw(t);if(x){const P=window.MotionHandoffAnimation(x,y,Pe);P!==null&&(T.startTime=P,w=!0)}}Rp(t,y),_.start(xg(y,_,S,t.shouldReduceMotion&&Aw.has(y)?{type:!1}:T,t,w));const D=_.animation;D&&m.push(D)}return h&&Promise.all(m).then(()=>{Pe.update(()=>{h&&hV(t,h)})}),m}function Up(t,e,n={}){var s;const a=al(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(u=n.transitionOverride);const c=a?()=>Promise.all(sA(t,a,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=u;return BB(t,e,g+m,y,_,n)}:()=>Promise.resolve(),{when:d}=u;if(d){const[m,g]=d==="beforeChildren"?[c,h]:[h,c];return m().then(()=>g())}else return Promise.all([c(),h(n.delay)])}function BB(t,e,n=0,s=0,a=1,u){const c=[],h=(t.variantChildren.size-1)*s,d=a===1?(m=0)=>m*s:(m=0)=>h-m*s;return Array.from(t.variantChildren).sort(zB).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(Up(m,e,{...u,delay:n+d(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function zB(t,e){return t.sortNodePosition(e)}function HB(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(u=>Up(t,u,n));s=Promise.all(a)}else if(typeof e=="string")s=Up(t,e,n);else{const a=typeof e=="function"?al(t,e,n.custom):e;s=Promise.all(sA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function rA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const jB=ug.length;function aA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jB;n++){const s=ug[n],a=t.props[s];(il(a)||a===!1)&&(e[s]=a)}return e}const FB=[...lg].reverse(),qB=lg.length;function GB(t){return e=>Promise.all(e.map(({animation:n,options:s})=>HB(t,n,s)))}function YB(t){let e=GB(t),n=yS(),s=!0;const a=d=>(m,g)=>{var y;const _=al(t,g,d==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:S,transitionEnd:T,...w}=_;m={...m,...w,...T}}return m};function u(d){e=d(t)}function c(d){const{props:m}=t,g=aA(t.parent)||{},y=[],_=new Set;let S={},T=1/0;for(let D=0;D<qB;D++){const x=FB[D],P=n[x],k=m[x]!==void 0?m[x]:g[x],q=il(k),B=x===d?P.isActive:null;B===!1&&(T=D);let G=k===g[x]&&k!==m[x]&&q;if(G&&s&&t.manuallyAnimateOnMount&&(G=!1),P.protectedKeys={...S},!P.isActive&&B===null||!k&&!P.prevProp||sf(k)||typeof k=="boolean")continue;const le=KB(P.prevProp,k);let X=le||x===d&&P.isActive&&!G&&q||D>T&&q,F=!1;const te=Array.isArray(k)?k:[k];let He=te.reduce(a(x),{});B===!1&&(He={});const{prevResolvedValues:Wt={}}=P,Xt={...Wt,...He},$t=Z=>{X=!0,_.has(Z)&&(F=!0,_.delete(Z)),P.needsAnimating[Z]=!0;const J=t.getValue(Z);J&&(J.liveStyle=!1)};for(const Z in Xt){const J=He[Z],Ce=Wt[Z];if(S.hasOwnProperty(Z))continue;let C=!1;Ap(J)&&Ap(Ce)?C=!rA(J,Ce):C=J!==Ce,C?J!=null?$t(Z):_.add(Z):J!==void 0&&_.has(Z)?$t(Z):P.protectedKeys[Z]=!0}P.prevProp=k,P.prevResolvedValues=He,P.isActive&&(S={...S,...He}),s&&t.blockInitialAnimation&&(X=!1),X&&(!(G&&le)||F)&&y.push(...te.map(Z=>({animation:Z,options:{type:x}})))}if(_.size){const D={};if(typeof m.initial!="boolean"){const x=al(t,Array.isArray(m.initial)?m.initial[0]:m.initial);x&&x.transition&&(D.transition=x.transition)}_.forEach(x=>{const P=t.getBaseTarget(x),k=t.getValue(x);k&&(k.liveStyle=!0),D[x]=P??null}),y.push({animation:D})}let w=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(y):Promise.resolve()}function h(d,m){var g;if(n[d].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(d,m)}),n[d].isActive=m;const y=c(d);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>n,reset:()=>{n=yS(),s=!0}}}function KB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rA(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yS(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WB extends us{constructor(e){super(e),e.animationState||(e.animationState=YB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let XB=0;class $B extends us{constructor(){super(...arguments),this.id=XB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QB={animation:{Feature:WB},exit:{Feature:$B}};function ll(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function xl(t){return{point:{x:t.pageX,y:t.pageY}}}const ZB=t=>e=>og(e)&&t(e,xl(e));function Bo(t,e,n,s){return ll(t,e,ZB(n),s)}function oA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function JB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function e3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const lA=1e-4,t3=1-lA,n3=1+lA,uA=.01,i3=0-uA,s3=0+uA;function Nt(t){return t.max-t.min}function r3(t,e,n){return Math.abs(t-e)<=n}function vS(t,e,n,s=.5){t.origin=s,t.originPoint=Be(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=t3&&t.scale<=n3||isNaN(t.scale))&&(t.scale=1),(t.translate>=i3&&t.translate<=s3||isNaN(t.translate))&&(t.translate=0)}function zo(t,e,n,s){vS(t.x,e.x,n.x,s?s.originX:void 0),vS(t.y,e.y,n.y,s?s.originY:void 0)}function _S(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function a3(t,e,n){_S(t.x,e.x,n.x),_S(t.y,e.y,n.y)}function ES(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function Ho(t,e,n){ES(t.x,e.x,n.x),ES(t.y,e.y,n.y)}const SS=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:SS(),y:SS()}),TS=()=>({min:0,max:0}),Qe=()=>({x:TS(),y:TS()});function fn(t){return[t("x"),t("y")]}function Gd(t){return t===void 0||t===1}function Vp({scale:t,scaleX:e,scaleY:n}){return!Gd(t)||!Gd(e)||!Gd(n)}function Ps(t){return Vp(t)||cA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cA(t){return bS(t.x)||bS(t.y)}function bS(t){return t&&t!=="0%"}function Lc(t,e,n){const s=t-n,a=e*s;return n+a}function CS(t,e,n,s,a){return a!==void 0&&(t=Lc(t,a,s)),Lc(t,n,s)+e}function Bp(t,e=0,n=1,s,a){t.min=CS(t.min,e,n,s,a),t.max=CS(t.max,e,n,s,a)}function fA(t,{x:e,y:n}){Bp(t.x,e.translate,e.scale,e.originPoint),Bp(t.y,n.translate,n.scale,n.originPoint)}const wS=.999999999999,AS=1.0000000000001;function o3(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let u,c;for(let h=0;h<a;h++){u=n[h],c=u.projectionDelta;const{visualElement:d}=u.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,fA(t,c)),s&&Ps(u.latestValues)&&Yr(t,u.latestValues))}e.x<AS&&e.x>wS&&(e.x=1),e.y<AS&&e.y>wS&&(e.y=1)}function Gr(t,e){t.min=t.min+e,t.max=t.max+e}function RS(t,e,n,s,a=.5){const u=Be(t.min,t.max,a);Bp(t,e,n,u,s)}function Yr(t,e){RS(t.x,e.x,e.scaleX,e.scale,e.originX),RS(t.y,e.y,e.scaleY,e.scale,e.originY)}function hA(t,e){return oA(e3(t.getBoundingClientRect(),e))}function l3(t,e,n){const s=hA(t,n),{scroll:a}=e;return a&&(Gr(s.x,a.offset.x),Gr(s.y,a.offset.y)),s}const dA=({current:t})=>t?t.ownerDocument.defaultView:null,xS=(t,e)=>Math.abs(t-e);function u3(t,e){const n=xS(t.x,e.x),s=xS(t.y,e.y);return Math.sqrt(n**2+s**2)}class pA{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Kd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=u3(y.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:T}=y,{timestamp:w}=gt;this.history.push({...T,timestamp:w});const{onStart:D,onMove:x}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Yd(_,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Kd(y.type==="pointercancel"?this.lastMoveEventInfo:Yd(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,D),T&&T(y,D)},!og(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=xl(e),h=Yd(c,this.transformPagePoint),{point:d}=h,{timestamp:m}=gt;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Kd(h,this.history)),this.removeListeners=Rl(Bo(this.contextWindow,"pointermove",this.handlePointerMove),Bo(this.contextWindow,"pointerup",this.handlePointerUp),Bo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Yd(t,e){return e?{point:e(t.point)}:t}function DS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kd({point:t},e){return{point:t,delta:DS(t,mA(e)),offset:DS(t,c3(e)),velocity:f3(e,.1)}}function c3(t){return t[0]}function mA(t){return t[t.length-1]}function f3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=mA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ui(e)));)n--;if(!s)return{x:0,y:0};const u=ci(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function h3(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Be(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Be(n,t,s.max):Math.min(t,n)),t}function OS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function d3(t,{top:e,left:n,bottom:s,right:a}){return{x:OS(t.x,n,a),y:OS(t.y,e,s)}}function NS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function p3(t,e){return{x:NS(t.x,e.x),y:NS(t.y,e.y)}}function m3(t,e){let n=.5;const s=Nt(t),a=Nt(e);return a>s?n=ra(e.min,e.max-s,t.min):s>a&&(n=ra(t.min,t.max-a,e.min)),mi(0,1,n)}function g3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zp=.35;function y3(t=zp){return t===!1?t=0:t===!0&&(t=zp),{x:MS(t,"left","right"),y:MS(t,"top","bottom")}}function MS(t,e,n){return{min:IS(t,e),max:IS(t,n)}}function IS(t,e){return typeof t=="number"?t:t[e]||0}const v3=new WeakMap;class _3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xl(g).point)},u=(g,y)=>{const{drag:_,dragPropagation:S,onDragStart:T}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h2(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(D=>{let x=this.getAxisMotionValue(D).get()||0;if(Pn.test(x)){const{projection:P}=this.visualElement;if(P&&P.layout){const k=P.layout.layoutBox[D];k&&(x=Nt(k)*(parseFloat(x)/100))}}this.originPoint[D]=x}),T&&Pe.postRender(()=>T(g,y)),Rp(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:T,onDrag:w}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=y;if(S&&this.currentDirection===null){this.currentDirection=E3(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),w&&w(g,y)},h=(g,y)=>this.stop(g,y),d=()=>fn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new pA(e,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:dA(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Pe.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Qu(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=h3(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;n&&jr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=d3(a.layoutBox,n):this.constraints=!1,this.elastic=y3(s),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=g3(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jr(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=l3(s,a.root,this.visualElement.getTransformPagePoint());let c=p3(a.layout.layoutBox,u);if(n){const h=n(JB(c));this.hasMutatedConstraints=!!h,h&&(c=oA(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=fn(g=>{if(!Qu(g,n,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const _=a?200:1e6,S=a?40:1e7,T={type:"inertia",velocity:s?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Rp(this.visualElement,e),s.start(xg(e,s,0,n,this.visualElement,!1))}stopAnimation(){fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){fn(n=>{const{drag:s}=this.getProps();if(!Qu(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];u.set(e[n]-Be(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!jr(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=m3({min:d,max:d},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),fn(c=>{if(!Qu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Be(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;v3.set(this.visualElement,this);const e=this.visualElement.current,n=Bo(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();jr(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pe.read(s);const c=ll(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(fn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=zp,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Qu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function E3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class S3 extends us{constructor(e){super(e),this.removeGroupControls=Kt,this.removeListeners=Kt,this.controls=new _3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const kS=t=>(e,n)=>{t&&Pe.postRender(()=>t(e,n))};class T3 extends us{constructor(){super(...arguments),this.removePointerDownListener=Kt}onPointerDown(e){this.session=new pA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:kS(e),onStart:kS(n),onMove:s,onEnd:(u,c)=>{delete this.session,a&&Pe.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=Bo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=PS(t,e.target.x),s=PS(t,e.target.y);return`${n}% ${s}%`}},b3={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=os.parse(t);if(a.length>5)return s;const u=os.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=Be(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),u(a)}};class C3 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=e;z2(w3),u&&(n.group&&n.group.add(u),s&&s.register&&a&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),oc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:u}=this.props,c=s.projection;return c&&(c.isPresent=u,a||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||Pe.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ag.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gA(t){const[e,n]=n2(),s=O.useContext(QC);return K.jsx(C3,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(dw),isPresent:e,safeToRemove:n})}const w3={borderRadius:{...wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wo,borderTopRightRadius:wo,borderBottomLeftRadius:wo,borderBottomRightRadius:wo,boxShadow:b3};function A3(t,e,n){const s=Ct(t)?t:nl(t);return s.start(xg("",s,e,n)),s.animation}function R3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const x3=(t,e)=>t.depth-e.depth;class D3{constructor(){this.children=[],this.isDirty=!1}add(e){Jm(this.children,e),this.isDirty=!0}remove(e){eg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x3),this.isDirty=!1,this.children.forEach(e)}}function O3(t,e){const n=kn.now(),s=({timestamp:a})=>{const u=a-n;u>=e&&(as(s),t(u-e))};return Pe.read(s,!0),()=>as(s)}const yA=["TopLeft","TopRight","BottomLeft","BottomRight"],N3=yA.length,LS=t=>typeof t=="string"?parseFloat(t):t,US=t=>typeof t=="number"||se.test(t);function M3(t,e,n,s,a,u){a?(t.opacity=Be(0,n.opacity!==void 0?n.opacity:1,I3(s)),t.opacityExit=Be(e.opacity!==void 0?e.opacity:1,0,k3(s))):u&&(t.opacity=Be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<N3;c++){const h=`border${yA[c]}Radius`;let d=VS(e,h),m=VS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||US(d)===US(m)?(t[h]=Math.max(Be(LS(d),LS(m),s),0),(Pn.test(m)||Pn.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,s))}function VS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I3=vA(0,.5,kw),k3=vA(.5,.95,Kt);function vA(t,e,n){return s=>s<t?0:s>e?1:n(ra(t,e,s))}function BS(t,e){t.min=e.min,t.max=e.max}function cn(t,e){BS(t.x,e.x),BS(t.y,e.y)}function zS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HS(t,e,n,s,a){return t-=e,t=Lc(t,1/n,s),a!==void 0&&(t=Lc(t,1/a,s)),t}function P3(t,e=0,n=1,s=.5,a,u=t,c=t){if(Pn.test(e)&&(e=parseFloat(e),e=Be(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Be(u.min,u.max,s);t===u&&(h-=e),t.min=HS(t.min,e,n,h,a),t.max=HS(t.max,e,n,h,a)}function jS(t,e,[n,s,a],u,c){P3(t,e[n],e[s],e[a],e.scale,u,c)}const L3=["x","scaleX","originX"],U3=["y","scaleY","originY"];function FS(t,e,n,s){jS(t.x,e,L3,n?n.x:void 0,s?s.x:void 0),jS(t.y,e,U3,n?n.y:void 0,s?s.y:void 0)}function qS(t){return t.translate===0&&t.scale===1}function _A(t){return qS(t.x)&&qS(t.y)}function GS(t,e){return t.min===e.min&&t.max===e.max}function V3(t,e){return GS(t.x,e.x)&&GS(t.y,e.y)}function YS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EA(t,e){return YS(t.x,e.x)&&YS(t.y,e.y)}function KS(t){return Nt(t.x)/Nt(t.y)}function WS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class B3{constructor(){this.members=[]}add(e){Jm(this.members,e),e.scheduleRender()}remove(e){if(eg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z3(t,e,n){let s="";const a=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:_,skewX:S,skewY:T}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),_&&(s+=`rotateY(${_}deg) `),S&&(s+=`skewX(${S}deg) `),T&&(s+=`skewY(${T}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Wd=["","X","Y","Z"],H3={visibility:"hidden"},XS=1e3;let j3=0;function Xd(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function SA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Rw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(a||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&SA(s)}function TA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=j3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G3),this.nodes.forEach($3),this.nodes.forEach(Q3),this.nodes.forEach(Y3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new D3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ng),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=R3(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||d)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=O3(_,250),oc.hasAnimatedSinceResize&&(oc.hasAnimatedSinceResize=!1,this.nodes.forEach(QS))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||g.getDefaultTransition()||nz,{onLayoutAnimationStart:D,onLayoutAnimationComplete:x}=g.getProps(),P=!this.targetLayout||!EA(this.targetLayout,T),k=!_&&S;if(this.options.layoutRoot||this.resumeFrom||k||_&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const q={...ig(w,"layout"),onPlay:D,onComplete:x};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else _||QS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($S);return}this.isUpdating||this.nodes.forEach(W3),this.isUpdating=!1,this.nodes.forEach(X3),this.nodes.forEach(F3),this.nodes.forEach(q3),this.clearAllSnapshots();const h=kn.now();gt.delta=mi(0,1e3/60,h-gt.timestamp),gt.timestamp=h,gt.isProcessing=!0,zd.update.process(gt),zd.preRender.process(gt),zd.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ag.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K3),this.sharedNodes.forEach(J3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!_A(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||Ps(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),iz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Qe();const d=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(sz))){const{scroll:g}=this.root;g&&(Gr(d.x,g.offset.x),Gr(d.y,g.offset.y))}return d}removeElementScroll(c){var h;const d=Qe();if(cn(d,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&cn(d,c),Gr(d.x,y.offset.x),Gr(d.y,y.offset.y))}return d}applyTransform(c,h=!1){const d=Qe();cn(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Yr(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ps(g.latestValues)&&Yr(d,g.latestValues)}return Ps(this.latestValues)&&Yr(d,this.latestValues),d}removeTransform(c){const h=Qe();cn(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ps(m.latestValues))continue;Vp(m.latestValues)&&m.updateSnapshot();const g=Qe(),y=m.measurePageBox();cn(g,y),FS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ps(this.latestValues)&&FS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ho(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),fA(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ho(this.relativeTargetOrigin,this.target,S.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vp(this.parent.latestValues)||cA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;cn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;o3(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Qe());const{target:T}=h;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zS(this.prevProjectionDelta.x,this.projectionDelta.x),zS(this.prevProjectionDelta.y,this.projectionDelta.y)),zo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!WS(this.projectionDelta.x,this.prevProjectionDelta.x)||!WS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qr(),this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},y=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Qe(),S=d?d.source:void 0,T=this.layout?this.layout.source:void 0,w=S!==T,D=this.getStack(),x=!D||D.members.length<=1,P=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(tz));this.animationProgress=0;let k;this.mixTargetDelta=q=>{const B=q/1e3;ZS(y.x,c.x,B),ZS(y.y,c.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ho(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ez(this.relativeTarget,this.relativeTargetOrigin,_,B),k&&V3(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Qe()),cn(k,this.relativeTarget)),w&&(this.animationValues=g,M3(g,m,this.latestValues,B,P,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{oc.hasAnimatedSinceResize=!0,this.currentAnimation=A3(0,XS,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&bA(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Qe();const y=Nt(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const _=Nt(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}cn(h,d),Yr(h,g),zo(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new B3),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Xd("z",c,m,this.animationValues);for(let g=0;g<Wd.length;g++)Xd(`rotate${Wd[g]}`,c,m,this.animationValues),Xd(`skew${Wd[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return H3;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=ac(c==null?void 0:c.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ac(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ps(this.latestValues)&&(w.transform=g?g({},""):"none",this.hasProjected=!1),w}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=z3(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:S,y:T}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,y.animationValues?m.opacity=y===this?(d=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const w in sl){if(_[w]===void 0)continue;const{correct:D,applyTo:x,isCSSVariable:P}=sl[w],k=m.transform==="none"?_[w]:D(_[w],y);if(x){const q=x.length;for(let B=0;B<q;B++)m[x[B]]=k}else P?this.options.visualElement.renderState.vars[w]=k:m[w]=k}return this.options.layoutId&&(m.pointerEvents=y===this?ac(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach($S),this.root.sharedNodes.clear()}}}function F3(t){t.updateLayout()}function q3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:u}=t.options,c=n.source!==t.layout.source;u==="size"?fn(y=>{const _=c?n.measuredBox[y]:n.layoutBox[y],S=Nt(_);_.min=s[y].min,_.max=_.min+S}):bA(u,n.layoutBox,s)&&fn(y=>{const _=c?n.measuredBox[y]:n.layoutBox[y],S=Nt(s[y]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const h=qr();zo(h,s,n.layoutBox);const d=qr();c?zo(d,t.applyTransform(a,!0),n.measuredBox):zo(d,s,n.layoutBox);const m=!_A(h);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:S}=y;if(_&&S){const T=Qe();Ho(T,n.layoutBox,_.layoutBox);const w=Qe();Ho(w,s,S.layoutBox),EA(T,w)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=T,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function G3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K3(t){t.clearSnapshot()}function $S(t){t.clearMeasurements()}function W3(t){t.isLayoutDirty=!1}function X3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function QS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $3(t){t.resolveTargetDelta()}function Q3(t){t.calcProjection()}function Z3(t){t.resetSkewAndRotation()}function J3(t){t.removeLeadSnapshot()}function ZS(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JS(t,e,n,s){t.min=Be(e.min,n.min,s),t.max=Be(e.max,n.max,s)}function ez(t,e,n,s){JS(t.x,e.x,n.x,s),JS(t.y,e.y,n.y,s)}function tz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nz={duration:.45,ease:[.4,0,.1,1]},eT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tT=eT("applewebkit/")&&!eT("chrome/")?Math.round:Kt;function nT(t){t.min=tT(t.min),t.max=tT(t.max)}function iz(t){nT(t.x),nT(t.y)}function bA(t,e,n){return t==="position"||t==="preserve-aspect"&&!r3(KS(e),KS(n),.2)}function sz(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const rz=TA({attachResizeListener:(t,e)=>ll(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$d={current:void 0},CA=TA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$d.current){const t=new rz({});t.mount(window),t.setOptions({layoutScroll:!0}),$d.current=t}return $d.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),az={pan:{Feature:T3},drag:{Feature:S3,ProjectionNode:CA,MeasureLayout:gA}};function iT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,u=s[a];u&&Pe.postRender(()=>u(e,xl(e)))}class oz extends us{mount(){const{current:e}=this.node;e&&(this.unmount=p2(e,(n,s)=>(iT(this.node,s,"Start"),a=>iT(this.node,a,"End"))))}unmount(){}}class lz extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rl(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),u=s[a];u&&Pe.postRender(()=>u(e,xl(e)))}class uz extends us{mount(){const{current:e}=this.node;e&&(this.unmount=v2(e,(n,s)=>(sT(this.node,s,"Start"),(a,{success:u})=>sT(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hp=new WeakMap,Qd=new WeakMap,cz=t=>{const e=Hp.get(t.target);e&&e(t)},fz=t=>{t.forEach(cz)};function hz({root:t,...e}){const n=t||document;Qd.has(n)||Qd.set(n,{});const s=Qd.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(fz,{root:t,...e})),s[a]}function dz(t,e,n){const s=hz(e);return Hp.set(t,n),s.observe(t),()=>{Hp.delete(t),s.unobserve(t)}}const pz={some:0,all:1};class mz extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:pz[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=m?g:y;_&&_(d)};return dz(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gz(e,n))&&this.startObserver()}unmount(){}}function gz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yz={inView:{Feature:mz},tap:{Feature:uz},focus:{Feature:lz},hover:{Feature:oz}},vz={layout:{ProjectionNode:CA,MeasureLayout:gA}},jp={current:null},wA={current:!1};function _z(){if(wA.current=!0,!!Qm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jp.current=t.matches;t.addListener(e),e()}else jp.current=!1}const Ez=[...Xw,Tt,os],Sz=t=>Ez.find(Ww(t)),Tz=new WeakMap;function bz(t,e,n){for(const s in e){const a=e[s],u=n[s];if(Ct(a))t.addValue(s,a);else if(Ct(u))t.addValue(s,nl(a,{owner:t}));else if(u!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,nl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const rT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cz{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=kn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Pe.render(this.render,!1,!0))};const{latestValues:d,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!u,this.isControllingVariants=rf(n),this.isVariantNode=fw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const T=_[S];d[S]!==void 0&&Ct(T)&&T.set(d[S],!1)}}mount(e){this.current=e,Tz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),wA.current||_z(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=nr.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aa){const n=aa[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<rT.length;s++){const a=rT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=e[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=bz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=nl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(Yw(a)||Lw(a))?a=parseFloat(a):!Sz(a)&&os.test(n)&&(a=Fw(e,n)),this.setBaseTarget(e,Ct(a)?a.get():a)),Ct(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=_g(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[e])}if(s&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!Ct(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ng),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class AA extends Cz{constructor(){super(...arguments),this.KeyframeResolver=$w}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wz(t){return window.getComputedStyle(t)}class Az extends AA{constructor(){super(...arguments),this.type="html",this.renderInstance=Tw}readValueFromInstance(e,n){if(nr.has(n))return UV(e,n);{const s=wz(e),a=(fg(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hA(e,n)}build(e,n,s){pg(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Eg(e,n,s)}}class Rz extends AA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Sw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nr.has(n)){const s=jw(n);return s&&s.default||0}return n=bw.has(n)?n:cg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ww(e,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Pe.postRender(this.updateDimensions)}build(e,n,s){yg(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){Cw(e,n,s,a)}mount(e){this.isSVGTag=vg(e.tagName),super.mount(e)}}const xz=(t,e)=>gg(t)?new Rz(e):new Az(e,{allowProjection:t!==O.Fragment}),Dz=cV({...QB,...yz,...az,...vz},xz),jo=A2(Dz);function Oz(){const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,u]=O.useState(""),c=fl(),h=async()=>{u("");try{await sM(bt,t,n),c("/chat")}catch(d){u(d.message)}};return K.jsx(jo.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center min-h-screen bg-gray-100",children:K.jsxs("div",{className:"form-container p-8 bg-white rounded-lg shadow-lg w-full max-w-sm",children:[K.jsx("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Login"}),K.jsx("input",{className:"logininputs p-2 border border-gray-300 rounded-md w-full",type:"email",placeholder:"Email",value:t,onChange:d=>e(d.target.value)}),K.jsx("input",{className:"logininputs p-2 border border-gray-300 rounded-md mt-4 w-full",type:"password",placeholder:"Password",value:n,onChange:d=>s(d.target.value)}),a&&K.jsx("p",{className:"text-red-500 text-sm mt-2",children:a}),K.jsx("button",{className:"loginbuttons p-2 bg-blue-500 text-white rounded-md w-full mt-4 hover:bg-blue-600",onClick:h,children:"Login"}),K.jsxs("p",{className:"mt-4 text-center",children:["Don't have an account?"," ",K.jsx("a",{href:"/sign",className:"text-blue-500 hover:underline",children:"Sign up"})]})]})})}function Nz(){const[t,e]=O.useState([]),[n,s]=O.useState(""),[a,u]=O.useState({}),[c,h]=O.useState({}),d=fl(),m=O.useRef(null);O.useEffect(()=>{const T=Us(Vs,"messages"),w=LE(T,P=>{if(P.exists()){const k=P.val(),q=Object.entries(k).map(([B,G])=>({id:B,...G}));e(q)}else e([])}),D=Us(Vs,"users"),x=LE(D,P=>{const k=P.val(),q={},B={};for(const G in k)k[G].username&&(q[G]=k[G].username),k[G].profilePic&&(B[G]=k[G].profilePic);u(q),h(B)});return()=>{w(),x()}},[]),O.useEffect(()=>{var T;(T=m.current)==null||T.scrollIntoView({behavior:"smooth"})},[t]);const g=async()=>{if(n.trim()){if(!bt.currentUser){alert("로그인 후 메시지를 보낼 수 있습니다."),d("/login");return}const T=Us(Vs,"messages");try{await CL(T,{text:n,uid:bt.currentUser.uid,timestamp:Date.now()}),s("")}catch(w){console.error("메시지 전송 실패:",w),alert("메시지 전송에 실패했습니다. 다시 시도해주세요.")}}},y=async T=>{var x;const w=Us(Vs,`messages/${T}`),D=await IC(w);D.exists()&&(D.val().uid===((x=bt.currentUser)==null?void 0:x.uid)?await wL(w):alert("자신의 메시지만 삭제할 수 있습니다."))},_=(T,w)=>{var D;T.preventDefault(),(D=bt.currentUser)!=null&&D.uid&&window.confirm("이 메시지를 삭제하시겠습니까?")&&y(w)},S=T=>{const w=new Date(T),D=w.getHours().toString().padStart(2,"0"),x=w.getMinutes().toString().padStart(2,"0");return`${D}:${x}`};return K.jsxs(jo.div,{initial:{opacity:0},animate:{opacity:1},className:"app-container",children:[K.jsxs("div",{className:"navbar",children:[K.jsx("h2",{children:"채팅방"}),K.jsxs("div",{className:"menu",children:[K.jsx("button",{onClick:()=>d("/profile"),children:"Profile"}),K.jsx("button",{onClick:()=>bt.signOut().then(()=>d("/login")),children:"Logout"})]})]}),K.jsxs("div",{className:"chat-container",children:[K.jsxs("div",{className:"chat-messages",children:[t.map(T=>{var w;return K.jsxs(jo.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:`message ${T.uid===((w=bt.currentUser)==null?void 0:w.uid)?"my-message":"other-message"}`,onContextMenu:D=>_(D,T.id),children:[K.jsx("img",{src:c[T.uid]||"/default-profile.png",alt:"profile",className:"message-profile-pic"}),K.jsxs("div",{className:"message-content",children:[K.jsx("p",{className:"message-nickname",children:a[T.uid]||"Unknown"}),K.jsx("p",{className:"message-text",children:T.text}),K.jsx("span",{className:"message-time",children:S(T.timestamp)})]})]},T.id)}),K.jsx("div",{ref:m})]}),K.jsxs("div",{className:"input-area",children:[K.jsx("input",{type:"text",placeholder:"메시지를 입력하세요...",value:n,onChange:T=>s(T.target.value)}),K.jsx(jo.button,{whileTap:{scale:.9},onClick:g,className:"send-button",children:"전송"})]})]})]})}function Mz(){const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,u]=O.useState(null),[c,h]=O.useState(""),[d,m]=O.useState(null),[g,y]=O.useState(!1),[_,S]=O.useState(!1),[T,w]=O.useState(!1),D=fl();O.useEffect(()=>{(async()=>{if(bt.currentUser){const le=Us(Vs,`users/${bt.currentUser.uid}`),X=await IC(le);if(X.exists()){const F=X.val();h(F.nickname),m(F.profilePic)}}})()},[]);const x=G=>{e(G.target.value),y(G.target.value!==c)},P=G=>{s(G.target.value),S(G.target.value.length>0)},k=G=>{if(G.target.files){const le=G.target.files[0];u(le),w(!0)}},q=async()=>{if(bt.currentUser)try{const G={};if(g&&t&&(G[`users/${bt.currentUser.uid}/username`]=t),_&&n&&await rM(bt.currentUser,n),T&&a){const le=KU(JU,`profilePic/${bt.currentUser.uid}`);await GU(le,a);const X=await YU(le);G[`users/${bt.currentUser.uid}/profilePic`]=X}Object.keys(G).length>0?(await AL(Us(Vs),G),alert("프로필이 업데이트되었습니다.")):alert("변경된 내용이 없습니다.")}catch(G){console.error("프로필 업데이트 실패:",G),alert("프로필 업데이트에 실패했습니다. 다시 시도해주세요.")}},B=()=>{bt.signOut().then(()=>{D("/login")})};return K.jsxs("div",{className:"app-container",children:[K.jsxs("div",{className:"navbar",children:[K.jsx("h2",{children:"내 프로필"}),K.jsx("button",{onClick:B,children:"로그아웃"})]}),K.jsx("div",{className:"profile-container",children:K.jsxs("div",{className:"profile-card",children:[K.jsxs("div",{className:"profile-picture",children:[K.jsx("img",{src:d||"https://th.bing.com/th/id/OIP.g6zUPoJVK1s0IIF78rcUBgHaHU?rs=1&pid=ImgDetMain",alt:"profile",className:"profile-img"}),K.jsx("input",{type:"file",onChange:k})]}),K.jsxs("div",{className:"profile-field",children:[K.jsx("label",{children:"닉네임"}),K.jsxs("div",{className:"nickname-container",children:[K.jsx("input",{type:"text",value:t||c,onChange:x,placeholder:"닉네임을 입력하세요"}),K.jsx("span",{className:g?"changed":"unchanged",children:g?"변경 되는 중":"변경되지 않음"})]})]}),K.jsxs("div",{className:"profile-field",children:[K.jsx("label",{children:"비밀번호"}),K.jsx("input",{type:"password",value:n,onChange:P,placeholder:"새 비밀번호"}),K.jsx("span",{className:_?"changed":"unchanged",children:_?"변경하는 중":"변경되지 않음"})]}),K.jsx("button",{onClick:q,className:"save-button",children:"저장"})]})})]})}function Iz(){const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,u]=O.useState(""),[c,h]=O.useState(""),d=fl(),m=async g=>{g.preventDefault(),h("");try{const _=(await iM(bt,t,n)).user;await qm(Us(Vs,"users/"+_.uid),{username:a,profilePic:"https://th.bing.com/th/id/OIP.g6zUPoJVK1s0IIF78rcUBgHaHU?rs=1&pid=ImgDetMain"}),alert("회원가입 성공!"),d("/login")}catch(y){h(y.message)}};return K.jsx(jo.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-screen",children:K.jsxs("div",{className:"form-container p-8 bg-white rounded-lg shadow-lg",children:[K.jsxs("form",{onSubmit:m,children:[K.jsx("input",{className:"p-2 border rounded-md",type:"email",placeholder:"Email",value:t,onChange:g=>e(g.target.value),required:!0}),K.jsx("input",{className:"p-2 border rounded-md mt-2",type:"password",placeholder:"Password",value:n,onChange:g=>s(g.target.value),required:!0}),K.jsx("input",{className:"p-2 border rounded-md mt-2",type:"text",placeholder:"Username",value:a,onChange:g=>u(g.target.value),required:!0}),c&&K.jsx("p",{className:"text-red-500",children:c}),K.jsx("button",{type:"submit",className:"p-2 bg-green-500 text-white rounded-md mt-2",children:"Sign Up"})]}),K.jsxs("p",{className:"mt-2",children:["Already have an account?"," ",K.jsx("a",{href:"/login",className:"text-blue-500 hover:underline",children:"Login here"})]})]})})}function kz(){return K.jsx(yD,{children:K.jsxs(Wx,{children:[K.jsx(Ao,{path:"/login",element:K.jsx(Oz,{})}),K.jsx(Ao,{path:"/chat",element:K.jsx(Nz,{})}),K.jsx(Ao,{path:"/profile",element:K.jsx(Mz,{})}),K.jsx(Ao,{path:"/sign",element:K.jsx(Iz,{})})]})})}sx.createRoot(document.getElementById("root")).render(K.jsx(O.StrictMode,{children:K.jsx(kz,{})}));
